
target/mos：     文件格式 elf32-tradlittlemips
target/mos


Disassembly of section .tlb_miss_entry:

80000000 <tlb_miss_entry>:
tlb_miss_entry():
/home/git/21371068/kern/entry.S:6
#include <asm/asm.h>
#include <stackframe.h>

.section .text.tlb_miss_entry
tlb_miss_entry:
	j       exc_gen_entry
80000000:	08000020 	j	80000080 <exc_gen_entry>
80000004:	00000000 	nop

Disassembly of section .exc_gen_entry:

80000080 <exc_gen_entry>:
exc_gen_entry():
/home/git/21371068/kern/entry.S:10

.section .text.exc_gen_entry
exc_gen_entry:
	SAVE_ALL
80000080:	03a0d025 	move	k0,sp
80000084:	07a00002 	bltz	sp,80000090 <exc_gen_entry+0x10>
80000088:	00000000 	nop
8000008c:	3c1d8040 	lui	sp,0x8040
80000090:	27bdff68 	addiu	sp,sp,-152
80000094:	afba0074 	sw	k0,116(sp)
80000098:	401a6000 	mfc0	k0,c0_sr
8000009c:	afba0080 	sw	k0,128(sp)
800000a0:	401a6800 	mfc0	k0,c0_cause
800000a4:	afba0090 	sw	k0,144(sp)
800000a8:	401a7000 	mfc0	k0,c0_epc
800000ac:	afba0094 	sw	k0,148(sp)
800000b0:	401a4000 	mfc0	k0,c0_badvaddr
800000b4:	afba008c 	sw	k0,140(sp)
800000b8:	0000d010 	mfhi	k0
800000bc:	afba0084 	sw	k0,132(sp)
800000c0:	0000d012 	mflo	k0
800000c4:	afba0088 	sw	k0,136(sp)
800000c8:	afa00000 	sw	zero,0(sp)
800000cc:	afa10004 	sw	at,4(sp)
800000d0:	afa20008 	sw	v0,8(sp)
800000d4:	afa3000c 	sw	v1,12(sp)
800000d8:	afa40010 	sw	a0,16(sp)
800000dc:	afa50014 	sw	a1,20(sp)
800000e0:	afa60018 	sw	a2,24(sp)
800000e4:	afa7001c 	sw	a3,28(sp)
800000e8:	afa80020 	sw	t0,32(sp)
800000ec:	afa90024 	sw	t1,36(sp)
800000f0:	afaa0028 	sw	t2,40(sp)
800000f4:	afab002c 	sw	t3,44(sp)
800000f8:	afac0030 	sw	t4,48(sp)
800000fc:	afad0034 	sw	t5,52(sp)
80000100:	afae0038 	sw	t6,56(sp)
80000104:	afaf003c 	sw	t7,60(sp)
80000108:	afb00040 	sw	s0,64(sp)
8000010c:	afb10044 	sw	s1,68(sp)
80000110:	afb20048 	sw	s2,72(sp)
80000114:	afb3004c 	sw	s3,76(sp)
80000118:	afb40050 	sw	s4,80(sp)
8000011c:	afb50054 	sw	s5,84(sp)
80000120:	afb60058 	sw	s6,88(sp)
80000124:	afb7005c 	sw	s7,92(sp)
80000128:	afb80060 	sw	t8,96(sp)
8000012c:	afb90064 	sw	t9,100(sp)
80000130:	afba0068 	sw	k0,104(sp)
80000134:	afbb006c 	sw	k1,108(sp)
80000138:	afbc0070 	sw	gp,112(sp)
8000013c:	afbe0078 	sw	s8,120(sp)
80000140:	afbf007c 	sw	ra,124(sp)
/home/git/21371068/kern/entry.S:12
/* Exercise 3.9: Your code here. */
	mfc0 t0, CP0_CAUSE
80000144:	40086800 	mfc0	t0,c0_cause
80000148:	00000000 	nop
/home/git/21371068/kern/entry.S:13
	andi t0, 0x7c
8000014c:	3108007c 	andi	t0,t0,0x7c
/home/git/21371068/kern/entry.S:14
	lw t0, exception_handlers(t0)
80000150:	3c018002 	lui	at,0x8002
80000154:	00280821 	addu	at,at,t0
80000158:	8c289700 	lw	t0,-26880(at)
8000015c:	00000000 	nop
/home/git/21371068/kern/entry.S:15
80000160:	01000008 	jr	t0
80000164:	00000000 	nop

Disassembly of section .text:

80010000 <elf_from>:
elf_from():
/home/git/21371068/lib/elfloader.c:4
#include <elf.h>
#include <pmap.h>

const Elf32_Ehdr *elf_from(const void *binary, size_t size) {
80010000:	27bdfff0 	addiu	sp,sp,-16
80010004:	afbe000c 	sw	s8,12(sp)
80010008:	03a0f025 	move	s8,sp
8001000c:	afc40010 	sw	a0,16(s8)
80010010:	afc50014 	sw	a1,20(s8)
/home/git/21371068/lib/elfloader.c:5
	const Elf32_Ehdr *ehdr = (const Elf32_Ehdr *)binary;
80010014:	8fc20010 	lw	v0,16(s8)
80010018:	00000000 	nop
8001001c:	afc20000 	sw	v0,0(s8)
/home/git/21371068/lib/elfloader.c:6
	if (size >= sizeof(Elf32_Ehdr) && ehdr->e_ident[EI_MAG0] == ELFMAG0 &&
80010020:	8fc20014 	lw	v0,20(s8)
80010024:	00000000 	nop
80010028:	2c420034 	sltiu	v0,v0,52
8001002c:	14400022 	bnez	v0,800100b8 <elf_from+0xb8>
80010030:	00000000 	nop
/home/git/21371068/lib/elfloader.c:6 (discriminator 1)
80010034:	8fc20000 	lw	v0,0(s8)
80010038:	00000000 	nop
8001003c:	90430000 	lbu	v1,0(v0)
80010040:	2402007f 	li	v0,127
80010044:	1462001c 	bne	v1,v0,800100b8 <elf_from+0xb8>
80010048:	00000000 	nop
/home/git/21371068/lib/elfloader.c:7 (discriminator 2)
	    ehdr->e_ident[EI_MAG1] == ELFMAG1 && ehdr->e_ident[EI_MAG2] == ELFMAG2 &&
8001004c:	8fc20000 	lw	v0,0(s8)
80010050:	00000000 	nop
80010054:	90430001 	lbu	v1,1(v0)
/home/git/21371068/lib/elfloader.c:6 (discriminator 2)
	if (size >= sizeof(Elf32_Ehdr) && ehdr->e_ident[EI_MAG0] == ELFMAG0 &&
80010058:	24020045 	li	v0,69
8001005c:	14620016 	bne	v1,v0,800100b8 <elf_from+0xb8>
80010060:	00000000 	nop
/home/git/21371068/lib/elfloader.c:7
	    ehdr->e_ident[EI_MAG1] == ELFMAG1 && ehdr->e_ident[EI_MAG2] == ELFMAG2 &&
80010064:	8fc20000 	lw	v0,0(s8)
80010068:	00000000 	nop
8001006c:	90430002 	lbu	v1,2(v0)
80010070:	2402004c 	li	v0,76
80010074:	14620010 	bne	v1,v0,800100b8 <elf_from+0xb8>
80010078:	00000000 	nop
/home/git/21371068/lib/elfloader.c:8 (discriminator 1)
	    ehdr->e_ident[EI_MAG3] == ELFMAG3 && ehdr->e_type == 2) {
8001007c:	8fc20000 	lw	v0,0(s8)
80010080:	00000000 	nop
80010084:	90430003 	lbu	v1,3(v0)
/home/git/21371068/lib/elfloader.c:7 (discriminator 1)
	    ehdr->e_ident[EI_MAG1] == ELFMAG1 && ehdr->e_ident[EI_MAG2] == ELFMAG2 &&
80010088:	24020046 	li	v0,70
8001008c:	1462000a 	bne	v1,v0,800100b8 <elf_from+0xb8>
80010090:	00000000 	nop
/home/git/21371068/lib/elfloader.c:8
	    ehdr->e_ident[EI_MAG3] == ELFMAG3 && ehdr->e_type == 2) {
80010094:	8fc20000 	lw	v0,0(s8)
80010098:	00000000 	nop
8001009c:	94430010 	lhu	v1,16(v0)
800100a0:	24020002 	li	v0,2
800100a4:	14620004 	bne	v1,v0,800100b8 <elf_from+0xb8>
800100a8:	00000000 	nop
/home/git/21371068/lib/elfloader.c:9
		return ehdr;
800100ac:	8fc20000 	lw	v0,0(s8)
800100b0:	10000002 	b	800100bc <elf_from+0xbc>
800100b4:	00000000 	nop
/home/git/21371068/lib/elfloader.c:11
	}
	return NULL;
800100b8:	00001025 	move	v0,zero
/home/git/21371068/lib/elfloader.c:12
}
800100bc:	03c0e825 	move	sp,s8
800100c0:	8fbe000c 	lw	s8,12(sp)
800100c4:	27bd0010 	addiu	sp,sp,16
800100c8:	03e00008 	jr	ra
800100cc:	00000000 	nop

800100d0 <elf_load_seg>:
elf_load_seg():
/home/git/21371068/lib/elfloader.c:25
 *
 * Post-Condition:
 *   Return 0 if success. Otherwise return < 0.
 *   If success, the entry point of `binary` will be stored in `start`
 */
int elf_load_seg(Elf32_Phdr *ph, const void *bin, elf_mapper_t map_page, void *data) {
800100d0:	27bdffa0 	addiu	sp,sp,-96
800100d4:	afbf005c 	sw	ra,92(sp)
800100d8:	afbe0058 	sw	s8,88(sp)
800100dc:	03a0f025 	move	s8,sp
800100e0:	afc40060 	sw	a0,96(s8)
800100e4:	afc50064 	sw	a1,100(s8)
800100e8:	afc60068 	sw	a2,104(s8)
800100ec:	afc7006c 	sw	a3,108(s8)
/home/git/21371068/lib/elfloader.c:26
	u_long va = ph->p_vaddr;
800100f0:	8fc20060 	lw	v0,96(s8)
800100f4:	00000000 	nop
800100f8:	8c420008 	lw	v0,8(v0)
800100fc:	00000000 	nop
80010100:	afc20020 	sw	v0,32(s8)
/home/git/21371068/lib/elfloader.c:27
	size_t bin_size = ph->p_filesz;
80010104:	8fc20060 	lw	v0,96(s8)
80010108:	00000000 	nop
8001010c:	8c420010 	lw	v0,16(v0)
80010110:	00000000 	nop
80010114:	afc20024 	sw	v0,36(s8)
/home/git/21371068/lib/elfloader.c:28
	size_t sgsize = ph->p_memsz;
80010118:	8fc20060 	lw	v0,96(s8)
8001011c:	00000000 	nop
80010120:	8c420014 	lw	v0,20(v0)
80010124:	00000000 	nop
80010128:	afc20028 	sw	v0,40(s8)
/home/git/21371068/lib/elfloader.c:29
	u_int perm = PTE_V;
8001012c:	24020200 	li	v0,512
80010130:	afc20018 	sw	v0,24(s8)
/home/git/21371068/lib/elfloader.c:30
	if (ph->p_flags & PF_W) {
80010134:	8fc20060 	lw	v0,96(s8)
80010138:	00000000 	nop
8001013c:	8c420018 	lw	v0,24(v0)
80010140:	00000000 	nop
80010144:	30420002 	andi	v0,v0,0x2
80010148:	10400005 	beqz	v0,80010160 <elf_load_seg+0x90>
8001014c:	00000000 	nop
/home/git/21371068/lib/elfloader.c:31
		perm |= PTE_D;
80010150:	8fc20018 	lw	v0,24(s8)
80010154:	00000000 	nop
80010158:	34420400 	ori	v0,v0,0x400
8001015c:	afc20018 	sw	v0,24(s8)
/home/git/21371068/lib/elfloader.c:36
	}

	int r;
	size_t i;
	u_long offset = va - ROUNDDOWN(va, BY2PG);
80010160:	8fc20020 	lw	v0,32(s8)
80010164:	00000000 	nop
80010168:	30420fff 	andi	v0,v0,0xfff
8001016c:	afc2002c 	sw	v0,44(s8)
/home/git/21371068/lib/elfloader.c:37
	if (offset != 0) {
80010170:	8fc2002c 	lw	v0,44(s8)
80010174:	00000000 	nop
80010178:	10400023 	beqz	v0,80010208 <elf_load_seg+0x138>
8001017c:	00000000 	nop
/home/git/21371068/lib/elfloader.c:38
		if ((r = map_page(data, va, offset, perm, bin, MIN(bin_size, BY2PG - offset))) !=
80010180:	8fc20024 	lw	v0,36(s8)
80010184:	00000000 	nop
80010188:	afc20030 	sw	v0,48(s8)
8001018c:	24031000 	li	v1,4096
80010190:	8fc2002c 	lw	v0,44(s8)
80010194:	00000000 	nop
80010198:	00621023 	subu	v0,v1,v0
8001019c:	afc20034 	sw	v0,52(s8)
800101a0:	8fc30034 	lw	v1,52(s8)
800101a4:	8fc20030 	lw	v0,48(s8)
800101a8:	00000000 	nop
800101ac:	0062202b 	sltu	a0,v1,v0
800101b0:	10800002 	beqz	a0,800101bc <elf_load_seg+0xec>
800101b4:	00000000 	nop
800101b8:	00601025 	move	v0,v1
800101bc:	afa20014 	sw	v0,20(sp)
800101c0:	8fc20064 	lw	v0,100(s8)
800101c4:	00000000 	nop
800101c8:	afa20010 	sw	v0,16(sp)
800101cc:	8fc20068 	lw	v0,104(s8)
800101d0:	8fc70018 	lw	a3,24(s8)
800101d4:	8fc6002c 	lw	a2,44(s8)
800101d8:	8fc50020 	lw	a1,32(s8)
800101dc:	8fc4006c 	lw	a0,108(s8)
800101e0:	0040f809 	jalr	v0
800101e4:	00000000 	nop
800101e8:	afc20038 	sw	v0,56(s8)
800101ec:	8fc20038 	lw	v0,56(s8)
800101f0:	00000000 	nop
800101f4:	10400004 	beqz	v0,80010208 <elf_load_seg+0x138>
800101f8:	00000000 	nop
/home/git/21371068/lib/elfloader.c:40
		    0) {
			return r;
800101fc:	8fc20038 	lw	v0,56(s8)
80010200:	1000007a 	b	800103ec <elf_load_seg+0x31c>
80010204:	00000000 	nop
/home/git/21371068/lib/elfloader.c:45
		}
	}

	/* Step 1: load all content of bin into memory. */
	for (i = offset ? MIN(bin_size, BY2PG - offset) : 0; i < bin_size; i += BY2PG) {
80010208:	8fc2002c 	lw	v0,44(s8)
8001020c:	00000000 	nop
80010210:	10400012 	beqz	v0,8001025c <elf_load_seg+0x18c>
80010214:	00000000 	nop
/home/git/21371068/lib/elfloader.c:45 (discriminator 1)
80010218:	8fc20024 	lw	v0,36(s8)
8001021c:	00000000 	nop
80010220:	afc2003c 	sw	v0,60(s8)
80010224:	24031000 	li	v1,4096
80010228:	8fc2002c 	lw	v0,44(s8)
8001022c:	00000000 	nop
80010230:	00621023 	subu	v0,v1,v0
80010234:	afc20040 	sw	v0,64(s8)
80010238:	8fc30040 	lw	v1,64(s8)
8001023c:	8fc2003c 	lw	v0,60(s8)
80010240:	00000000 	nop
80010244:	0062202b 	sltu	a0,v1,v0
80010248:	10800005 	beqz	a0,80010260 <elf_load_seg+0x190>
8001024c:	00000000 	nop
80010250:	00601025 	move	v0,v1
80010254:	10000002 	b	80010260 <elf_load_seg+0x190>
80010258:	00000000 	nop
/home/git/21371068/lib/elfloader.c:45 (discriminator 2)
8001025c:	00001025 	move	v0,zero
/home/git/21371068/lib/elfloader.c:45 (discriminator 4)
80010260:	afc2001c 	sw	v0,28(s8)
80010264:	1000002c 	b	80010318 <elf_load_seg+0x248>
80010268:	00000000 	nop
/home/git/21371068/lib/elfloader.c:46
		if ((r = map_page(data, va + i, 0, perm, bin + i, MIN(bin_size - i, BY2PG))) != 0) {
8001026c:	8fc30020 	lw	v1,32(s8)
80010270:	8fc2001c 	lw	v0,28(s8)
80010274:	00000000 	nop
80010278:	00624021 	addu	t0,v1,v0
8001027c:	8fc30064 	lw	v1,100(s8)
80010280:	8fc2001c 	lw	v0,28(s8)
80010284:	00000000 	nop
80010288:	00622021 	addu	a0,v1,v0
8001028c:	8fc30024 	lw	v1,36(s8)
80010290:	8fc2001c 	lw	v0,28(s8)
80010294:	00000000 	nop
80010298:	00621023 	subu	v0,v1,v0
8001029c:	afc2004c 	sw	v0,76(s8)
800102a0:	24021000 	li	v0,4096
800102a4:	afc20050 	sw	v0,80(s8)
800102a8:	8fc30050 	lw	v1,80(s8)
800102ac:	8fc2004c 	lw	v0,76(s8)
800102b0:	00000000 	nop
800102b4:	0062282b 	sltu	a1,v1,v0
800102b8:	10a00002 	beqz	a1,800102c4 <elf_load_seg+0x1f4>
800102bc:	00000000 	nop
800102c0:	00601025 	move	v0,v1
800102c4:	afa20014 	sw	v0,20(sp)
800102c8:	afa40010 	sw	a0,16(sp)
800102cc:	8fc20068 	lw	v0,104(s8)
800102d0:	8fc70018 	lw	a3,24(s8)
800102d4:	00003025 	move	a2,zero
800102d8:	01002825 	move	a1,t0
800102dc:	8fc4006c 	lw	a0,108(s8)
800102e0:	0040f809 	jalr	v0
800102e4:	00000000 	nop
800102e8:	afc20038 	sw	v0,56(s8)
800102ec:	8fc20038 	lw	v0,56(s8)
800102f0:	00000000 	nop
800102f4:	10400004 	beqz	v0,80010308 <elf_load_seg+0x238>
800102f8:	00000000 	nop
/home/git/21371068/lib/elfloader.c:47
			return r;
800102fc:	8fc20038 	lw	v0,56(s8)
80010300:	1000003a 	b	800103ec <elf_load_seg+0x31c>
80010304:	00000000 	nop
/home/git/21371068/lib/elfloader.c:45 (discriminator 6)
	for (i = offset ? MIN(bin_size, BY2PG - offset) : 0; i < bin_size; i += BY2PG) {
80010308:	8fc2001c 	lw	v0,28(s8)
8001030c:	00000000 	nop
80010310:	24421000 	addiu	v0,v0,4096
80010314:	afc2001c 	sw	v0,28(s8)
/home/git/21371068/lib/elfloader.c:45 (discriminator 5)
80010318:	8fc3001c 	lw	v1,28(s8)
8001031c:	8fc20024 	lw	v0,36(s8)
80010320:	00000000 	nop
80010324:	0062102b 	sltu	v0,v1,v0
80010328:	1440ffd0 	bnez	v0,8001026c <elf_load_seg+0x19c>
8001032c:	00000000 	nop
/home/git/21371068/lib/elfloader.c:52
		}
	}

	/* Step 2: alloc pages to reach `sgsize` when `bin_size` < `sgsize`. */
	while (i < sgsize) {
80010330:	10000027 	b	800103d0 <elf_load_seg+0x300>
80010334:	00000000 	nop
/home/git/21371068/lib/elfloader.c:53
		if ((r = map_page(data, va + i, 0, perm, NULL, MIN(bin_size - i, BY2PG))) != 0) {
80010338:	8fc30020 	lw	v1,32(s8)
8001033c:	8fc2001c 	lw	v0,28(s8)
80010340:	00000000 	nop
80010344:	00622821 	addu	a1,v1,v0
80010348:	8fc30024 	lw	v1,36(s8)
8001034c:	8fc2001c 	lw	v0,28(s8)
80010350:	00000000 	nop
80010354:	00621023 	subu	v0,v1,v0
80010358:	afc20044 	sw	v0,68(s8)
8001035c:	24021000 	li	v0,4096
80010360:	afc20048 	sw	v0,72(s8)
80010364:	8fc30048 	lw	v1,72(s8)
80010368:	8fc20044 	lw	v0,68(s8)
8001036c:	00000000 	nop
80010370:	0062202b 	sltu	a0,v1,v0
80010374:	10800002 	beqz	a0,80010380 <elf_load_seg+0x2b0>
80010378:	00000000 	nop
8001037c:	00601025 	move	v0,v1
80010380:	afa20014 	sw	v0,20(sp)
80010384:	afa00010 	sw	zero,16(sp)
80010388:	8fc20068 	lw	v0,104(s8)
8001038c:	8fc70018 	lw	a3,24(s8)
80010390:	00003025 	move	a2,zero
80010394:	8fc4006c 	lw	a0,108(s8)
80010398:	0040f809 	jalr	v0
8001039c:	00000000 	nop
800103a0:	afc20038 	sw	v0,56(s8)
800103a4:	8fc20038 	lw	v0,56(s8)
800103a8:	00000000 	nop
800103ac:	10400004 	beqz	v0,800103c0 <elf_load_seg+0x2f0>
800103b0:	00000000 	nop
/home/git/21371068/lib/elfloader.c:54
			return r;
800103b4:	8fc20038 	lw	v0,56(s8)
800103b8:	1000000c 	b	800103ec <elf_load_seg+0x31c>
800103bc:	00000000 	nop
/home/git/21371068/lib/elfloader.c:56
		}
		i += BY2PG;
800103c0:	8fc2001c 	lw	v0,28(s8)
800103c4:	00000000 	nop
800103c8:	24421000 	addiu	v0,v0,4096
800103cc:	afc2001c 	sw	v0,28(s8)
/home/git/21371068/lib/elfloader.c:52
	while (i < sgsize) {
800103d0:	8fc3001c 	lw	v1,28(s8)
800103d4:	8fc20028 	lw	v0,40(s8)
800103d8:	00000000 	nop
800103dc:	0062102b 	sltu	v0,v1,v0
800103e0:	1440ffd5 	bnez	v0,80010338 <elf_load_seg+0x268>
800103e4:	00000000 	nop
/home/git/21371068/lib/elfloader.c:58
	}
	return 0;
800103e8:	00001025 	move	v0,zero
/home/git/21371068/lib/elfloader.c:59
}
800103ec:	03c0e825 	move	sp,s8
800103f0:	8fbf005c 	lw	ra,92(sp)
800103f4:	8fbe0058 	lw	s8,88(sp)
800103f8:	27bd0060 	addiu	sp,sp,96
800103fc:	03e00008 	jr	ra
80010400:	00000000 	nop
	...

80010410 <vprintfmt>:
vprintfmt():
/home/git/21371068/lib/print.c:8
/* forward declaration */
static void print_char(fmt_callback_t, void *, char, int, int);
static void print_str(fmt_callback_t, void *, const char *, int, int);
static void print_num(fmt_callback_t, void *, unsigned long, int, int, int, int, char, int);

void vprintfmt(fmt_callback_t out, void *data, const char *fmt, va_list ap) {
80010410:	27bdffa8 	addiu	sp,sp,-88
80010414:	afbf0054 	sw	ra,84(sp)
80010418:	afbe0050 	sw	s8,80(sp)
8001041c:	03a0f025 	move	s8,sp
80010420:	afc40058 	sw	a0,88(s8)
80010424:	afc5005c 	sw	a1,92(s8)
80010428:	afc60060 	sw	a2,96(s8)
8001042c:	afc70064 	sw	a3,100(s8)
/home/git/21371068/lib/print.c:22
	char padc;     // padding char

	for (;;) {
		/* scan for the next '%' */
		/* Exercise 1.4: Your code here. (1/8) */
		while ((c = *(char *)fmt++) != '%') {
80010430:	1000000d 	b	80010468 <vprintfmt+0x58>
80010434:	00000000 	nop
/home/git/21371068/lib/print.c:25
		/* flush the string found so far */
		/* Exercise 1.4: Your code here. (2/8) */
			print_char(out, data, c, 1, 0);
80010438:	83c20028 	lb	v0,40(s8)
8001043c:	afa00010 	sw	zero,16(sp)
80010440:	24070001 	li	a3,1
80010444:	00403025 	move	a2,v0
80010448:	8fc5005c 	lw	a1,92(s8)
8001044c:	8fc40058 	lw	a0,88(s8)
80010450:	0c0042f7 	jal	80010bdc <print_char>
80010454:	00000000 	nop
/home/git/21371068/lib/print.c:28
		/* check "are we hitting the end?" */
		/* Exercise 1.4: Your code here. (3/8) */
			if (c == '\0') {
80010458:	83c20028 	lb	v0,40(s8)
8001045c:	00000000 	nop
80010460:	104001d7 	beqz	v0,80010bc0 <vprintfmt+0x7b0>
80010464:	00000000 	nop
/home/git/21371068/lib/print.c:22
		while ((c = *(char *)fmt++) != '%') {
80010468:	8fc20060 	lw	v0,96(s8)
8001046c:	00000000 	nop
80010470:	24430001 	addiu	v1,v0,1
80010474:	afc30060 	sw	v1,96(s8)
80010478:	90420000 	lbu	v0,0(v0)
8001047c:	00000000 	nop
80010480:	a3c20028 	sb	v0,40(s8)
80010484:	83c30028 	lb	v1,40(s8)
80010488:	24020025 	li	v0,37
8001048c:	1462ffea 	bne	v1,v0,80010438 <vprintfmt+0x28>
80010490:	00000000 	nop
/home/git/21371068/lib/print.c:34
				return;
			}
		}
		/* we found a '%' */
		/* Exercise 1.4: Your code here. (4/8) */
		ladjust = 0;
80010494:	afc0003c 	sw	zero,60(s8)
/home/git/21371068/lib/print.c:35
		long_flag = 0;
80010498:	afc00034 	sw	zero,52(s8)
/home/git/21371068/lib/print.c:36
		width = 0;
8001049c:	afc00030 	sw	zero,48(s8)
/home/git/21371068/lib/print.c:37
		padc = ' ';
800104a0:	24020020 	li	v0,32
800104a4:	a3c20040 	sb	v0,64(s8)
/home/git/21371068/lib/print.c:40
		/* check format flag */
		/* Exercise 1.4: Your code here. (5/8) */
		c = *(char *)fmt;
800104a8:	8fc20060 	lw	v0,96(s8)
800104ac:	00000000 	nop
800104b0:	90420000 	lbu	v0,0(v0)
800104b4:	00000000 	nop
800104b8:	a3c20028 	sb	v0,40(s8)
/home/git/21371068/lib/print.c:41
		if(c == '-') {
800104bc:	83c30028 	lb	v1,40(s8)
800104c0:	2402002d 	li	v0,45
800104c4:	1462000c 	bne	v1,v0,800104f8 <vprintfmt+0xe8>
800104c8:	00000000 	nop
/home/git/21371068/lib/print.c:42
			ladjust = 1;
800104cc:	24020001 	li	v0,1
800104d0:	afc2003c 	sw	v0,60(s8)
/home/git/21371068/lib/print.c:43
			c = *(char *)++fmt;
800104d4:	8fc20060 	lw	v0,96(s8)
800104d8:	00000000 	nop
800104dc:	24420001 	addiu	v0,v0,1
800104e0:	afc20060 	sw	v0,96(s8)
800104e4:	8fc20060 	lw	v0,96(s8)
800104e8:	00000000 	nop
800104ec:	90420000 	lbu	v0,0(v0)
800104f0:	00000000 	nop
800104f4:	a3c20028 	sb	v0,40(s8)
/home/git/21371068/lib/print.c:45
		}
		if (c == '0') {
800104f8:	83c30028 	lb	v1,40(s8)
800104fc:	24020030 	li	v0,48
80010500:	14620023 	bne	v1,v0,80010590 <vprintfmt+0x180>
80010504:	00000000 	nop
/home/git/21371068/lib/print.c:46
			padc = '0';
80010508:	24020030 	li	v0,48
8001050c:	a3c20040 	sb	v0,64(s8)
/home/git/21371068/lib/print.c:47
			c = *(char *)++fmt;
80010510:	8fc20060 	lw	v0,96(s8)
80010514:	00000000 	nop
80010518:	24420001 	addiu	v0,v0,1
8001051c:	afc20060 	sw	v0,96(s8)
80010520:	8fc20060 	lw	v0,96(s8)
80010524:	00000000 	nop
80010528:	90420000 	lbu	v0,0(v0)
8001052c:	00000000 	nop
80010530:	a3c20028 	sb	v0,40(s8)
/home/git/21371068/lib/print.c:51
		}
		/* get width */
		/* Exercise 1.4: Your code here. (6/8) */
		while ((c >= '0' && c <= '9')) {
80010534:	10000016 	b	80010590 <vprintfmt+0x180>
80010538:	00000000 	nop
/home/git/21371068/lib/print.c:52
			width = 10 * width + c - '0';
8001053c:	8fc30030 	lw	v1,48(s8)
80010540:	00000000 	nop
80010544:	00601025 	move	v0,v1
80010548:	00021080 	sll	v0,v0,0x2
8001054c:	00431021 	addu	v0,v0,v1
80010550:	00021040 	sll	v0,v0,0x1
80010554:	00401825 	move	v1,v0
80010558:	83c20028 	lb	v0,40(s8)
8001055c:	00000000 	nop
80010560:	00621021 	addu	v0,v1,v0
80010564:	2442ffd0 	addiu	v0,v0,-48
80010568:	afc20030 	sw	v0,48(s8)
/home/git/21371068/lib/print.c:53
			c = *(char *)++fmt;
8001056c:	8fc20060 	lw	v0,96(s8)
80010570:	00000000 	nop
80010574:	24420001 	addiu	v0,v0,1
80010578:	afc20060 	sw	v0,96(s8)
8001057c:	8fc20060 	lw	v0,96(s8)
80010580:	00000000 	nop
80010584:	90420000 	lbu	v0,0(v0)
80010588:	00000000 	nop
8001058c:	a3c20028 	sb	v0,40(s8)
/home/git/21371068/lib/print.c:51
		while ((c >= '0' && c <= '9')) {
80010590:	83c20028 	lb	v0,40(s8)
80010594:	00000000 	nop
80010598:	28420030 	slti	v0,v0,48
8001059c:	14400006 	bnez	v0,800105b8 <vprintfmt+0x1a8>
800105a0:	00000000 	nop
/home/git/21371068/lib/print.c:51 (discriminator 1)
800105a4:	83c20028 	lb	v0,40(s8)
800105a8:	00000000 	nop
800105ac:	2842003a 	slti	v0,v0,58
800105b0:	1440ffe2 	bnez	v0,8001053c <vprintfmt+0x12c>
800105b4:	00000000 	nop
/home/git/21371068/lib/print.c:57
		}
		/* check for long */
		/* Exercise 1.4: Your code here. (7/8) */
		if (c == 'l') {
800105b8:	83c30028 	lb	v1,40(s8)
800105bc:	2402006c 	li	v0,108
800105c0:	1462000c 	bne	v1,v0,800105f4 <vprintfmt+0x1e4>
800105c4:	00000000 	nop
/home/git/21371068/lib/print.c:58
			long_flag = 1;
800105c8:	24020001 	li	v0,1
800105cc:	afc20034 	sw	v0,52(s8)
/home/git/21371068/lib/print.c:59
			c = *(char *)++fmt;
800105d0:	8fc20060 	lw	v0,96(s8)
800105d4:	00000000 	nop
800105d8:	24420001 	addiu	v0,v0,1
800105dc:	afc20060 	sw	v0,96(s8)
800105e0:	8fc20060 	lw	v0,96(s8)
800105e4:	00000000 	nop
800105e8:	90420000 	lbu	v0,0(v0)
800105ec:	00000000 	nop
800105f0:	a3c20028 	sb	v0,40(s8)
/home/git/21371068/lib/print.c:61
		}
		neg_flag = 0;
800105f4:	afc00038 	sw	zero,56(s8)
/home/git/21371068/lib/print.c:62
		switch (*fmt) {
800105f8:	8fc20060 	lw	v0,96(s8)
800105fc:	00000000 	nop
80010600:	80420000 	lb	v0,0(v0)
80010604:	00000000 	nop
80010608:	1040015b 	beqz	v0,80010b78 <vprintfmt+0x768>
8001060c:	00000000 	nop
80010610:	0440015f 	bltz	v0,80010b90 <vprintfmt+0x780>
80010614:	00000000 	nop
80010618:	28430079 	slti	v1,v0,121
8001061c:	1060015c 	beqz	v1,80010b90 <vprintfmt+0x780>
80010620:	00000000 	nop
80010624:	28430044 	slti	v1,v0,68
80010628:	14600159 	bnez	v1,80010b90 <vprintfmt+0x780>
8001062c:	00000000 	nop
80010630:	2442ffbc 	addiu	v0,v0,-68
80010634:	2c430035 	sltiu	v1,v0,53
80010638:	10600155 	beqz	v1,80010b90 <vprintfmt+0x780>
8001063c:	00000000 	nop
80010640:	00021880 	sll	v1,v0,0x2
80010644:	3c028002 	lui	v0,0x8002
80010648:	244286b0 	addiu	v0,v0,-31056
8001064c:	00621021 	addu	v0,v1,v0
80010650:	8c420000 	lw	v0,0(v0)
80010654:	00000000 	nop
80010658:	00400008 	jr	v0
8001065c:	00000000 	nop
/home/git/21371068/lib/print.c:64
		case 'b':
			if (long_flag) {
80010660:	8fc20034 	lw	v0,52(s8)
80010664:	00000000 	nop
80010668:	1040000a 	beqz	v0,80010694 <vprintfmt+0x284>
8001066c:	00000000 	nop
/home/git/21371068/lib/print.c:65
				num = va_arg(ap, long int);
80010670:	8fc20064 	lw	v0,100(s8)
80010674:	00000000 	nop
80010678:	24430004 	addiu	v1,v0,4
8001067c:	afc30064 	sw	v1,100(s8)
80010680:	8c420000 	lw	v0,0(v0)
80010684:	00000000 	nop
80010688:	afc2002c 	sw	v0,44(s8)
8001068c:	10000008 	b	800106b0 <vprintfmt+0x2a0>
80010690:	00000000 	nop
/home/git/21371068/lib/print.c:67
			} else {
				num = va_arg(ap, int);
80010694:	8fc20064 	lw	v0,100(s8)
80010698:	00000000 	nop
8001069c:	24430004 	addiu	v1,v0,4
800106a0:	afc30064 	sw	v1,100(s8)
800106a4:	8c420000 	lw	v0,0(v0)
800106a8:	00000000 	nop
800106ac:	afc2002c 	sw	v0,44(s8)
/home/git/21371068/lib/print.c:69
			}
			print_num(out, data, num, 2, 0, width, ladjust, padc, 0);
800106b0:	8fc3002c 	lw	v1,44(s8)
800106b4:	afa00020 	sw	zero,32(sp)
800106b8:	83c20040 	lb	v0,64(s8)
800106bc:	00000000 	nop
800106c0:	afa2001c 	sw	v0,28(sp)
800106c4:	8fc2003c 	lw	v0,60(s8)
800106c8:	00000000 	nop
800106cc:	afa20018 	sw	v0,24(sp)
800106d0:	8fc20030 	lw	v0,48(s8)
800106d4:	00000000 	nop
800106d8:	afa20014 	sw	v0,20(sp)
800106dc:	afa00010 	sw	zero,16(sp)
800106e0:	24070002 	li	a3,2
800106e4:	00603025 	move	a2,v1
800106e8:	8fc5005c 	lw	a1,92(s8)
800106ec:	8fc40058 	lw	a0,88(s8)
800106f0:	0c0043b9 	jal	80010ee4 <print_num>
800106f4:	00000000 	nop
/home/git/21371068/lib/print.c:70
			break;
800106f8:	1000012b 	b	80010ba8 <vprintfmt+0x798>
800106fc:	00000000 	nop
/home/git/21371068/lib/print.c:80
		* Refer to other parts (case 'b', case 'o', etc.) and func 'print_num' to
		* complete this part. Think the differences between case 'd' and the
		* others. (hint: 'neg_flag').
		*/
		/* Exercise 1.4: Your code here. (8/8) */
		if (long_flag) {
80010700:	8fc20034 	lw	v0,52(s8)
80010704:	00000000 	nop
80010708:	1040002b 	beqz	v0,800107b8 <vprintfmt+0x3a8>
8001070c:	00000000 	nop
/home/git/21371068/lib/print.c:81
			num = va_arg(ap, long int);
80010710:	8fc20064 	lw	v0,100(s8)
80010714:	00000000 	nop
80010718:	24430004 	addiu	v1,v0,4
8001071c:	afc30064 	sw	v1,100(s8)
80010720:	8c420000 	lw	v0,0(v0)
80010724:	00000000 	nop
80010728:	afc2002c 	sw	v0,44(s8)
/home/git/21371068/lib/print.c:82
			if (num < 0) {
8001072c:	8fc2002c 	lw	v0,44(s8)
80010730:	00000000 	nop
80010734:	04410009 	bgez	v0,8001075c <vprintfmt+0x34c>
80010738:	00000000 	nop
/home/git/21371068/lib/print.c:83
			neg_flag = 1;
8001073c:	24020001 	li	v0,1
80010740:	afc20038 	sw	v0,56(s8)
/home/git/21371068/lib/print.c:84
			num = -num;
80010744:	8fc2002c 	lw	v0,44(s8)
80010748:	00000000 	nop
8001074c:	00021023 	negu	v0,v0
80010750:	afc2002c 	sw	v0,44(s8)
80010754:	10000002 	b	80010760 <vprintfmt+0x350>
80010758:	00000000 	nop
/home/git/21371068/lib/print.c:86
			} else {
			neg_flag = 0;
8001075c:	afc00038 	sw	zero,56(s8)
/home/git/21371068/lib/print.c:88
			}
			print_num(out, data, num, 10, neg_flag, width, ladjust, padc, 0);
80010760:	8fc3002c 	lw	v1,44(s8)
80010764:	afa00020 	sw	zero,32(sp)
80010768:	83c20040 	lb	v0,64(s8)
8001076c:	00000000 	nop
80010770:	afa2001c 	sw	v0,28(sp)
80010774:	8fc2003c 	lw	v0,60(s8)
80010778:	00000000 	nop
8001077c:	afa20018 	sw	v0,24(sp)
80010780:	8fc20030 	lw	v0,48(s8)
80010784:	00000000 	nop
80010788:	afa20014 	sw	v0,20(sp)
8001078c:	8fc20038 	lw	v0,56(s8)
80010790:	00000000 	nop
80010794:	afa20010 	sw	v0,16(sp)
80010798:	2407000a 	li	a3,10
8001079c:	00603025 	move	a2,v1
800107a0:	8fc5005c 	lw	a1,92(s8)
800107a4:	8fc40058 	lw	a0,88(s8)
800107a8:	0c0043b9 	jal	80010ee4 <print_num>
800107ac:	00000000 	nop
/home/git/21371068/lib/print.c:100
			neg_flag = 0;
			}
			print_num(out, data, snum, 10, neg_flag, width, ladjust, padc, 0);
		}

		break;
800107b0:	100000fd 	b	80010ba8 <vprintfmt+0x798>
800107b4:	00000000 	nop
/home/git/21371068/lib/print.c:90
			int snum = va_arg(ap, int);
800107b8:	8fc20064 	lw	v0,100(s8)
800107bc:	00000000 	nop
800107c0:	24430004 	addiu	v1,v0,4
800107c4:	afc30064 	sw	v1,100(s8)
800107c8:	8c420000 	lw	v0,0(v0)
800107cc:	00000000 	nop
800107d0:	afc20044 	sw	v0,68(s8)
/home/git/21371068/lib/print.c:91
			if (snum < 0) {
800107d4:	8fc20044 	lw	v0,68(s8)
800107d8:	00000000 	nop
800107dc:	04410009 	bgez	v0,80010804 <vprintfmt+0x3f4>
800107e0:	00000000 	nop
/home/git/21371068/lib/print.c:92
			neg_flag = 1;
800107e4:	24020001 	li	v0,1
800107e8:	afc20038 	sw	v0,56(s8)
/home/git/21371068/lib/print.c:93
			snum = -snum;
800107ec:	8fc20044 	lw	v0,68(s8)
800107f0:	00000000 	nop
800107f4:	00021023 	negu	v0,v0
800107f8:	afc20044 	sw	v0,68(s8)
800107fc:	10000002 	b	80010808 <vprintfmt+0x3f8>
80010800:	00000000 	nop
/home/git/21371068/lib/print.c:95
			neg_flag = 0;
80010804:	afc00038 	sw	zero,56(s8)
/home/git/21371068/lib/print.c:97
			print_num(out, data, snum, 10, neg_flag, width, ladjust, padc, 0);
80010808:	8fc30044 	lw	v1,68(s8)
8001080c:	afa00020 	sw	zero,32(sp)
80010810:	83c20040 	lb	v0,64(s8)
80010814:	00000000 	nop
80010818:	afa2001c 	sw	v0,28(sp)
8001081c:	8fc2003c 	lw	v0,60(s8)
80010820:	00000000 	nop
80010824:	afa20018 	sw	v0,24(sp)
80010828:	8fc20030 	lw	v0,48(s8)
8001082c:	00000000 	nop
80010830:	afa20014 	sw	v0,20(sp)
80010834:	8fc20038 	lw	v0,56(s8)
80010838:	00000000 	nop
8001083c:	afa20010 	sw	v0,16(sp)
80010840:	2407000a 	li	a3,10
80010844:	00603025 	move	a2,v1
80010848:	8fc5005c 	lw	a1,92(s8)
8001084c:	8fc40058 	lw	a0,88(s8)
80010850:	0c0043b9 	jal	80010ee4 <print_num>
80010854:	00000000 	nop
/home/git/21371068/lib/print.c:100
		break;
80010858:	100000d3 	b	80010ba8 <vprintfmt+0x798>
8001085c:	00000000 	nop
/home/git/21371068/lib/print.c:105


		case 'o':
		case 'O':
			if (long_flag) {
80010860:	8fc20034 	lw	v0,52(s8)
80010864:	00000000 	nop
80010868:	1040000a 	beqz	v0,80010894 <vprintfmt+0x484>
8001086c:	00000000 	nop
/home/git/21371068/lib/print.c:106
				num = va_arg(ap, long int);
80010870:	8fc20064 	lw	v0,100(s8)
80010874:	00000000 	nop
80010878:	24430004 	addiu	v1,v0,4
8001087c:	afc30064 	sw	v1,100(s8)
80010880:	8c420000 	lw	v0,0(v0)
80010884:	00000000 	nop
80010888:	afc2002c 	sw	v0,44(s8)
8001088c:	10000008 	b	800108b0 <vprintfmt+0x4a0>
80010890:	00000000 	nop
/home/git/21371068/lib/print.c:108
			} else {
				num = va_arg(ap, int);
80010894:	8fc20064 	lw	v0,100(s8)
80010898:	00000000 	nop
8001089c:	24430004 	addiu	v1,v0,4
800108a0:	afc30064 	sw	v1,100(s8)
800108a4:	8c420000 	lw	v0,0(v0)
800108a8:	00000000 	nop
800108ac:	afc2002c 	sw	v0,44(s8)
/home/git/21371068/lib/print.c:110
			}
			print_num(out, data, num, 8, 0, width, ladjust, padc, 0);
800108b0:	8fc3002c 	lw	v1,44(s8)
800108b4:	afa00020 	sw	zero,32(sp)
800108b8:	83c20040 	lb	v0,64(s8)
800108bc:	00000000 	nop
800108c0:	afa2001c 	sw	v0,28(sp)
800108c4:	8fc2003c 	lw	v0,60(s8)
800108c8:	00000000 	nop
800108cc:	afa20018 	sw	v0,24(sp)
800108d0:	8fc20030 	lw	v0,48(s8)
800108d4:	00000000 	nop
800108d8:	afa20014 	sw	v0,20(sp)
800108dc:	afa00010 	sw	zero,16(sp)
800108e0:	24070008 	li	a3,8
800108e4:	00603025 	move	a2,v1
800108e8:	8fc5005c 	lw	a1,92(s8)
800108ec:	8fc40058 	lw	a0,88(s8)
800108f0:	0c0043b9 	jal	80010ee4 <print_num>
800108f4:	00000000 	nop
/home/git/21371068/lib/print.c:111
			break;
800108f8:	100000ab 	b	80010ba8 <vprintfmt+0x798>
800108fc:	00000000 	nop
/home/git/21371068/lib/print.c:115

		case 'u':
		case 'U':
			if (long_flag) {
80010900:	8fc20034 	lw	v0,52(s8)
80010904:	00000000 	nop
80010908:	1040000a 	beqz	v0,80010934 <vprintfmt+0x524>
8001090c:	00000000 	nop
/home/git/21371068/lib/print.c:116
				num = va_arg(ap, long int);
80010910:	8fc20064 	lw	v0,100(s8)
80010914:	00000000 	nop
80010918:	24430004 	addiu	v1,v0,4
8001091c:	afc30064 	sw	v1,100(s8)
80010920:	8c420000 	lw	v0,0(v0)
80010924:	00000000 	nop
80010928:	afc2002c 	sw	v0,44(s8)
8001092c:	10000008 	b	80010950 <vprintfmt+0x540>
80010930:	00000000 	nop
/home/git/21371068/lib/print.c:118
			} else {
				num = va_arg(ap, int);
80010934:	8fc20064 	lw	v0,100(s8)
80010938:	00000000 	nop
8001093c:	24430004 	addiu	v1,v0,4
80010940:	afc30064 	sw	v1,100(s8)
80010944:	8c420000 	lw	v0,0(v0)
80010948:	00000000 	nop
8001094c:	afc2002c 	sw	v0,44(s8)
/home/git/21371068/lib/print.c:120
			}
			print_num(out, data, num, 10, 0, width, ladjust, padc, 0);
80010950:	8fc3002c 	lw	v1,44(s8)
80010954:	afa00020 	sw	zero,32(sp)
80010958:	83c20040 	lb	v0,64(s8)
8001095c:	00000000 	nop
80010960:	afa2001c 	sw	v0,28(sp)
80010964:	8fc2003c 	lw	v0,60(s8)
80010968:	00000000 	nop
8001096c:	afa20018 	sw	v0,24(sp)
80010970:	8fc20030 	lw	v0,48(s8)
80010974:	00000000 	nop
80010978:	afa20014 	sw	v0,20(sp)
8001097c:	afa00010 	sw	zero,16(sp)
80010980:	2407000a 	li	a3,10
80010984:	00603025 	move	a2,v1
80010988:	8fc5005c 	lw	a1,92(s8)
8001098c:	8fc40058 	lw	a0,88(s8)
80010990:	0c0043b9 	jal	80010ee4 <print_num>
80010994:	00000000 	nop
/home/git/21371068/lib/print.c:121
			break;
80010998:	10000083 	b	80010ba8 <vprintfmt+0x798>
8001099c:	00000000 	nop
/home/git/21371068/lib/print.c:124

		case 'x':
			if (long_flag) {
800109a0:	8fc20034 	lw	v0,52(s8)
800109a4:	00000000 	nop
800109a8:	1040000a 	beqz	v0,800109d4 <vprintfmt+0x5c4>
800109ac:	00000000 	nop
/home/git/21371068/lib/print.c:125
				num = va_arg(ap, long int);
800109b0:	8fc20064 	lw	v0,100(s8)
800109b4:	00000000 	nop
800109b8:	24430004 	addiu	v1,v0,4
800109bc:	afc30064 	sw	v1,100(s8)
800109c0:	8c420000 	lw	v0,0(v0)
800109c4:	00000000 	nop
800109c8:	afc2002c 	sw	v0,44(s8)
800109cc:	10000008 	b	800109f0 <vprintfmt+0x5e0>
800109d0:	00000000 	nop
/home/git/21371068/lib/print.c:127
			} else {
				num = va_arg(ap, int);
800109d4:	8fc20064 	lw	v0,100(s8)
800109d8:	00000000 	nop
800109dc:	24430004 	addiu	v1,v0,4
800109e0:	afc30064 	sw	v1,100(s8)
800109e4:	8c420000 	lw	v0,0(v0)
800109e8:	00000000 	nop
800109ec:	afc2002c 	sw	v0,44(s8)
/home/git/21371068/lib/print.c:129
			}
			print_num(out, data, num, 16, 0, width, ladjust, padc, 0);
800109f0:	8fc3002c 	lw	v1,44(s8)
800109f4:	afa00020 	sw	zero,32(sp)
800109f8:	83c20040 	lb	v0,64(s8)
800109fc:	00000000 	nop
80010a00:	afa2001c 	sw	v0,28(sp)
80010a04:	8fc2003c 	lw	v0,60(s8)
80010a08:	00000000 	nop
80010a0c:	afa20018 	sw	v0,24(sp)
80010a10:	8fc20030 	lw	v0,48(s8)
80010a14:	00000000 	nop
80010a18:	afa20014 	sw	v0,20(sp)
80010a1c:	afa00010 	sw	zero,16(sp)
80010a20:	24070010 	li	a3,16
80010a24:	00603025 	move	a2,v1
80010a28:	8fc5005c 	lw	a1,92(s8)
80010a2c:	8fc40058 	lw	a0,88(s8)
80010a30:	0c0043b9 	jal	80010ee4 <print_num>
80010a34:	00000000 	nop
/home/git/21371068/lib/print.c:130
			break;
80010a38:	1000005b 	b	80010ba8 <vprintfmt+0x798>
80010a3c:	00000000 	nop
/home/git/21371068/lib/print.c:133

		case 'X':
			if (long_flag) {
80010a40:	8fc20034 	lw	v0,52(s8)
80010a44:	00000000 	nop
80010a48:	1040000a 	beqz	v0,80010a74 <vprintfmt+0x664>
80010a4c:	00000000 	nop
/home/git/21371068/lib/print.c:134
				num = va_arg(ap, long int);
80010a50:	8fc20064 	lw	v0,100(s8)
80010a54:	00000000 	nop
80010a58:	24430004 	addiu	v1,v0,4
80010a5c:	afc30064 	sw	v1,100(s8)
80010a60:	8c420000 	lw	v0,0(v0)
80010a64:	00000000 	nop
80010a68:	afc2002c 	sw	v0,44(s8)
80010a6c:	10000008 	b	80010a90 <vprintfmt+0x680>
80010a70:	00000000 	nop
/home/git/21371068/lib/print.c:136
			} else {
				num = va_arg(ap, int);
80010a74:	8fc20064 	lw	v0,100(s8)
80010a78:	00000000 	nop
80010a7c:	24430004 	addiu	v1,v0,4
80010a80:	afc30064 	sw	v1,100(s8)
80010a84:	8c420000 	lw	v0,0(v0)
80010a88:	00000000 	nop
80010a8c:	afc2002c 	sw	v0,44(s8)
/home/git/21371068/lib/print.c:138
			}
			print_num(out, data, num, 16, 0, width, ladjust, padc, 1);
80010a90:	8fc3002c 	lw	v1,44(s8)
80010a94:	24020001 	li	v0,1
80010a98:	afa20020 	sw	v0,32(sp)
80010a9c:	83c20040 	lb	v0,64(s8)
80010aa0:	00000000 	nop
80010aa4:	afa2001c 	sw	v0,28(sp)
80010aa8:	8fc2003c 	lw	v0,60(s8)
80010aac:	00000000 	nop
80010ab0:	afa20018 	sw	v0,24(sp)
80010ab4:	8fc20030 	lw	v0,48(s8)
80010ab8:	00000000 	nop
80010abc:	afa20014 	sw	v0,20(sp)
80010ac0:	afa00010 	sw	zero,16(sp)
80010ac4:	24070010 	li	a3,16
80010ac8:	00603025 	move	a2,v1
80010acc:	8fc5005c 	lw	a1,92(s8)
80010ad0:	8fc40058 	lw	a0,88(s8)
80010ad4:	0c0043b9 	jal	80010ee4 <print_num>
80010ad8:	00000000 	nop
/home/git/21371068/lib/print.c:139
			break;
80010adc:	10000032 	b	80010ba8 <vprintfmt+0x798>
80010ae0:	00000000 	nop
/home/git/21371068/lib/print.c:142

		case 'c':
			c = (char)va_arg(ap, int);
80010ae4:	8fc20064 	lw	v0,100(s8)
80010ae8:	00000000 	nop
80010aec:	24430004 	addiu	v1,v0,4
80010af0:	afc30064 	sw	v1,100(s8)
80010af4:	8c420000 	lw	v0,0(v0)
80010af8:	00000000 	nop
80010afc:	a3c20028 	sb	v0,40(s8)
/home/git/21371068/lib/print.c:143
			print_char(out, data, c, width, ladjust);
80010b00:	83c30028 	lb	v1,40(s8)
80010b04:	8fc2003c 	lw	v0,60(s8)
80010b08:	00000000 	nop
80010b0c:	afa20010 	sw	v0,16(sp)
80010b10:	8fc70030 	lw	a3,48(s8)
80010b14:	00603025 	move	a2,v1
80010b18:	8fc5005c 	lw	a1,92(s8)
80010b1c:	8fc40058 	lw	a0,88(s8)
80010b20:	0c0042f7 	jal	80010bdc <print_char>
80010b24:	00000000 	nop
/home/git/21371068/lib/print.c:144
			break;
80010b28:	1000001f 	b	80010ba8 <vprintfmt+0x798>
80010b2c:	00000000 	nop
/home/git/21371068/lib/print.c:147

		case 's':
			s = (char *)va_arg(ap, char *);
80010b30:	8fc20064 	lw	v0,100(s8)
80010b34:	00000000 	nop
80010b38:	24430004 	addiu	v1,v0,4
80010b3c:	afc30064 	sw	v1,100(s8)
80010b40:	8c420000 	lw	v0,0(v0)
80010b44:	00000000 	nop
80010b48:	afc20048 	sw	v0,72(s8)
/home/git/21371068/lib/print.c:148
			print_str(out, data, s, width, ladjust);
80010b4c:	8fc2003c 	lw	v0,60(s8)
80010b50:	00000000 	nop
80010b54:	afa20010 	sw	v0,16(sp)
80010b58:	8fc70030 	lw	a3,48(s8)
80010b5c:	8fc60048 	lw	a2,72(s8)
80010b60:	8fc5005c 	lw	a1,92(s8)
80010b64:	8fc40058 	lw	a0,88(s8)
80010b68:	0c00434e 	jal	80010d38 <print_str>
80010b6c:	00000000 	nop
/home/git/21371068/lib/print.c:149
			break;
80010b70:	1000000d 	b	80010ba8 <vprintfmt+0x798>
80010b74:	00000000 	nop
/home/git/21371068/lib/print.c:152

		case '\0':
			fmt--;
80010b78:	8fc20060 	lw	v0,96(s8)
80010b7c:	00000000 	nop
80010b80:	2442ffff 	addiu	v0,v0,-1
80010b84:	afc20060 	sw	v0,96(s8)
/home/git/21371068/lib/print.c:153
			break;
80010b88:	10000007 	b	80010ba8 <vprintfmt+0x798>
80010b8c:	00000000 	nop
/home/git/21371068/lib/print.c:157

		default:
			/* output this char as it is */
			out(data, fmt, 1);
80010b90:	8fc20058 	lw	v0,88(s8)
80010b94:	24060001 	li	a2,1
80010b98:	8fc50060 	lw	a1,96(s8)
80010b9c:	8fc4005c 	lw	a0,92(s8)
80010ba0:	0040f809 	jalr	v0
80010ba4:	00000000 	nop
/home/git/21371068/lib/print.c:159
		}
		fmt++;
80010ba8:	8fc20060 	lw	v0,96(s8)
80010bac:	00000000 	nop
80010bb0:	24420001 	addiu	v0,v0,1
80010bb4:	afc20060 	sw	v0,96(s8)
/home/git/21371068/lib/print.c:22
		while ((c = *(char *)fmt++) != '%') {
80010bb8:	1000fe2b 	b	80010468 <vprintfmt+0x58>
80010bbc:	00000000 	nop
/home/git/21371068/lib/print.c:29
				return;
80010bc0:	00000000 	nop
/home/git/21371068/lib/print.c:161
	}
}
80010bc4:	03c0e825 	move	sp,s8
80010bc8:	8fbf0054 	lw	ra,84(sp)
80010bcc:	8fbe0050 	lw	s8,80(sp)
80010bd0:	27bd0058 	addiu	sp,sp,88
80010bd4:	03e00008 	jr	ra
80010bd8:	00000000 	nop

80010bdc <print_char>:
print_char():
/home/git/21371068/lib/print.c:164

/* --------------- local help functions --------------------- */
void print_char(fmt_callback_t out, void *data, char c, int length, int ladjust) {
80010bdc:	27bdffe0 	addiu	sp,sp,-32
80010be0:	afbf001c 	sw	ra,28(sp)
80010be4:	afbe0018 	sw	s8,24(sp)
80010be8:	03a0f025 	move	s8,sp
80010bec:	afc40020 	sw	a0,32(s8)
80010bf0:	afc50024 	sw	a1,36(s8)
80010bf4:	00c01025 	move	v0,a2
80010bf8:	afc7002c 	sw	a3,44(s8)
80010bfc:	a3c20028 	sb	v0,40(s8)
/home/git/21371068/lib/print.c:167
	int i;

	if (length < 1) {
80010c00:	8fc2002c 	lw	v0,44(s8)
80010c04:	00000000 	nop
80010c08:	1c400003 	bgtz	v0,80010c18 <print_char+0x3c>
80010c0c:	00000000 	nop
/home/git/21371068/lib/print.c:168
		length = 1;
80010c10:	24020001 	li	v0,1
80010c14:	afc2002c 	sw	v0,44(s8)
/home/git/21371068/lib/print.c:170
	}
	const char space = ' ';
80010c18:	24020020 	li	v0,32
80010c1c:	a3c20014 	sb	v0,20(s8)
/home/git/21371068/lib/print.c:171
	if (ladjust) {
80010c20:	8fc20030 	lw	v0,48(s8)
80010c24:	00000000 	nop
80010c28:	1040001f 	beqz	v0,80010ca8 <print_char+0xcc>
80010c2c:	00000000 	nop
/home/git/21371068/lib/print.c:172
		out(data, &c, 1);
80010c30:	27c30028 	addiu	v1,s8,40
80010c34:	8fc20020 	lw	v0,32(s8)
80010c38:	24060001 	li	a2,1
80010c3c:	00602825 	move	a1,v1
80010c40:	8fc40024 	lw	a0,36(s8)
80010c44:	0040f809 	jalr	v0
80010c48:	00000000 	nop
/home/git/21371068/lib/print.c:173
		for (i = 1; i < length; i++) {
80010c4c:	24020001 	li	v0,1
80010c50:	afc20010 	sw	v0,16(s8)
80010c54:	1000000c 	b	80010c88 <print_char+0xac>
80010c58:	00000000 	nop
/home/git/21371068/lib/print.c:174 (discriminator 3)
			out(data, &space, 1);
80010c5c:	27c30014 	addiu	v1,s8,20
80010c60:	8fc20020 	lw	v0,32(s8)
80010c64:	24060001 	li	a2,1
80010c68:	00602825 	move	a1,v1
80010c6c:	8fc40024 	lw	a0,36(s8)
80010c70:	0040f809 	jalr	v0
80010c74:	00000000 	nop
/home/git/21371068/lib/print.c:173 (discriminator 3)
		for (i = 1; i < length; i++) {
80010c78:	8fc20010 	lw	v0,16(s8)
80010c7c:	00000000 	nop
80010c80:	24420001 	addiu	v0,v0,1
80010c84:	afc20010 	sw	v0,16(s8)
/home/git/21371068/lib/print.c:173 (discriminator 1)
80010c88:	8fc30010 	lw	v1,16(s8)
80010c8c:	8fc2002c 	lw	v0,44(s8)
80010c90:	00000000 	nop
80010c94:	0062102a 	slt	v0,v1,v0
80010c98:	1440fff0 	bnez	v0,80010c5c <print_char+0x80>
80010c9c:	00000000 	nop
/home/git/21371068/lib/print.c:182
		for (i = 0; i < length - 1; i++) {
			out(data, &space, 1);
		}
		out(data, &c, 1);
	}
}
80010ca0:	1000001e 	b	80010d1c <print_char+0x140>
80010ca4:	00000000 	nop
/home/git/21371068/lib/print.c:177
		for (i = 0; i < length - 1; i++) {
80010ca8:	afc00010 	sw	zero,16(s8)
80010cac:	1000000c 	b	80010ce0 <print_char+0x104>
80010cb0:	00000000 	nop
/home/git/21371068/lib/print.c:178 (discriminator 3)
			out(data, &space, 1);
80010cb4:	27c30014 	addiu	v1,s8,20
80010cb8:	8fc20020 	lw	v0,32(s8)
80010cbc:	24060001 	li	a2,1
80010cc0:	00602825 	move	a1,v1
80010cc4:	8fc40024 	lw	a0,36(s8)
80010cc8:	0040f809 	jalr	v0
80010ccc:	00000000 	nop
/home/git/21371068/lib/print.c:177 (discriminator 3)
		for (i = 0; i < length - 1; i++) {
80010cd0:	8fc20010 	lw	v0,16(s8)
80010cd4:	00000000 	nop
80010cd8:	24420001 	addiu	v0,v0,1
80010cdc:	afc20010 	sw	v0,16(s8)
/home/git/21371068/lib/print.c:177 (discriminator 1)
80010ce0:	8fc2002c 	lw	v0,44(s8)
80010ce4:	00000000 	nop
80010ce8:	2442ffff 	addiu	v0,v0,-1
80010cec:	8fc30010 	lw	v1,16(s8)
80010cf0:	00000000 	nop
80010cf4:	0062102a 	slt	v0,v1,v0
80010cf8:	1440ffee 	bnez	v0,80010cb4 <print_char+0xd8>
80010cfc:	00000000 	nop
/home/git/21371068/lib/print.c:180
		out(data, &c, 1);
80010d00:	27c30028 	addiu	v1,s8,40
80010d04:	8fc20020 	lw	v0,32(s8)
80010d08:	24060001 	li	a2,1
80010d0c:	00602825 	move	a1,v1
80010d10:	8fc40024 	lw	a0,36(s8)
80010d14:	0040f809 	jalr	v0
80010d18:	00000000 	nop
/home/git/21371068/lib/print.c:182
}
80010d1c:	00000000 	nop
80010d20:	03c0e825 	move	sp,s8
80010d24:	8fbf001c 	lw	ra,28(sp)
80010d28:	8fbe0018 	lw	s8,24(sp)
80010d2c:	27bd0020 	addiu	sp,sp,32
80010d30:	03e00008 	jr	ra
80010d34:	00000000 	nop

80010d38 <print_str>:
print_str():
/home/git/21371068/lib/print.c:184

void print_str(fmt_callback_t out, void *data, const char *s, int length, int ladjust) {
80010d38:	27bdffd8 	addiu	sp,sp,-40
80010d3c:	afbf0024 	sw	ra,36(sp)
80010d40:	afbe0020 	sw	s8,32(sp)
80010d44:	03a0f025 	move	s8,sp
80010d48:	afc40028 	sw	a0,40(s8)
80010d4c:	afc5002c 	sw	a1,44(s8)
80010d50:	afc60030 	sw	a2,48(s8)
80010d54:	afc70034 	sw	a3,52(s8)
/home/git/21371068/lib/print.c:186
	int i;
	int len = 0;
80010d58:	afc00014 	sw	zero,20(s8)
/home/git/21371068/lib/print.c:187
	const char *s1 = s;
80010d5c:	8fc20030 	lw	v0,48(s8)
80010d60:	00000000 	nop
80010d64:	afc20018 	sw	v0,24(s8)
/home/git/21371068/lib/print.c:188
	while (*s1++) {
80010d68:	10000005 	b	80010d80 <print_str+0x48>
80010d6c:	00000000 	nop
/home/git/21371068/lib/print.c:189
		len++;
80010d70:	8fc20014 	lw	v0,20(s8)
80010d74:	00000000 	nop
80010d78:	24420001 	addiu	v0,v0,1
80010d7c:	afc20014 	sw	v0,20(s8)
/home/git/21371068/lib/print.c:188
	while (*s1++) {
80010d80:	8fc20018 	lw	v0,24(s8)
80010d84:	00000000 	nop
80010d88:	24430001 	addiu	v1,v0,1
80010d8c:	afc30018 	sw	v1,24(s8)
80010d90:	80420000 	lb	v0,0(v0)
80010d94:	00000000 	nop
80010d98:	1440fff5 	bnez	v0,80010d70 <print_str+0x38>
80010d9c:	00000000 	nop
/home/git/21371068/lib/print.c:191
	}
	if (length < len) {
80010da0:	8fc30034 	lw	v1,52(s8)
80010da4:	8fc20014 	lw	v0,20(s8)
80010da8:	00000000 	nop
80010dac:	0062102a 	slt	v0,v1,v0
80010db0:	10400004 	beqz	v0,80010dc4 <print_str+0x8c>
80010db4:	00000000 	nop
/home/git/21371068/lib/print.c:192
		length = len;
80010db8:	8fc20014 	lw	v0,20(s8)
80010dbc:	00000000 	nop
80010dc0:	afc20034 	sw	v0,52(s8)
/home/git/21371068/lib/print.c:195
	}

	if (ladjust) {
80010dc4:	8fc20038 	lw	v0,56(s8)
80010dc8:	00000000 	nop
80010dcc:	10400020 	beqz	v0,80010e50 <print_str+0x118>
80010dd0:	00000000 	nop
/home/git/21371068/lib/print.c:196
		out(data, s, len);
80010dd4:	8fc30014 	lw	v1,20(s8)
80010dd8:	8fc20028 	lw	v0,40(s8)
80010ddc:	00603025 	move	a2,v1
80010de0:	8fc50030 	lw	a1,48(s8)
80010de4:	8fc4002c 	lw	a0,44(s8)
80010de8:	0040f809 	jalr	v0
80010dec:	00000000 	nop
/home/git/21371068/lib/print.c:197
		for (i = len; i < length; i++) {
80010df0:	8fc20014 	lw	v0,20(s8)
80010df4:	00000000 	nop
80010df8:	afc20010 	sw	v0,16(s8)
80010dfc:	1000000c 	b	80010e30 <print_str+0xf8>
80010e00:	00000000 	nop
/home/git/21371068/lib/print.c:198 (discriminator 3)
			out(data, " ", 1);
80010e04:	8fc20028 	lw	v0,40(s8)
80010e08:	24060001 	li	a2,1
80010e0c:	3c038002 	lui	v1,0x8002
80010e10:	24658784 	addiu	a1,v1,-30844
80010e14:	8fc4002c 	lw	a0,44(s8)
80010e18:	0040f809 	jalr	v0
80010e1c:	00000000 	nop
/home/git/21371068/lib/print.c:197 (discriminator 3)
		for (i = len; i < length; i++) {
80010e20:	8fc20010 	lw	v0,16(s8)
80010e24:	00000000 	nop
80010e28:	24420001 	addiu	v0,v0,1
80010e2c:	afc20010 	sw	v0,16(s8)
/home/git/21371068/lib/print.c:197 (discriminator 1)
80010e30:	8fc30010 	lw	v1,16(s8)
80010e34:	8fc20034 	lw	v0,52(s8)
80010e38:	00000000 	nop
80010e3c:	0062102a 	slt	v0,v1,v0
80010e40:	1440fff0 	bnez	v0,80010e04 <print_str+0xcc>
80010e44:	00000000 	nop
/home/git/21371068/lib/print.c:206
		for (i = 0; i < length - len; i++) {
			out(data, " ", 1);
		}
		out(data, s, len);
	}
}
80010e48:	1000001f 	b	80010ec8 <print_str+0x190>
80010e4c:	00000000 	nop
/home/git/21371068/lib/print.c:201
		for (i = 0; i < length - len; i++) {
80010e50:	afc00010 	sw	zero,16(s8)
80010e54:	1000000c 	b	80010e88 <print_str+0x150>
80010e58:	00000000 	nop
/home/git/21371068/lib/print.c:202 (discriminator 3)
			out(data, " ", 1);
80010e5c:	8fc20028 	lw	v0,40(s8)
80010e60:	24060001 	li	a2,1
80010e64:	3c038002 	lui	v1,0x8002
80010e68:	24658784 	addiu	a1,v1,-30844
80010e6c:	8fc4002c 	lw	a0,44(s8)
80010e70:	0040f809 	jalr	v0
80010e74:	00000000 	nop
/home/git/21371068/lib/print.c:201 (discriminator 3)
		for (i = 0; i < length - len; i++) {
80010e78:	8fc20010 	lw	v0,16(s8)
80010e7c:	00000000 	nop
80010e80:	24420001 	addiu	v0,v0,1
80010e84:	afc20010 	sw	v0,16(s8)
/home/git/21371068/lib/print.c:201 (discriminator 1)
80010e88:	8fc30034 	lw	v1,52(s8)
80010e8c:	8fc20014 	lw	v0,20(s8)
80010e90:	00000000 	nop
80010e94:	00621023 	subu	v0,v1,v0
80010e98:	8fc30010 	lw	v1,16(s8)
80010e9c:	00000000 	nop
80010ea0:	0062102a 	slt	v0,v1,v0
80010ea4:	1440ffed 	bnez	v0,80010e5c <print_str+0x124>
80010ea8:	00000000 	nop
/home/git/21371068/lib/print.c:204
		out(data, s, len);
80010eac:	8fc30014 	lw	v1,20(s8)
80010eb0:	8fc20028 	lw	v0,40(s8)
80010eb4:	00603025 	move	a2,v1
80010eb8:	8fc50030 	lw	a1,48(s8)
80010ebc:	8fc4002c 	lw	a0,44(s8)
80010ec0:	0040f809 	jalr	v0
80010ec4:	00000000 	nop
/home/git/21371068/lib/print.c:206
}
80010ec8:	00000000 	nop
80010ecc:	03c0e825 	move	sp,s8
80010ed0:	8fbf0024 	lw	ra,36(sp)
80010ed4:	8fbe0020 	lw	s8,32(sp)
80010ed8:	27bd0028 	addiu	sp,sp,40
80010edc:	03e00008 	jr	ra
80010ee0:	00000000 	nop

80010ee4 <print_num>:
print_num():
/home/git/21371068/lib/print.c:209

void print_num(fmt_callback_t out, void *data, unsigned long u, int base, int neg_flag, int length,
	       int ladjust, char padc, int upcase) {
80010ee4:	27bdffb8 	addiu	sp,sp,-72
80010ee8:	afbf0044 	sw	ra,68(sp)
80010eec:	afbe0040 	sw	s8,64(sp)
80010ef0:	afb0003c 	sw	s0,60(sp)
80010ef4:	03a0f025 	move	s8,sp
80010ef8:	afc40048 	sw	a0,72(s8)
80010efc:	afc5004c 	sw	a1,76(s8)
80010f00:	afc60050 	sw	a2,80(s8)
80010f04:	afc70054 	sw	a3,84(s8)
80010f08:	03a02025 	move	a0,sp
80010f0c:	00808025 	move	s0,a0
/home/git/21371068/lib/print.c:220
	 *		    if negtive, insert  "0" padding between "0" and number.
	 *  3. if (!ladjust) we reverse the whole string including paddings
	 *  4. otherwise we only reverse the actual string representing the num.
	 */

	int actualLength = 0;
80010f10:	afc00020 	sw	zero,32(s8)
/home/git/21371068/lib/print.c:221
	char buf[length + 70];
80010f14:	8fc4005c 	lw	a0,92(s8)
80010f18:	00000000 	nop
80010f1c:	24840046 	addiu	a0,a0,70
80010f20:	2485ffff 	addiu	a1,a0,-1
80010f24:	afc50024 	sw	a1,36(s8)
80010f28:	00802825 	move	a1,a0
80010f2c:	00a06025 	move	t4,a1
80010f30:	00006825 	move	t5,zero
80010f34:	000c2f42 	srl	a1,t4,0x1d
80010f38:	000d48c0 	sll	t1,t5,0x3
80010f3c:	00a94825 	or	t1,a1,t1
80010f40:	000c40c0 	sll	t0,t4,0x3
80010f44:	00802825 	move	a1,a0
80010f48:	00a05025 	move	t2,a1
80010f4c:	00005825 	move	t3,zero
80010f50:	000a2f42 	srl	a1,t2,0x1d
80010f54:	000b18c0 	sll	v1,t3,0x3
80010f58:	00a31825 	or	v1,a1,v1
80010f5c:	000a10c0 	sll	v0,t2,0x3
80010f60:	00801025 	move	v0,a0
80010f64:	24420007 	addiu	v0,v0,7
80010f68:	000210c2 	srl	v0,v0,0x3
80010f6c:	000210c0 	sll	v0,v0,0x3
80010f70:	03a2e823 	subu	sp,sp,v0
80010f74:	27a20010 	addiu	v0,sp,16
80010f78:	24420000 	addiu	v0,v0,0
80010f7c:	afc20028 	sw	v0,40(s8)
/home/git/21371068/lib/print.c:222
	char *p = buf;
80010f80:	8fc20028 	lw	v0,40(s8)
80010f84:	00000000 	nop
80010f88:	afc20010 	sw	v0,16(s8)
/home/git/21371068/lib/print.c:226
	int i;

	do {
		int tmp = u % base;
80010f8c:	8fc20054 	lw	v0,84(s8)
80010f90:	8fc30050 	lw	v1,80(s8)
80010f94:	00000000 	nop
80010f98:	0062001b 	divu	zero,v1,v0
80010f9c:	14400002 	bnez	v0,80010fa8 <print_num+0xc4>
80010fa0:	00000000 	nop
80010fa4:	0007000d 	break	0x7
80010fa8:	00001010 	mfhi	v0
80010fac:	afc2002c 	sw	v0,44(s8)
/home/git/21371068/lib/print.c:227
		if (tmp <= 9) {
80010fb0:	8fc2002c 	lw	v0,44(s8)
80010fb4:	00000000 	nop
80010fb8:	2842000a 	slti	v0,v0,10
80010fbc:	1040000f 	beqz	v0,80010ffc <print_num+0x118>
80010fc0:	00000000 	nop
/home/git/21371068/lib/print.c:228
			*p++ = '0' + tmp;
80010fc4:	8fc2002c 	lw	v0,44(s8)
80010fc8:	00000000 	nop
80010fcc:	304200ff 	andi	v0,v0,0xff
80010fd0:	24420030 	addiu	v0,v0,48
80010fd4:	304400ff 	andi	a0,v0,0xff
80010fd8:	8fc20010 	lw	v0,16(s8)
80010fdc:	00000000 	nop
80010fe0:	24430001 	addiu	v1,v0,1
80010fe4:	afc30010 	sw	v1,16(s8)
80010fe8:	00041e00 	sll	v1,a0,0x18
80010fec:	00031e03 	sra	v1,v1,0x18
80010ff0:	a0430000 	sb	v1,0(v0)
80010ff4:	1000001f 	b	80011074 <print_num+0x190>
80010ff8:	00000000 	nop
/home/git/21371068/lib/print.c:229
		} else if (upcase) {
80010ffc:	8fc20068 	lw	v0,104(s8)
80011000:	00000000 	nop
80011004:	1040000f 	beqz	v0,80011044 <print_num+0x160>
80011008:	00000000 	nop
/home/git/21371068/lib/print.c:230
			*p++ = 'A' + tmp - 10;
8001100c:	8fc2002c 	lw	v0,44(s8)
80011010:	00000000 	nop
80011014:	304200ff 	andi	v0,v0,0xff
80011018:	24420037 	addiu	v0,v0,55
8001101c:	304400ff 	andi	a0,v0,0xff
80011020:	8fc20010 	lw	v0,16(s8)
80011024:	00000000 	nop
80011028:	24430001 	addiu	v1,v0,1
8001102c:	afc30010 	sw	v1,16(s8)
80011030:	00041e00 	sll	v1,a0,0x18
80011034:	00031e03 	sra	v1,v1,0x18
80011038:	a0430000 	sb	v1,0(v0)
8001103c:	1000000d 	b	80011074 <print_num+0x190>
80011040:	00000000 	nop
/home/git/21371068/lib/print.c:232
		} else {
			*p++ = 'a' + tmp - 10;
80011044:	8fc2002c 	lw	v0,44(s8)
80011048:	00000000 	nop
8001104c:	304200ff 	andi	v0,v0,0xff
80011050:	24420057 	addiu	v0,v0,87
80011054:	304400ff 	andi	a0,v0,0xff
80011058:	8fc20010 	lw	v0,16(s8)
8001105c:	00000000 	nop
80011060:	24430001 	addiu	v1,v0,1
80011064:	afc30010 	sw	v1,16(s8)
80011068:	00041e00 	sll	v1,a0,0x18
8001106c:	00031e03 	sra	v1,v1,0x18
80011070:	a0430000 	sb	v1,0(v0)
/home/git/21371068/lib/print.c:234
		}
		u /= base;
80011074:	8fc20054 	lw	v0,84(s8)
80011078:	8fc30050 	lw	v1,80(s8)
8001107c:	00000000 	nop
80011080:	0062001b 	divu	zero,v1,v0
80011084:	14400002 	bnez	v0,80011090 <print_num+0x1ac>
80011088:	00000000 	nop
8001108c:	0007000d 	break	0x7
80011090:	00001010 	mfhi	v0
80011094:	00001012 	mflo	v0
80011098:	afc20050 	sw	v0,80(s8)
/home/git/21371068/lib/print.c:235
	} while (u != 0);
8001109c:	8fc20050 	lw	v0,80(s8)
800110a0:	00000000 	nop
800110a4:	1440ffb9 	bnez	v0,80010f8c <print_num+0xa8>
800110a8:	00000000 	nop
/home/git/21371068/lib/print.c:237

	if (neg_flag) {
800110ac:	8fc20058 	lw	v0,88(s8)
800110b0:	00000000 	nop
800110b4:	10400007 	beqz	v0,800110d4 <print_num+0x1f0>
800110b8:	00000000 	nop
/home/git/21371068/lib/print.c:238
		*p++ = '-';
800110bc:	8fc20010 	lw	v0,16(s8)
800110c0:	00000000 	nop
800110c4:	24430001 	addiu	v1,v0,1
800110c8:	afc30010 	sw	v1,16(s8)
800110cc:	2403002d 	li	v1,45
800110d0:	a0430000 	sb	v1,0(v0)
/home/git/21371068/lib/print.c:242
	}

	/* figure out actual length and adjust the maximum length */
	actualLength = p - buf;
800110d4:	8fc30010 	lw	v1,16(s8)
800110d8:	8fc20028 	lw	v0,40(s8)
800110dc:	00000000 	nop
800110e0:	00621023 	subu	v0,v1,v0
800110e4:	afc20020 	sw	v0,32(s8)
/home/git/21371068/lib/print.c:243
	if (length < actualLength) {
800110e8:	8fc3005c 	lw	v1,92(s8)
800110ec:	8fc20020 	lw	v0,32(s8)
800110f0:	00000000 	nop
800110f4:	0062102a 	slt	v0,v1,v0
800110f8:	10400004 	beqz	v0,8001110c <print_num+0x228>
800110fc:	00000000 	nop
/home/git/21371068/lib/print.c:244
		length = actualLength;
80011100:	8fc20020 	lw	v0,32(s8)
80011104:	00000000 	nop
80011108:	afc2005c 	sw	v0,92(s8)
/home/git/21371068/lib/print.c:248
	}

	/* add padding */
	if (ladjust) {
8001110c:	8fc20060 	lw	v0,96(s8)
80011110:	00000000 	nop
80011114:	10400003 	beqz	v0,80011124 <print_num+0x240>
80011118:	00000000 	nop
/home/git/21371068/lib/print.c:249
		padc = ' ';
8001111c:	24020020 	li	v0,32
80011120:	a3c20064 	sb	v0,100(s8)
/home/git/21371068/lib/print.c:251
	}
	if (neg_flag && !ladjust && (padc == '0')) {
80011124:	8fc20058 	lw	v0,88(s8)
80011128:	00000000 	nop
8001112c:	1040002c 	beqz	v0,800111e0 <print_num+0x2fc>
80011130:	00000000 	nop
/home/git/21371068/lib/print.c:251 (discriminator 1)
80011134:	8fc20060 	lw	v0,96(s8)
80011138:	00000000 	nop
8001113c:	14400028 	bnez	v0,800111e0 <print_num+0x2fc>
80011140:	00000000 	nop
/home/git/21371068/lib/print.c:251 (discriminator 2)
80011144:	83c30064 	lb	v1,100(s8)
80011148:	24020030 	li	v0,48
8001114c:	14620024 	bne	v1,v0,800111e0 <print_num+0x2fc>
80011150:	00000000 	nop
/home/git/21371068/lib/print.c:252
		for (i = actualLength - 1; i < length - 1; i++) {
80011154:	8fc20020 	lw	v0,32(s8)
80011158:	00000000 	nop
8001115c:	2442ffff 	addiu	v0,v0,-1
80011160:	afc20014 	sw	v0,20(s8)
80011164:	1000000c 	b	80011198 <print_num+0x2b4>
80011168:	00000000 	nop
/home/git/21371068/lib/print.c:253 (discriminator 3)
			buf[i] = padc;
8001116c:	8fc30028 	lw	v1,40(s8)
80011170:	8fc20014 	lw	v0,20(s8)
80011174:	00000000 	nop
80011178:	00621021 	addu	v0,v1,v0
8001117c:	93c30064 	lbu	v1,100(s8)
80011180:	00000000 	nop
80011184:	a0430000 	sb	v1,0(v0)
/home/git/21371068/lib/print.c:252 (discriminator 3)
		for (i = actualLength - 1; i < length - 1; i++) {
80011188:	8fc20014 	lw	v0,20(s8)
8001118c:	00000000 	nop
80011190:	24420001 	addiu	v0,v0,1
80011194:	afc20014 	sw	v0,20(s8)
/home/git/21371068/lib/print.c:252 (discriminator 1)
80011198:	8fc2005c 	lw	v0,92(s8)
8001119c:	00000000 	nop
800111a0:	2442ffff 	addiu	v0,v0,-1
800111a4:	8fc30014 	lw	v1,20(s8)
800111a8:	00000000 	nop
800111ac:	0062102a 	slt	v0,v1,v0
800111b0:	1440ffee 	bnez	v0,8001116c <print_num+0x288>
800111b4:	00000000 	nop
/home/git/21371068/lib/print.c:255
		}
		buf[length - 1] = '-';
800111b8:	8fc2005c 	lw	v0,92(s8)
800111bc:	00000000 	nop
800111c0:	2442ffff 	addiu	v0,v0,-1
800111c4:	8fc30028 	lw	v1,40(s8)
800111c8:	00000000 	nop
800111cc:	00621021 	addu	v0,v1,v0
800111d0:	2403002d 	li	v1,45
800111d4:	a0430000 	sb	v1,0(v0)
800111d8:	10000017 	b	80011238 <print_num+0x354>
800111dc:	00000000 	nop
/home/git/21371068/lib/print.c:257
	} else {
		for (i = actualLength; i < length; i++) {
800111e0:	8fc20020 	lw	v0,32(s8)
800111e4:	00000000 	nop
800111e8:	afc20014 	sw	v0,20(s8)
800111ec:	1000000c 	b	80011220 <print_num+0x33c>
800111f0:	00000000 	nop
/home/git/21371068/lib/print.c:258 (discriminator 3)
			buf[i] = padc;
800111f4:	8fc30028 	lw	v1,40(s8)
800111f8:	8fc20014 	lw	v0,20(s8)
800111fc:	00000000 	nop
80011200:	00621021 	addu	v0,v1,v0
80011204:	93c30064 	lbu	v1,100(s8)
80011208:	00000000 	nop
8001120c:	a0430000 	sb	v1,0(v0)
/home/git/21371068/lib/print.c:257 (discriminator 3)
		for (i = actualLength; i < length; i++) {
80011210:	8fc20014 	lw	v0,20(s8)
80011214:	00000000 	nop
80011218:	24420001 	addiu	v0,v0,1
8001121c:	afc20014 	sw	v0,20(s8)
/home/git/21371068/lib/print.c:257 (discriminator 1)
80011220:	8fc30014 	lw	v1,20(s8)
80011224:	8fc2005c 	lw	v0,92(s8)
80011228:	00000000 	nop
8001122c:	0062102a 	slt	v0,v1,v0
80011230:	1440fff0 	bnez	v0,800111f4 <print_num+0x310>
80011234:	00000000 	nop
/home/git/21371068/lib/print.c:263
		}
	}

	/* prepare to reverse the string */
	int begin = 0;
80011238:	afc00018 	sw	zero,24(s8)
/home/git/21371068/lib/print.c:265
	int end;
	if (ladjust) {
8001123c:	8fc20060 	lw	v0,96(s8)
80011240:	00000000 	nop
80011244:	10400007 	beqz	v0,80011264 <print_num+0x380>
80011248:	00000000 	nop
/home/git/21371068/lib/print.c:266
		end = actualLength - 1;
8001124c:	8fc20020 	lw	v0,32(s8)
80011250:	00000000 	nop
80011254:	2442ffff 	addiu	v0,v0,-1
80011258:	afc2001c 	sw	v0,28(s8)
8001125c:	10000027 	b	800112fc <print_num+0x418>
80011260:	00000000 	nop
/home/git/21371068/lib/print.c:268
	} else {
		end = length - 1;
80011264:	8fc2005c 	lw	v0,92(s8)
80011268:	00000000 	nop
8001126c:	2442ffff 	addiu	v0,v0,-1
80011270:	afc2001c 	sw	v0,28(s8)
/home/git/21371068/lib/print.c:272
	}

	/* adjust the string pointer */
	while (end > begin) {
80011274:	10000021 	b	800112fc <print_num+0x418>
80011278:	00000000 	nop
/home/git/21371068/lib/print.c:273
		char tmp = buf[begin];
8001127c:	8fc30028 	lw	v1,40(s8)
80011280:	8fc20018 	lw	v0,24(s8)
80011284:	00000000 	nop
80011288:	00621021 	addu	v0,v1,v0
8001128c:	90420000 	lbu	v0,0(v0)
80011290:	00000000 	nop
80011294:	a3c20030 	sb	v0,48(s8)
/home/git/21371068/lib/print.c:274
		buf[begin] = buf[end];
80011298:	8fc30028 	lw	v1,40(s8)
8001129c:	8fc2001c 	lw	v0,28(s8)
800112a0:	00000000 	nop
800112a4:	00621021 	addu	v0,v1,v0
800112a8:	80430000 	lb	v1,0(v0)
800112ac:	8fc40028 	lw	a0,40(s8)
800112b0:	8fc20018 	lw	v0,24(s8)
800112b4:	00000000 	nop
800112b8:	00821021 	addu	v0,a0,v0
800112bc:	a0430000 	sb	v1,0(v0)
/home/git/21371068/lib/print.c:275
		buf[end] = tmp;
800112c0:	8fc30028 	lw	v1,40(s8)
800112c4:	8fc2001c 	lw	v0,28(s8)
800112c8:	00000000 	nop
800112cc:	00621021 	addu	v0,v1,v0
800112d0:	93c30030 	lbu	v1,48(s8)
800112d4:	00000000 	nop
800112d8:	a0430000 	sb	v1,0(v0)
/home/git/21371068/lib/print.c:276
		begin++;
800112dc:	8fc20018 	lw	v0,24(s8)
800112e0:	00000000 	nop
800112e4:	24420001 	addiu	v0,v0,1
800112e8:	afc20018 	sw	v0,24(s8)
/home/git/21371068/lib/print.c:277
		end--;
800112ec:	8fc2001c 	lw	v0,28(s8)
800112f0:	00000000 	nop
800112f4:	2442ffff 	addiu	v0,v0,-1
800112f8:	afc2001c 	sw	v0,28(s8)
/home/git/21371068/lib/print.c:272
	while (end > begin) {
800112fc:	8fc3001c 	lw	v1,28(s8)
80011300:	8fc20018 	lw	v0,24(s8)
80011304:	00000000 	nop
80011308:	0043102a 	slt	v0,v0,v1
8001130c:	1440ffdb 	bnez	v0,8001127c <print_num+0x398>
80011310:	00000000 	nop
/home/git/21371068/lib/print.c:280
	}

	out(data, buf, length);
80011314:	8fc3005c 	lw	v1,92(s8)
80011318:	8fc20048 	lw	v0,72(s8)
8001131c:	00603025 	move	a2,v1
80011320:	8fc50028 	lw	a1,40(s8)
80011324:	8fc4004c 	lw	a0,76(s8)
80011328:	0040f809 	jalr	v0
8001132c:	00000000 	nop
80011330:	0200e825 	move	sp,s0
/home/git/21371068/lib/print.c:281
}
80011334:	00000000 	nop
80011338:	03c0e825 	move	sp,s8
8001133c:	8fbf0044 	lw	ra,68(sp)
80011340:	8fbe0040 	lw	s8,64(sp)
80011344:	8fb0003c 	lw	s0,60(sp)
80011348:	27bd0048 	addiu	sp,sp,72
8001134c:	03e00008 	jr	ra
80011350:	00000000 	nop
	...

80011360 <memcpy>:
memcpy():
/home/git/21371068/lib/string.c:3
#include <types.h>

void *memcpy(void *dst, const void *src, size_t n) {
80011360:	27bdfff0 	addiu	sp,sp,-16
80011364:	afbe000c 	sw	s8,12(sp)
80011368:	03a0f025 	move	s8,sp
8001136c:	afc40010 	sw	a0,16(s8)
80011370:	afc50014 	sw	a1,20(s8)
80011374:	afc60018 	sw	a2,24(s8)
/home/git/21371068/lib/string.c:4
	void *dstaddr = dst;
80011378:	8fc20010 	lw	v0,16(s8)
8001137c:	00000000 	nop
80011380:	afc20000 	sw	v0,0(s8)
/home/git/21371068/lib/string.c:5
	void *max = dst + n;
80011384:	8fc30010 	lw	v1,16(s8)
80011388:	8fc20018 	lw	v0,24(s8)
8001138c:	00000000 	nop
80011390:	00621021 	addu	v0,v1,v0
80011394:	afc20004 	sw	v0,4(s8)
/home/git/21371068/lib/string.c:7

	if (((u_long)src & 3) != ((u_long)dst & 3)) {
80011398:	8fc30014 	lw	v1,20(s8)
8001139c:	8fc20010 	lw	v0,16(s8)
800113a0:	00000000 	nop
800113a4:	00621026 	xor	v0,v1,v0
800113a8:	30420003 	andi	v0,v0,0x3
800113ac:	10400022 	beqz	v0,80011438 <memcpy+0xd8>
800113b0:	00000000 	nop
/home/git/21371068/lib/string.c:8
		while (dst < max) {
800113b4:	1000000c 	b	800113e8 <memcpy+0x88>
800113b8:	00000000 	nop
/home/git/21371068/lib/string.c:9
			*(char *)dst++ = *(char *)src++;
800113bc:	8fc30014 	lw	v1,20(s8)
800113c0:	00000000 	nop
800113c4:	24620001 	addiu	v0,v1,1
800113c8:	afc20014 	sw	v0,20(s8)
800113cc:	8fc20010 	lw	v0,16(s8)
800113d0:	00000000 	nop
800113d4:	24440001 	addiu	a0,v0,1
800113d8:	afc40010 	sw	a0,16(s8)
800113dc:	80630000 	lb	v1,0(v1)
800113e0:	00000000 	nop
800113e4:	a0430000 	sb	v1,0(v0)
/home/git/21371068/lib/string.c:8
		while (dst < max) {
800113e8:	8fc30010 	lw	v1,16(s8)
800113ec:	8fc20004 	lw	v0,4(s8)
800113f0:	00000000 	nop
800113f4:	0062102b 	sltu	v0,v1,v0
800113f8:	1440fff0 	bnez	v0,800113bc <memcpy+0x5c>
800113fc:	00000000 	nop
/home/git/21371068/lib/string.c:11
		}
		return dstaddr;
80011400:	8fc20000 	lw	v0,0(s8)
80011404:	10000043 	b	80011514 <memcpy+0x1b4>
80011408:	00000000 	nop
/home/git/21371068/lib/string.c:15
	}

	while (((u_long)dst & 3) && dst < max) {
		*(char *)dst++ = *(char *)src++;
8001140c:	8fc30014 	lw	v1,20(s8)
80011410:	00000000 	nop
80011414:	24620001 	addiu	v0,v1,1
80011418:	afc20014 	sw	v0,20(s8)
8001141c:	8fc20010 	lw	v0,16(s8)
80011420:	00000000 	nop
80011424:	24440001 	addiu	a0,v0,1
80011428:	afc40010 	sw	a0,16(s8)
8001142c:	80630000 	lb	v1,0(v1)
80011430:	00000000 	nop
80011434:	a0430000 	sb	v1,0(v0)
/home/git/21371068/lib/string.c:14
	while (((u_long)dst & 3) && dst < max) {
80011438:	8fc20010 	lw	v0,16(s8)
8001143c:	00000000 	nop
80011440:	30420003 	andi	v0,v0,0x3
80011444:	10400017 	beqz	v0,800114a4 <memcpy+0x144>
80011448:	00000000 	nop
/home/git/21371068/lib/string.c:14 (discriminator 1)
8001144c:	8fc30010 	lw	v1,16(s8)
80011450:	8fc20004 	lw	v0,4(s8)
80011454:	00000000 	nop
80011458:	0062102b 	sltu	v0,v1,v0
8001145c:	1440ffeb 	bnez	v0,8001140c <memcpy+0xac>
80011460:	00000000 	nop
/home/git/21371068/lib/string.c:19
	}

	// copy machine words while possible
	while (dst + 4 <= max) {
80011464:	1000000f 	b	800114a4 <memcpy+0x144>
80011468:	00000000 	nop
/home/git/21371068/lib/string.c:20
		*(uint32_t *)dst = *(uint32_t *)src;
8001146c:	8fc20014 	lw	v0,20(s8)
80011470:	00000000 	nop
80011474:	8c430000 	lw	v1,0(v0)
80011478:	8fc20010 	lw	v0,16(s8)
8001147c:	00000000 	nop
80011480:	ac430000 	sw	v1,0(v0)
/home/git/21371068/lib/string.c:21
		dst += 4;
80011484:	8fc20010 	lw	v0,16(s8)
80011488:	00000000 	nop
8001148c:	24420004 	addiu	v0,v0,4
80011490:	afc20010 	sw	v0,16(s8)
/home/git/21371068/lib/string.c:22
		src += 4;
80011494:	8fc20014 	lw	v0,20(s8)
80011498:	00000000 	nop
8001149c:	24420004 	addiu	v0,v0,4
800114a0:	afc20014 	sw	v0,20(s8)
/home/git/21371068/lib/string.c:19
	while (dst + 4 <= max) {
800114a4:	8fc20010 	lw	v0,16(s8)
800114a8:	00000000 	nop
800114ac:	24420004 	addiu	v0,v0,4
800114b0:	8fc30004 	lw	v1,4(s8)
800114b4:	00000000 	nop
800114b8:	0062102b 	sltu	v0,v1,v0
800114bc:	1040ffeb 	beqz	v0,8001146c <memcpy+0x10c>
800114c0:	00000000 	nop
/home/git/21371068/lib/string.c:26
	}

	// finish the remaining 0-3 bytes
	while (dst < max) {
800114c4:	1000000c 	b	800114f8 <memcpy+0x198>
800114c8:	00000000 	nop
/home/git/21371068/lib/string.c:27
		*(char *)dst++ = *(char *)src++;
800114cc:	8fc30014 	lw	v1,20(s8)
800114d0:	00000000 	nop
800114d4:	24620001 	addiu	v0,v1,1
800114d8:	afc20014 	sw	v0,20(s8)
800114dc:	8fc20010 	lw	v0,16(s8)
800114e0:	00000000 	nop
800114e4:	24440001 	addiu	a0,v0,1
800114e8:	afc40010 	sw	a0,16(s8)
800114ec:	80630000 	lb	v1,0(v1)
800114f0:	00000000 	nop
800114f4:	a0430000 	sb	v1,0(v0)
/home/git/21371068/lib/string.c:26
	while (dst < max) {
800114f8:	8fc30010 	lw	v1,16(s8)
800114fc:	8fc20004 	lw	v0,4(s8)
80011500:	00000000 	nop
80011504:	0062102b 	sltu	v0,v1,v0
80011508:	1440fff0 	bnez	v0,800114cc <memcpy+0x16c>
8001150c:	00000000 	nop
/home/git/21371068/lib/string.c:29
	}
	return dstaddr;
80011510:	8fc20000 	lw	v0,0(s8)
/home/git/21371068/lib/string.c:30
}
80011514:	03c0e825 	move	sp,s8
80011518:	8fbe000c 	lw	s8,12(sp)
8001151c:	27bd0010 	addiu	sp,sp,16
80011520:	03e00008 	jr	ra
80011524:	00000000 	nop

80011528 <memset>:
memset():
/home/git/21371068/lib/string.c:32

void *memset(void *dst, int c, size_t n) {
80011528:	27bdffe8 	addiu	sp,sp,-24
8001152c:	afbe0014 	sw	s8,20(sp)
80011530:	03a0f025 	move	s8,sp
80011534:	afc40018 	sw	a0,24(s8)
80011538:	afc5001c 	sw	a1,28(s8)
8001153c:	afc60020 	sw	a2,32(s8)
/home/git/21371068/lib/string.c:33
	void *dstaddr = dst;
80011540:	8fc20018 	lw	v0,24(s8)
80011544:	00000000 	nop
80011548:	afc20000 	sw	v0,0(s8)
/home/git/21371068/lib/string.c:34
	void *max = dst + n;
8001154c:	8fc30018 	lw	v1,24(s8)
80011550:	8fc20020 	lw	v0,32(s8)
80011554:	00000000 	nop
80011558:	00621021 	addu	v0,v1,v0
8001155c:	afc20004 	sw	v0,4(s8)
/home/git/21371068/lib/string.c:35
	u_char byte = c & 0xff;
80011560:	8fc2001c 	lw	v0,28(s8)
80011564:	00000000 	nop
80011568:	a3c20008 	sb	v0,8(s8)
/home/git/21371068/lib/string.c:36
	uint32_t word = byte | byte << 8 | byte << 16 | byte << 24;
8001156c:	93c30008 	lbu	v1,8(s8)
80011570:	93c20008 	lbu	v0,8(s8)
80011574:	00000000 	nop
80011578:	00021200 	sll	v0,v0,0x8
8001157c:	00621825 	or	v1,v1,v0
80011580:	93c20008 	lbu	v0,8(s8)
80011584:	00000000 	nop
80011588:	00021400 	sll	v0,v0,0x10
8001158c:	00621825 	or	v1,v1,v0
80011590:	93c20008 	lbu	v0,8(s8)
80011594:	00000000 	nop
80011598:	00021600 	sll	v0,v0,0x18
8001159c:	00621025 	or	v0,v1,v0
800115a0:	afc2000c 	sw	v0,12(s8)
/home/git/21371068/lib/string.c:38

	while (((u_long)dst & 3) && dst < max) {
800115a4:	10000008 	b	800115c8 <memset+0xa0>
800115a8:	00000000 	nop
/home/git/21371068/lib/string.c:39
		*(u_char *)dst++ = byte;
800115ac:	8fc20018 	lw	v0,24(s8)
800115b0:	00000000 	nop
800115b4:	24430001 	addiu	v1,v0,1
800115b8:	afc30018 	sw	v1,24(s8)
800115bc:	93c30008 	lbu	v1,8(s8)
800115c0:	00000000 	nop
800115c4:	a0430000 	sb	v1,0(v0)
/home/git/21371068/lib/string.c:38
	while (((u_long)dst & 3) && dst < max) {
800115c8:	8fc20018 	lw	v0,24(s8)
800115cc:	00000000 	nop
800115d0:	30420003 	andi	v0,v0,0x3
800115d4:	10400011 	beqz	v0,8001161c <memset+0xf4>
800115d8:	00000000 	nop
/home/git/21371068/lib/string.c:38 (discriminator 1)
800115dc:	8fc30018 	lw	v1,24(s8)
800115e0:	8fc20004 	lw	v0,4(s8)
800115e4:	00000000 	nop
800115e8:	0062102b 	sltu	v0,v1,v0
800115ec:	1440ffef 	bnez	v0,800115ac <memset+0x84>
800115f0:	00000000 	nop
/home/git/21371068/lib/string.c:43
	}

	// fill machine words while possible
	while (dst + 4 <= max) {
800115f4:	10000009 	b	8001161c <memset+0xf4>
800115f8:	00000000 	nop
/home/git/21371068/lib/string.c:44
		*(uint32_t *)dst = word;
800115fc:	8fc20018 	lw	v0,24(s8)
80011600:	8fc3000c 	lw	v1,12(s8)
80011604:	00000000 	nop
80011608:	ac430000 	sw	v1,0(v0)
/home/git/21371068/lib/string.c:45
		dst += 4;
8001160c:	8fc20018 	lw	v0,24(s8)
80011610:	00000000 	nop
80011614:	24420004 	addiu	v0,v0,4
80011618:	afc20018 	sw	v0,24(s8)
/home/git/21371068/lib/string.c:43
	while (dst + 4 <= max) {
8001161c:	8fc20018 	lw	v0,24(s8)
80011620:	00000000 	nop
80011624:	24420004 	addiu	v0,v0,4
80011628:	8fc30004 	lw	v1,4(s8)
8001162c:	00000000 	nop
80011630:	0062102b 	sltu	v0,v1,v0
80011634:	1040fff1 	beqz	v0,800115fc <memset+0xd4>
80011638:	00000000 	nop
/home/git/21371068/lib/string.c:49
	}

	// finish the remaining 0-3 bytes
	while (dst < max) {
8001163c:	10000008 	b	80011660 <memset+0x138>
80011640:	00000000 	nop
/home/git/21371068/lib/string.c:50
		*(u_char *)dst++ = byte;
80011644:	8fc20018 	lw	v0,24(s8)
80011648:	00000000 	nop
8001164c:	24430001 	addiu	v1,v0,1
80011650:	afc30018 	sw	v1,24(s8)
80011654:	93c30008 	lbu	v1,8(s8)
80011658:	00000000 	nop
8001165c:	a0430000 	sb	v1,0(v0)
/home/git/21371068/lib/string.c:49
	while (dst < max) {
80011660:	8fc30018 	lw	v1,24(s8)
80011664:	8fc20004 	lw	v0,4(s8)
80011668:	00000000 	nop
8001166c:	0062102b 	sltu	v0,v1,v0
80011670:	1440fff4 	bnez	v0,80011644 <memset+0x11c>
80011674:	00000000 	nop
/home/git/21371068/lib/string.c:52
	}
	return dstaddr;
80011678:	8fc20000 	lw	v0,0(s8)
/home/git/21371068/lib/string.c:53
}
8001167c:	03c0e825 	move	sp,s8
80011680:	8fbe0014 	lw	s8,20(sp)
80011684:	27bd0018 	addiu	sp,sp,24
80011688:	03e00008 	jr	ra
8001168c:	00000000 	nop

80011690 <strlen>:
strlen():
/home/git/21371068/lib/string.c:55

size_t strlen(const char *s) {
80011690:	27bdfff0 	addiu	sp,sp,-16
80011694:	afbe000c 	sw	s8,12(sp)
80011698:	03a0f025 	move	s8,sp
8001169c:	afc40010 	sw	a0,16(s8)
/home/git/21371068/lib/string.c:58
	int n;

	for (n = 0; *s; s++) {
800116a0:	afc00000 	sw	zero,0(s8)
800116a4:	10000009 	b	800116cc <strlen+0x3c>
800116a8:	00000000 	nop
/home/git/21371068/lib/string.c:59 (discriminator 3)
		n++;
800116ac:	8fc20000 	lw	v0,0(s8)
800116b0:	00000000 	nop
800116b4:	24420001 	addiu	v0,v0,1
800116b8:	afc20000 	sw	v0,0(s8)
/home/git/21371068/lib/string.c:58 (discriminator 3)
	for (n = 0; *s; s++) {
800116bc:	8fc20010 	lw	v0,16(s8)
800116c0:	00000000 	nop
800116c4:	24420001 	addiu	v0,v0,1
800116c8:	afc20010 	sw	v0,16(s8)
/home/git/21371068/lib/string.c:58 (discriminator 1)
800116cc:	8fc20010 	lw	v0,16(s8)
800116d0:	00000000 	nop
800116d4:	80420000 	lb	v0,0(v0)
800116d8:	00000000 	nop
800116dc:	1440fff3 	bnez	v0,800116ac <strlen+0x1c>
800116e0:	00000000 	nop
/home/git/21371068/lib/string.c:62
	}

	return n;
800116e4:	8fc20000 	lw	v0,0(s8)
/home/git/21371068/lib/string.c:63
}
800116e8:	03c0e825 	move	sp,s8
800116ec:	8fbe000c 	lw	s8,12(sp)
800116f0:	27bd0010 	addiu	sp,sp,16
800116f4:	03e00008 	jr	ra
800116f8:	00000000 	nop

800116fc <strcpy>:
strcpy():
/home/git/21371068/lib/string.c:65

char *strcpy(char *dst, const char *src) {
800116fc:	27bdfff0 	addiu	sp,sp,-16
80011700:	afbe000c 	sw	s8,12(sp)
80011704:	03a0f025 	move	s8,sp
80011708:	afc40010 	sw	a0,16(s8)
8001170c:	afc50014 	sw	a1,20(s8)
/home/git/21371068/lib/string.c:66
	char *ret = dst;
80011710:	8fc20010 	lw	v0,16(s8)
80011714:	00000000 	nop
80011718:	afc20000 	sw	v0,0(s8)
/home/git/21371068/lib/string.c:68

	while ((*dst++ = *src++) != 0) {
8001171c:	00000000 	nop
/home/git/21371068/lib/string.c:68 (discriminator 1)
80011720:	8fc30014 	lw	v1,20(s8)
80011724:	00000000 	nop
80011728:	24620001 	addiu	v0,v1,1
8001172c:	afc20014 	sw	v0,20(s8)
80011730:	8fc20010 	lw	v0,16(s8)
80011734:	00000000 	nop
80011738:	24440001 	addiu	a0,v0,1
8001173c:	afc40010 	sw	a0,16(s8)
80011740:	80630000 	lb	v1,0(v1)
80011744:	00000000 	nop
80011748:	a0430000 	sb	v1,0(v0)
8001174c:	80420000 	lb	v0,0(v0)
80011750:	00000000 	nop
80011754:	1440fff2 	bnez	v0,80011720 <strcpy+0x24>
80011758:	00000000 	nop
/home/git/21371068/lib/string.c:71
	}

	return ret;
8001175c:	8fc20000 	lw	v0,0(s8)
/home/git/21371068/lib/string.c:72
}
80011760:	03c0e825 	move	sp,s8
80011764:	8fbe000c 	lw	s8,12(sp)
80011768:	27bd0010 	addiu	sp,sp,16
8001176c:	03e00008 	jr	ra
80011770:	00000000 	nop

80011774 <strchr>:
strchr():
/home/git/21371068/lib/string.c:74

const char *strchr(const char *s, int c) {
80011774:	27bdfff8 	addiu	sp,sp,-8
80011778:	afbe0004 	sw	s8,4(sp)
8001177c:	03a0f025 	move	s8,sp
80011780:	afc40008 	sw	a0,8(s8)
80011784:	afc5000c 	sw	a1,12(s8)
/home/git/21371068/lib/string.c:75
	for (; *s; s++) {
80011788:	10000011 	b	800117d0 <strchr+0x5c>
8001178c:	00000000 	nop
/home/git/21371068/lib/string.c:76
		if (*s == c) {
80011790:	8fc20008 	lw	v0,8(s8)
80011794:	00000000 	nop
80011798:	80420000 	lb	v0,0(v0)
8001179c:	00000000 	nop
800117a0:	00401825 	move	v1,v0
800117a4:	8fc2000c 	lw	v0,12(s8)
800117a8:	00000000 	nop
800117ac:	14430004 	bne	v0,v1,800117c0 <strchr+0x4c>
800117b0:	00000000 	nop
/home/git/21371068/lib/string.c:77
			return s;
800117b4:	8fc20008 	lw	v0,8(s8)
800117b8:	1000000c 	b	800117ec <strchr+0x78>
800117bc:	00000000 	nop
/home/git/21371068/lib/string.c:75
	for (; *s; s++) {
800117c0:	8fc20008 	lw	v0,8(s8)
800117c4:	00000000 	nop
800117c8:	24420001 	addiu	v0,v0,1
800117cc:	afc20008 	sw	v0,8(s8)
/home/git/21371068/lib/string.c:75 (discriminator 1)
800117d0:	8fc20008 	lw	v0,8(s8)
800117d4:	00000000 	nop
800117d8:	80420000 	lb	v0,0(v0)
800117dc:	00000000 	nop
800117e0:	1440ffeb 	bnez	v0,80011790 <strchr+0x1c>
800117e4:	00000000 	nop
/home/git/21371068/lib/string.c:80
		}
	}
	return 0;
800117e8:	00001025 	move	v0,zero
/home/git/21371068/lib/string.c:81
}
800117ec:	03c0e825 	move	sp,s8
800117f0:	8fbe0004 	lw	s8,4(sp)
800117f4:	27bd0008 	addiu	sp,sp,8
800117f8:	03e00008 	jr	ra
800117fc:	00000000 	nop

80011800 <strcmp>:
strcmp():
/home/git/21371068/lib/string.c:83

int strcmp(const char *p, const char *q) {
80011800:	27bdfff8 	addiu	sp,sp,-8
80011804:	afbe0004 	sw	s8,4(sp)
80011808:	03a0f025 	move	s8,sp
8001180c:	afc40008 	sw	a0,8(s8)
80011810:	afc5000c 	sw	a1,12(s8)
/home/git/21371068/lib/string.c:84
	while (*p && *p == *q) {
80011814:	10000009 	b	8001183c <strcmp+0x3c>
80011818:	00000000 	nop
/home/git/21371068/lib/string.c:85
		p++, q++;
8001181c:	8fc20008 	lw	v0,8(s8)
80011820:	00000000 	nop
80011824:	24420001 	addiu	v0,v0,1
80011828:	afc20008 	sw	v0,8(s8)
8001182c:	8fc2000c 	lw	v0,12(s8)
80011830:	00000000 	nop
80011834:	24420001 	addiu	v0,v0,1
80011838:	afc2000c 	sw	v0,12(s8)
/home/git/21371068/lib/string.c:84
	while (*p && *p == *q) {
8001183c:	8fc20008 	lw	v0,8(s8)
80011840:	00000000 	nop
80011844:	80420000 	lb	v0,0(v0)
80011848:	00000000 	nop
8001184c:	1040000a 	beqz	v0,80011878 <strcmp+0x78>
80011850:	00000000 	nop
/home/git/21371068/lib/string.c:84 (discriminator 1)
80011854:	8fc20008 	lw	v0,8(s8)
80011858:	00000000 	nop
8001185c:	80430000 	lb	v1,0(v0)
80011860:	8fc2000c 	lw	v0,12(s8)
80011864:	00000000 	nop
80011868:	80420000 	lb	v0,0(v0)
8001186c:	00000000 	nop
80011870:	1062ffea 	beq	v1,v0,8001181c <strcmp+0x1c>
80011874:	00000000 	nop
/home/git/21371068/lib/string.c:88
	}

	if ((u_int)*p < (u_int)*q) {
80011878:	8fc20008 	lw	v0,8(s8)
8001187c:	00000000 	nop
80011880:	80420000 	lb	v0,0(v0)
80011884:	00000000 	nop
80011888:	304300ff 	andi	v1,v0,0xff
8001188c:	8fc2000c 	lw	v0,12(s8)
80011890:	00000000 	nop
80011894:	80420000 	lb	v0,0(v0)
80011898:	00000000 	nop
8001189c:	304200ff 	andi	v0,v0,0xff
800118a0:	0062102b 	sltu	v0,v1,v0
800118a4:	10400004 	beqz	v0,800118b8 <strcmp+0xb8>
800118a8:	00000000 	nop
/home/git/21371068/lib/string.c:89
		return -1;
800118ac:	2402ffff 	li	v0,-1
800118b0:	10000012 	b	800118fc <strcmp+0xfc>
800118b4:	00000000 	nop
/home/git/21371068/lib/string.c:92
	}

	if ((u_int)*p > (u_int)*q) {
800118b8:	8fc20008 	lw	v0,8(s8)
800118bc:	00000000 	nop
800118c0:	80420000 	lb	v0,0(v0)
800118c4:	00000000 	nop
800118c8:	304300ff 	andi	v1,v0,0xff
800118cc:	8fc2000c 	lw	v0,12(s8)
800118d0:	00000000 	nop
800118d4:	80420000 	lb	v0,0(v0)
800118d8:	00000000 	nop
800118dc:	304200ff 	andi	v0,v0,0xff
800118e0:	0043102b 	sltu	v0,v0,v1
800118e4:	10400004 	beqz	v0,800118f8 <strcmp+0xf8>
800118e8:	00000000 	nop
/home/git/21371068/lib/string.c:93
		return 1;
800118ec:	24020001 	li	v0,1
800118f0:	10000002 	b	800118fc <strcmp+0xfc>
800118f4:	00000000 	nop
/home/git/21371068/lib/string.c:96
	}

	return 0;
800118f8:	00001025 	move	v0,zero
/home/git/21371068/lib/string.c:97
}
800118fc:	03c0e825 	move	sp,s8
80011900:	8fbe0004 	lw	s8,4(sp)
80011904:	27bd0008 	addiu	sp,sp,8
80011908:	03e00008 	jr	ra
8001190c:	00000000 	nop

80011910 <mips_init>:
mips_init():
/home/git/21371068/init/init.c:14
// generated one from 'tests/lab?_?'.
#ifdef MOS_INIT_OVERRIDDEN
#include <generated/init_override.h>
#else

void mips_init() {
80011910:	27bdffe8 	addiu	sp,sp,-24
80011914:	afbf0014 	sw	ra,20(sp)
80011918:	afbe0010 	sw	s8,16(sp)
8001191c:	03a0f025 	move	s8,sp
/home/git/21371068/init/init.c:15
  printk("init.c:\tmips_init() is called\n");
80011920:	3c028002 	lui	v0,0x8002
80011924:	24448790 	addiu	a0,v0,-30832
80011928:	0c005a6d 	jal	800169b4 <printk>
8001192c:	00000000 	nop
/home/git/21371068/init/init.c:18

  // lab2:
  mips_detect_memory();
80011930:	0c005171 	jal	800145c4 <mips_detect_memory>
80011934:	00000000 	nop
/home/git/21371068/init/init.c:19
  mips_vm_init();
80011938:	0c0051fa 	jal	800147e8 <mips_vm_init>
8001193c:	00000000 	nop
/home/git/21371068/init/init.c:20
  page_init();
80011940:	0c005220 	jal	80014880 <page_init>
80011944:	00000000 	nop
/home/git/21371068/init/init.c:23

  // lab3:
  env_init();
80011948:	0c0048e1 	jal	80012384 <env_init>
8001194c:	00000000 	nop
/home/git/21371068/init/init.c:26

  // lab3:
  ENV_CREATE_PRIORITY(user_bare_loop, 1);
80011950:	3c028002 	lui	v0,0x8002
80011954:	8c429780 	lw	v0,-26752(v0)
80011958:	24060001 	li	a2,1
8001195c:	00402825 	move	a1,v0
80011960:	3c028002 	lui	v0,0x8002
80011964:	24449784 	addiu	a0,v0,-26748
80011968:	0c004b21 	jal	80012c84 <env_create>
8001196c:	00000000 	nop
/home/git/21371068/init/init.c:27
  ENV_CREATE_PRIORITY(user_bare_loop, 2);
80011970:	3c028002 	lui	v0,0x8002
80011974:	8c429780 	lw	v0,-26752(v0)
80011978:	24060002 	li	a2,2
8001197c:	00402825 	move	a1,v0
80011980:	3c028002 	lui	v0,0x8002
80011984:	24449784 	addiu	a0,v0,-26748
80011988:	0c004b21 	jal	80012c84 <env_create>
8001198c:	00000000 	nop
/home/git/21371068/init/init.c:31

  // lab4:
  // ENV_CREATE(user_tltest);
  ENV_CREATE(user_fktest);
80011990:	3c028003 	lui	v0,0x8003
80011994:	8c42b130 	lw	v0,-20176(v0)
80011998:	24060001 	li	a2,1
8001199c:	00402825 	move	a1,v0
800119a0:	3c028003 	lui	v0,0x8003
800119a4:	2444b134 	addiu	a0,v0,-20172
800119a8:	0c004b21 	jal	80012c84 <env_create>
800119ac:	00000000 	nop
/home/git/21371068/init/init.c:43
  // ENV_CREATE(user_fstest);
  // ENV_CREATE(fs_serv);  // This must be the second env!
  // ENV_CREATE(user_devtst);

  // lab3:
  printk("Ready\n");
800119b0:	3c028002 	lui	v0,0x8002
800119b4:	244487b0 	addiu	a0,v0,-30800
800119b8:	0c005a6d 	jal	800169b4 <printk>
800119bc:	00000000 	nop
/home/git/21371068/init/init.c:44
  kclock_init();
800119c0:	0c004ff0 	jal	80013fc0 <kclock_init>
800119c4:	00000000 	nop
/home/git/21371068/init/init.c:45
  printk("clock inited\n");
800119c8:	3c028002 	lui	v0,0x8002
800119cc:	244487b8 	addiu	a0,v0,-30792
800119d0:	0c005a6d 	jal	800169b4 <printk>
800119d4:	00000000 	nop
/home/git/21371068/init/init.c:46
  enable_irq();
800119d8:	0c004f99 	jal	80013e64 <enable_irq>
800119dc:	00000000 	nop
/home/git/21371068/init/init.c:47
  printk("Fin\n");
800119e0:	3c028002 	lui	v0,0x8002
800119e4:	244487c8 	addiu	a0,v0,-30776
800119e8:	0c005a6d 	jal	800169b4 <printk>
800119ec:	00000000 	nop
/home/git/21371068/init/init.c:48 (discriminator 1)
  while (1) {
800119f0:	1000ffff 	b	800119f0 <mips_init+0xe0>
800119f4:	00000000 	nop
	...

80011a00 <_start>:
_start():
/home/git/21371068/init/start.S:9
.text
EXPORT(_start)
.set at
.set reorder
	/* disable interrupts */
	mtc0    zero, CP0_STATUS
80011a00:	40806000 	mtc0	zero,c0_sr
/home/git/21371068/init/start.S:15

	/* hint: you can reference the memory layout in include/mmu.h */
	/* set up the kernel stack */
	/* Exercise 1.3: Your code here. (1/2) */
	
	li sp, 0x80400000
80011a04:	3c1d8040 	lui	sp,0x8040
/home/git/21371068/init/start.S:19
	/* jump to mips_init */
	/* Exercise 1.3: Your code here. (2/2) */
	
	jal mips_init
80011a08:	0c004644 	jal	80011910 <mips_init>
80011a0c:	00000000 	nop

80011a10 <printcharc>:
printcharc():
/home/git/21371068/kern/console.c:4
#include <drivers/dev_cons.h>
#include <mmu.h>

void printcharc(char ch) {
80011a10:	27bdfff8 	addiu	sp,sp,-8
80011a14:	afbe0004 	sw	s8,4(sp)
80011a18:	03a0f025 	move	s8,sp
80011a1c:	00801025 	move	v0,a0
80011a20:	a3c20008 	sb	v0,8(s8)
/home/git/21371068/kern/console.c:5
	*((volatile char *)(KSEG1 + DEV_CONS_ADDRESS + DEV_CONS_PUTGETCHAR)) = ch;
80011a24:	3c02b000 	lui	v0,0xb000
80011a28:	93c30008 	lbu	v1,8(s8)
80011a2c:	00000000 	nop
80011a30:	a0430000 	sb	v1,0(v0)
/home/git/21371068/kern/console.c:6
}
80011a34:	00000000 	nop
80011a38:	03c0e825 	move	sp,s8
80011a3c:	8fbe0004 	lw	s8,4(sp)
80011a40:	27bd0008 	addiu	sp,sp,8
80011a44:	03e00008 	jr	ra
80011a48:	00000000 	nop

80011a4c <scancharc>:
scancharc():
/home/git/21371068/kern/console.c:8

char scancharc(void) {
80011a4c:	27bdfff8 	addiu	sp,sp,-8
80011a50:	afbe0004 	sw	s8,4(sp)
80011a54:	03a0f025 	move	s8,sp
/home/git/21371068/kern/console.c:9
	return *((volatile char *)(KSEG1 + DEV_CONS_ADDRESS + DEV_CONS_PUTGETCHAR));
80011a58:	3c02b000 	lui	v0,0xb000
80011a5c:	90420000 	lbu	v0,0(v0)
80011a60:	00000000 	nop
80011a64:	00021600 	sll	v0,v0,0x18
80011a68:	00021603 	sra	v0,v0,0x18
/home/git/21371068/kern/console.c:10
}
80011a6c:	03c0e825 	move	sp,s8
80011a70:	8fbe0004 	lw	s8,4(sp)
80011a74:	27bd0008 	addiu	sp,sp,8
80011a78:	03e00008 	jr	ra
80011a7c:	00000000 	nop

80011a80 <halt>:
halt():
/home/git/21371068/kern/console.c:12

void halt(void) {
80011a80:	27bdfff8 	addiu	sp,sp,-8
80011a84:	afbe0004 	sw	s8,4(sp)
80011a88:	03a0f025 	move	s8,sp
/home/git/21371068/kern/console.c:13
	*((volatile char *)(KSEG1 + DEV_CONS_ADDRESS + DEV_CONS_HALT)) = 0;
80011a8c:	3c02b000 	lui	v0,0xb000
80011a90:	34420010 	ori	v0,v0,0x10
80011a94:	a0400000 	sb	zero,0(v0)
/home/git/21371068/kern/console.c:14
}
80011a98:	00000000 	nop
80011a9c:	03c0e825 	move	sp,s8
80011aa0:	8fbe0004 	lw	s8,4(sp)
80011aa4:	27bd0008 	addiu	sp,sp,8
80011aa8:	03e00008 	jr	ra
80011aac:	00000000 	nop

80011ab0 <page2ppn>:
page2ppn():
/home/git/21371068/kern/../include/pmap.h:28
};

extern struct Page *pages;
extern struct Page_list page_free_list;

static inline u_long page2ppn(struct Page *pp) {
80011ab0:	27bdfff8 	addiu	sp,sp,-8
80011ab4:	afbe0004 	sw	s8,4(sp)
80011ab8:	03a0f025 	move	s8,sp
80011abc:	afc40008 	sw	a0,8(s8)
/home/git/21371068/kern/../include/pmap.h:29
	return pp - pages;
80011ac0:	3c02800d 	lui	v0,0x800d
80011ac4:	8c42e028 	lw	v0,-8152(v0)
80011ac8:	8fc30008 	lw	v1,8(s8)
80011acc:	00000000 	nop
80011ad0:	00621023 	subu	v0,v1,v0
80011ad4:	00021883 	sra	v1,v0,0x2
80011ad8:	00601025 	move	v0,v1
80011adc:	00021080 	sll	v0,v0,0x2
80011ae0:	00431021 	addu	v0,v0,v1
80011ae4:	00021900 	sll	v1,v0,0x4
80011ae8:	00431021 	addu	v0,v0,v1
80011aec:	00021a00 	sll	v1,v0,0x8
80011af0:	00431021 	addu	v0,v0,v1
80011af4:	00021c00 	sll	v1,v0,0x10
80011af8:	00431021 	addu	v0,v0,v1
80011afc:	00021023 	negu	v0,v0
/home/git/21371068/kern/../include/pmap.h:30
}
80011b00:	03c0e825 	move	sp,s8
80011b04:	8fbe0004 	lw	s8,4(sp)
80011b08:	27bd0008 	addiu	sp,sp,8
80011b0c:	03e00008 	jr	ra
80011b10:	00000000 	nop

80011b14 <page2pa>:
page2pa():
/home/git/21371068/kern/../include/pmap.h:32

static inline u_long page2pa(struct Page *pp) {
80011b14:	27bdffe8 	addiu	sp,sp,-24
80011b18:	afbf0014 	sw	ra,20(sp)
80011b1c:	afbe0010 	sw	s8,16(sp)
80011b20:	03a0f025 	move	s8,sp
80011b24:	afc40018 	sw	a0,24(s8)
/home/git/21371068/kern/../include/pmap.h:33
	return page2ppn(pp) << PGSHIFT;
80011b28:	8fc40018 	lw	a0,24(s8)
80011b2c:	0c0046ac 	jal	80011ab0 <page2ppn>
80011b30:	00000000 	nop
80011b34:	00021300 	sll	v0,v0,0xc
/home/git/21371068/kern/../include/pmap.h:34
}
80011b38:	03c0e825 	move	sp,s8
80011b3c:	8fbf0014 	lw	ra,20(sp)
80011b40:	8fbe0010 	lw	s8,16(sp)
80011b44:	27bd0018 	addiu	sp,sp,24
80011b48:	03e00008 	jr	ra
80011b4c:	00000000 	nop

80011b50 <pa2page>:
pa2page():
/home/git/21371068/kern/../include/pmap.h:36

static inline struct Page *pa2page(u_long pa) {
80011b50:	27bdffe0 	addiu	sp,sp,-32
80011b54:	afbf001c 	sw	ra,28(sp)
80011b58:	afbe0018 	sw	s8,24(sp)
80011b5c:	03a0f025 	move	s8,sp
80011b60:	afc40020 	sw	a0,32(s8)
/home/git/21371068/kern/../include/pmap.h:37
	if (PPN(pa) >= npage) {
80011b64:	8fc20020 	lw	v0,32(s8)
80011b68:	00000000 	nop
80011b6c:	00021b02 	srl	v1,v0,0xc
80011b70:	3c02800d 	lui	v0,0x800d
80011b74:	8c42e020 	lw	v0,-8160(v0)
80011b78:	00000000 	nop
80011b7c:	0062102b 	sltu	v0,v1,v0
80011b80:	1440000d 	bnez	v0,80011bb8 <pa2page+0x68>
80011b84:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:38
		panic("pa2page called with invalid pa: %x", pa);
80011b88:	8fc20020 	lw	v0,32(s8)
80011b8c:	00000000 	nop
80011b90:	afa20010 	sw	v0,16(sp)
80011b94:	3c028002 	lui	v0,0x8002
80011b98:	244787d0 	addiu	a3,v0,-30768
80011b9c:	3c028002 	lui	v0,0x8002
80011ba0:	24468c54 	addiu	a2,v0,-29612
80011ba4:	24050026 	li	a1,38
80011ba8:	3c028002 	lui	v0,0x8002
80011bac:	244487f4 	addiu	a0,v0,-30732
80011bb0:	0c004ff8 	jal	80013fe0 <_panic>
80011bb4:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:40
	}
	return &pages[PPN(pa)];
80011bb8:	3c02800d 	lui	v0,0x800d
80011bbc:	8c44e028 	lw	a0,-8152(v0)
80011bc0:	8fc20020 	lw	v0,32(s8)
80011bc4:	00000000 	nop
80011bc8:	00021b02 	srl	v1,v0,0xc
80011bcc:	00601025 	move	v0,v1
80011bd0:	00021040 	sll	v0,v0,0x1
80011bd4:	00431021 	addu	v0,v0,v1
80011bd8:	00021080 	sll	v0,v0,0x2
80011bdc:	00821021 	addu	v0,a0,v0
/home/git/21371068/kern/../include/pmap.h:41
}
80011be0:	03c0e825 	move	sp,s8
80011be4:	8fbf001c 	lw	ra,28(sp)
80011be8:	8fbe0018 	lw	s8,24(sp)
80011bec:	27bd0020 	addiu	sp,sp,32
80011bf0:	03e00008 	jr	ra
80011bf4:	00000000 	nop

80011bf8 <page2kva>:
page2kva():
/home/git/21371068/kern/../include/pmap.h:43

static inline u_long page2kva(struct Page *pp) {
80011bf8:	27bdffd8 	addiu	sp,sp,-40
80011bfc:	afbf0024 	sw	ra,36(sp)
80011c00:	afbe0020 	sw	s8,32(sp)
80011c04:	03a0f025 	move	s8,sp
80011c08:	afc40028 	sw	a0,40(s8)
/home/git/21371068/kern/../include/pmap.h:44
	return KADDR(page2pa(pp));
80011c0c:	8fc40028 	lw	a0,40(s8)
80011c10:	0c0046c5 	jal	80011b14 <page2pa>
80011c14:	00000000 	nop
80011c18:	00021302 	srl	v0,v0,0xc
80011c1c:	afc20018 	sw	v0,24(s8)
80011c20:	3c02800d 	lui	v0,0x800d
80011c24:	8c42e020 	lw	v0,-8160(v0)
80011c28:	8fc30018 	lw	v1,24(s8)
80011c2c:	00000000 	nop
80011c30:	0062102b 	sltu	v0,v1,v0
80011c34:	1440000e 	bnez	v0,80011c70 <page2kva+0x78>
80011c38:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:44 (discriminator 1)
80011c3c:	8fc40028 	lw	a0,40(s8)
80011c40:	0c0046c5 	jal	80011b14 <page2pa>
80011c44:	00000000 	nop
80011c48:	afa20010 	sw	v0,16(sp)
80011c4c:	3c028002 	lui	v0,0x8002
80011c50:	24478808 	addiu	a3,v0,-30712
80011c54:	3c028002 	lui	v0,0x8002
80011c58:	24468c68 	addiu	a2,v0,-29592
80011c5c:	2405002c 	li	a1,44
80011c60:	3c028002 	lui	v0,0x8002
80011c64:	244487f4 	addiu	a0,v0,-30732
80011c68:	0c004ff8 	jal	80013fe0 <_panic>
80011c6c:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:44 (discriminator 3)
80011c70:	8fc40028 	lw	a0,40(s8)
80011c74:	0c0046c5 	jal	80011b14 <page2pa>
80011c78:	00000000 	nop
80011c7c:	00401825 	move	v1,v0
80011c80:	3c028000 	lui	v0,0x8000
80011c84:	00621021 	addu	v0,v1,v0
/home/git/21371068/kern/../include/pmap.h:45 (discriminator 3)
}
80011c88:	03c0e825 	move	sp,s8
80011c8c:	8fbf0024 	lw	ra,36(sp)
80011c90:	8fbe0020 	lw	s8,32(sp)
80011c94:	27bd0028 	addiu	sp,sp,40
80011c98:	03e00008 	jr	ra
80011c9c:	00000000 	nop

80011ca0 <va2pa>:
va2pa():
/home/git/21371068/kern/../include/pmap.h:47

static inline u_long va2pa(Pde *pgdir, u_long va) {
80011ca0:	27bdffd8 	addiu	sp,sp,-40
80011ca4:	afbf0024 	sw	ra,36(sp)
80011ca8:	afbe0020 	sw	s8,32(sp)
80011cac:	03a0f025 	move	s8,sp
80011cb0:	afc40028 	sw	a0,40(s8)
80011cb4:	afc5002c 	sw	a1,44(s8)
/home/git/21371068/kern/../include/pmap.h:50
	Pte *p;

	pgdir = &pgdir[PDX(va)];
80011cb8:	8fc2002c 	lw	v0,44(s8)
80011cbc:	00000000 	nop
80011cc0:	00021582 	srl	v0,v0,0x16
80011cc4:	00021080 	sll	v0,v0,0x2
80011cc8:	8fc30028 	lw	v1,40(s8)
80011ccc:	00000000 	nop
80011cd0:	00621021 	addu	v0,v1,v0
80011cd4:	afc20028 	sw	v0,40(s8)
/home/git/21371068/kern/../include/pmap.h:51
	if (!(*pgdir & PTE_V)) {
80011cd8:	8fc20028 	lw	v0,40(s8)
80011cdc:	00000000 	nop
80011ce0:	8c420000 	lw	v0,0(v0)
80011ce4:	00000000 	nop
80011ce8:	30420200 	andi	v0,v0,0x200
80011cec:	14400004 	bnez	v0,80011d00 <va2pa+0x60>
80011cf0:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:52
		return ~0;
80011cf4:	2402ffff 	li	v0,-1
80011cf8:	10000040 	b	80011dfc <va2pa+0x15c>
80011cfc:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:54
	}
	p = (Pte *)KADDR(PTE_ADDR(*pgdir));
80011d00:	8fc20028 	lw	v0,40(s8)
80011d04:	00000000 	nop
80011d08:	8c420000 	lw	v0,0(v0)
80011d0c:	00000000 	nop
80011d10:	00021302 	srl	v0,v0,0xc
80011d14:	afc20018 	sw	v0,24(s8)
80011d18:	3c02800d 	lui	v0,0x800d
80011d1c:	8c42e020 	lw	v0,-8160(v0)
80011d20:	8fc30018 	lw	v1,24(s8)
80011d24:	00000000 	nop
80011d28:	0062102b 	sltu	v0,v1,v0
80011d2c:	14400010 	bnez	v0,80011d70 <va2pa+0xd0>
80011d30:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:54 (discriminator 1)
80011d34:	8fc20028 	lw	v0,40(s8)
80011d38:	00000000 	nop
80011d3c:	8c430000 	lw	v1,0(v0)
80011d40:	2402f000 	li	v0,-4096
80011d44:	00621024 	and	v0,v1,v0
80011d48:	afa20010 	sw	v0,16(sp)
80011d4c:	3c028002 	lui	v0,0x8002
80011d50:	24478808 	addiu	a3,v0,-30712
80011d54:	3c028002 	lui	v0,0x8002
80011d58:	24468cb0 	addiu	a2,v0,-29520
80011d5c:	24050036 	li	a1,54
80011d60:	3c028002 	lui	v0,0x8002
80011d64:	244487f4 	addiu	a0,v0,-30732
80011d68:	0c004ff8 	jal	80013fe0 <_panic>
80011d6c:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:54 (discriminator 3)
80011d70:	8fc20028 	lw	v0,40(s8)
80011d74:	00000000 	nop
80011d78:	8c430000 	lw	v1,0(v0)
80011d7c:	2402f000 	li	v0,-4096
80011d80:	00621824 	and	v1,v1,v0
80011d84:	3c028000 	lui	v0,0x8000
80011d88:	00621021 	addu	v0,v1,v0
80011d8c:	afc2001c 	sw	v0,28(s8)
/home/git/21371068/kern/../include/pmap.h:55 (discriminator 3)
	if (!(p[PTX(va)] & PTE_V)) {
80011d90:	8fc2002c 	lw	v0,44(s8)
80011d94:	00000000 	nop
80011d98:	00021302 	srl	v0,v0,0xc
80011d9c:	304203ff 	andi	v0,v0,0x3ff
80011da0:	00021080 	sll	v0,v0,0x2
80011da4:	8fc3001c 	lw	v1,28(s8)
80011da8:	00000000 	nop
80011dac:	00621021 	addu	v0,v1,v0
80011db0:	8c420000 	lw	v0,0(v0)
80011db4:	00000000 	nop
80011db8:	30420200 	andi	v0,v0,0x200
80011dbc:	14400004 	bnez	v0,80011dd0 <va2pa+0x130>
80011dc0:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:56
		return ~0;
80011dc4:	2402ffff 	li	v0,-1
80011dc8:	1000000c 	b	80011dfc <va2pa+0x15c>
80011dcc:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:58
	}
	return PTE_ADDR(p[PTX(va)]);
80011dd0:	8fc2002c 	lw	v0,44(s8)
80011dd4:	00000000 	nop
80011dd8:	00021302 	srl	v0,v0,0xc
80011ddc:	304203ff 	andi	v0,v0,0x3ff
80011de0:	00021080 	sll	v0,v0,0x2
80011de4:	8fc3001c 	lw	v1,28(s8)
80011de8:	00000000 	nop
80011dec:	00621021 	addu	v0,v1,v0
80011df0:	8c430000 	lw	v1,0(v0)
80011df4:	2402f000 	li	v0,-4096
80011df8:	00621024 	and	v0,v1,v0
/home/git/21371068/kern/../include/pmap.h:59
}
80011dfc:	03c0e825 	move	sp,s8
80011e00:	8fbf0024 	lw	ra,36(sp)
80011e04:	8fbe0020 	lw	s8,32(sp)
80011e08:	27bd0028 	addiu	sp,sp,40
80011e0c:	03e00008 	jr	ra
80011e10:	00000000 	nop

80011e14 <asid_alloc>:
asid_alloc():
/home/git/21371068/kern/env.c:32
 *
 * Post-Condition:
 *   return 0 and set '*asid' to the allocated ASID on success.
 *   return -E_NO_FREE_ENV if no ASID is available.
 */
static int asid_alloc(u_int *asid) {
80011e14:	27bdffe8 	addiu	sp,sp,-24
80011e18:	afbe0014 	sw	s8,20(sp)
80011e1c:	03a0f025 	move	s8,sp
80011e20:	afc40018 	sw	a0,24(s8)
/home/git/21371068/kern/env.c:33
  for (u_int i = 0; i < NASID; ++i) {
80011e24:	afc00000 	sw	zero,0(s8)
80011e28:	10000035 	b	80011f00 <asid_alloc+0xec>
80011e2c:	00000000 	nop
/home/git/21371068/kern/env.c:34
    int index = i >> 5;
80011e30:	8fc20000 	lw	v0,0(s8)
80011e34:	00000000 	nop
80011e38:	00021142 	srl	v0,v0,0x5
80011e3c:	afc20004 	sw	v0,4(s8)
/home/git/21371068/kern/env.c:35
    int inner = i & 31;
80011e40:	8fc20000 	lw	v0,0(s8)
80011e44:	00000000 	nop
80011e48:	3042001f 	andi	v0,v0,0x1f
80011e4c:	afc20008 	sw	v0,8(s8)
/home/git/21371068/kern/env.c:36
    if ((asid_bitmap[index] & (1 << inner)) == 0) {
80011e50:	3c02800d 	lui	v0,0x800d
80011e54:	8fc30004 	lw	v1,4(s8)
80011e58:	00000000 	nop
80011e5c:	00031880 	sll	v1,v1,0x2
80011e60:	2442e014 	addiu	v0,v0,-8172
80011e64:	00621021 	addu	v0,v1,v0
80011e68:	8c420000 	lw	v0,0(v0)
80011e6c:	24040001 	li	a0,1
80011e70:	8fc30008 	lw	v1,8(s8)
80011e74:	00000000 	nop
80011e78:	00641804 	sllv	v1,a0,v1
80011e7c:	00431024 	and	v0,v0,v1
80011e80:	1440001b 	bnez	v0,80011ef0 <asid_alloc+0xdc>
80011e84:	00000000 	nop
/home/git/21371068/kern/env.c:37
      asid_bitmap[index] |= 1 << inner;
80011e88:	3c02800d 	lui	v0,0x800d
80011e8c:	8fc30004 	lw	v1,4(s8)
80011e90:	00000000 	nop
80011e94:	00031880 	sll	v1,v1,0x2
80011e98:	2442e014 	addiu	v0,v0,-8172
80011e9c:	00621021 	addu	v0,v1,v0
80011ea0:	8c420000 	lw	v0,0(v0)
80011ea4:	24040001 	li	a0,1
80011ea8:	8fc30008 	lw	v1,8(s8)
80011eac:	00000000 	nop
80011eb0:	00641804 	sllv	v1,a0,v1
80011eb4:	00431825 	or	v1,v0,v1
80011eb8:	3c02800d 	lui	v0,0x800d
80011ebc:	8fc40004 	lw	a0,4(s8)
80011ec0:	00000000 	nop
80011ec4:	00042080 	sll	a0,a0,0x2
80011ec8:	2442e014 	addiu	v0,v0,-8172
80011ecc:	00821021 	addu	v0,a0,v0
80011ed0:	ac430000 	sw	v1,0(v0)
/home/git/21371068/kern/env.c:38
      *asid = i;
80011ed4:	8fc20018 	lw	v0,24(s8)
80011ed8:	8fc30000 	lw	v1,0(s8)
80011edc:	00000000 	nop
80011ee0:	ac430000 	sw	v1,0(v0)
/home/git/21371068/kern/env.c:39
      return 0;
80011ee4:	00001025 	move	v0,zero
80011ee8:	1000000b 	b	80011f18 <asid_alloc+0x104>
80011eec:	00000000 	nop
/home/git/21371068/kern/env.c:33 (discriminator 2)
  for (u_int i = 0; i < NASID; ++i) {
80011ef0:	8fc20000 	lw	v0,0(s8)
80011ef4:	00000000 	nop
80011ef8:	24420001 	addiu	v0,v0,1
80011efc:	afc20000 	sw	v0,0(s8)
/home/git/21371068/kern/env.c:33 (discriminator 1)
80011f00:	8fc20000 	lw	v0,0(s8)
80011f04:	00000000 	nop
80011f08:	2c420040 	sltiu	v0,v0,64
80011f0c:	1440ffc8 	bnez	v0,80011e30 <asid_alloc+0x1c>
80011f10:	00000000 	nop
/home/git/21371068/kern/env.c:42
    }
  }
  return -E_NO_FREE_ENV;
80011f14:	2402fffa 	li	v0,-6
/home/git/21371068/kern/env.c:43
}
80011f18:	03c0e825 	move	sp,s8
80011f1c:	8fbe0014 	lw	s8,20(sp)
80011f20:	27bd0018 	addiu	sp,sp,24
80011f24:	03e00008 	jr	ra
80011f28:	00000000 	nop

80011f2c <asid_free>:
asid_free():
/home/git/21371068/kern/env.c:54
 *  The ASID is allocated by 'asid_alloc'.
 *
 * Post-Condition:
 *  The ASID is freed and may be allocated again later.
 */
static void asid_free(u_int i) {
80011f2c:	27bdfff0 	addiu	sp,sp,-16
80011f30:	afbe000c 	sw	s8,12(sp)
80011f34:	03a0f025 	move	s8,sp
80011f38:	afc40010 	sw	a0,16(s8)
/home/git/21371068/kern/env.c:55
  int index = i >> 5;
80011f3c:	8fc20010 	lw	v0,16(s8)
80011f40:	00000000 	nop
80011f44:	00021142 	srl	v0,v0,0x5
80011f48:	afc20000 	sw	v0,0(s8)
/home/git/21371068/kern/env.c:56
  int inner = i & 31;
80011f4c:	8fc20010 	lw	v0,16(s8)
80011f50:	00000000 	nop
80011f54:	3042001f 	andi	v0,v0,0x1f
80011f58:	afc20004 	sw	v0,4(s8)
/home/git/21371068/kern/env.c:57
  asid_bitmap[index] &= ~(1 << inner);
80011f5c:	3c02800d 	lui	v0,0x800d
80011f60:	8fc30000 	lw	v1,0(s8)
80011f64:	00000000 	nop
80011f68:	00031880 	sll	v1,v1,0x2
80011f6c:	2442e014 	addiu	v0,v0,-8172
80011f70:	00621021 	addu	v0,v1,v0
80011f74:	8c420000 	lw	v0,0(v0)
80011f78:	24040001 	li	a0,1
80011f7c:	8fc30004 	lw	v1,4(s8)
80011f80:	00000000 	nop
80011f84:	00641804 	sllv	v1,a0,v1
80011f88:	00031827 	nor	v1,zero,v1
80011f8c:	00431824 	and	v1,v0,v1
80011f90:	3c02800d 	lui	v0,0x800d
80011f94:	8fc40000 	lw	a0,0(s8)
80011f98:	00000000 	nop
80011f9c:	00042080 	sll	a0,a0,0x2
80011fa0:	2442e014 	addiu	v0,v0,-8172
80011fa4:	00821021 	addu	v0,a0,v0
80011fa8:	ac430000 	sw	v1,0(v0)
/home/git/21371068/kern/env.c:58
}
80011fac:	00000000 	nop
80011fb0:	03c0e825 	move	sp,s8
80011fb4:	8fbe000c 	lw	s8,12(sp)
80011fb8:	27bd0010 	addiu	sp,sp,16
80011fbc:	03e00008 	jr	ra
80011fc0:	00000000 	nop

80011fc4 <map_segment>:
map_segment():
/home/git/21371068/kern/env.c:68
 *
 * Pre-Condition:
 *   'pa', 'va' and 'size' are aligned to 'BY2PG'.
 */
static void map_segment(Pde *pgdir, u_int asid, u_long pa, u_long va,
                        u_int size, u_int perm) {
80011fc4:	27bdffd8 	addiu	sp,sp,-40
80011fc8:	afbf0024 	sw	ra,36(sp)
80011fcc:	afbe0020 	sw	s8,32(sp)
80011fd0:	03a0f025 	move	s8,sp
80011fd4:	afc40028 	sw	a0,40(s8)
80011fd8:	afc5002c 	sw	a1,44(s8)
80011fdc:	afc60030 	sw	a2,48(s8)
80011fe0:	afc70034 	sw	a3,52(s8)
/home/git/21371068/kern/env.c:70

  assert(pa % BY2PG == 0);
80011fe4:	8fc20030 	lw	v0,48(s8)
80011fe8:	00000000 	nop
80011fec:	30420fff 	andi	v0,v0,0xfff
80011ff0:	1040000d 	beqz	v0,80012028 <map_segment+0x64>
80011ff4:	00000000 	nop
/home/git/21371068/kern/env.c:70 (discriminator 1)
80011ff8:	3c028002 	lui	v0,0x8002
80011ffc:	2442884c 	addiu	v0,v0,-30644
80012000:	afa20010 	sw	v0,16(sp)
80012004:	3c028002 	lui	v0,0x8002
80012008:	2447882c 	addiu	a3,v0,-30676
8001200c:	3c028002 	lui	v0,0x8002
80012010:	24468c48 	addiu	a2,v0,-29624
80012014:	24050046 	li	a1,70
80012018:	3c028002 	lui	v0,0x8002
8001201c:	24448844 	addiu	a0,v0,-30652
80012020:	0c004ff8 	jal	80013fe0 <_panic>
80012024:	00000000 	nop
/home/git/21371068/kern/env.c:71
  assert(va % BY2PG == 0);
80012028:	8fc20034 	lw	v0,52(s8)
8001202c:	00000000 	nop
80012030:	30420fff 	andi	v0,v0,0xfff
80012034:	1040000d 	beqz	v0,8001206c <map_segment+0xa8>
80012038:	00000000 	nop
/home/git/21371068/kern/env.c:71 (discriminator 1)
8001203c:	3c028002 	lui	v0,0x8002
80012040:	2442885c 	addiu	v0,v0,-30628
80012044:	afa20010 	sw	v0,16(sp)
80012048:	3c028002 	lui	v0,0x8002
8001204c:	2447882c 	addiu	a3,v0,-30676
80012050:	3c028002 	lui	v0,0x8002
80012054:	24468c48 	addiu	a2,v0,-29624
80012058:	24050047 	li	a1,71
8001205c:	3c028002 	lui	v0,0x8002
80012060:	24448844 	addiu	a0,v0,-30652
80012064:	0c004ff8 	jal	80013fe0 <_panic>
80012068:	00000000 	nop
/home/git/21371068/kern/env.c:72
  assert(size % BY2PG == 0);
8001206c:	8fc20038 	lw	v0,56(s8)
80012070:	00000000 	nop
80012074:	30420fff 	andi	v0,v0,0xfff
80012078:	1040000d 	beqz	v0,800120b0 <map_segment+0xec>
8001207c:	00000000 	nop
/home/git/21371068/kern/env.c:72 (discriminator 1)
80012080:	3c028002 	lui	v0,0x8002
80012084:	2442886c 	addiu	v0,v0,-30612
80012088:	afa20010 	sw	v0,16(sp)
8001208c:	3c028002 	lui	v0,0x8002
80012090:	2447882c 	addiu	a3,v0,-30676
80012094:	3c028002 	lui	v0,0x8002
80012098:	24468c48 	addiu	a2,v0,-29624
8001209c:	24050048 	li	a1,72
800120a0:	3c028002 	lui	v0,0x8002
800120a4:	24448844 	addiu	a0,v0,-30652
800120a8:	0c004ff8 	jal	80013fe0 <_panic>
800120ac:	00000000 	nop
/home/git/21371068/kern/env.c:76
  /* make sure that the address is round by pages */

  /* Step 1: Map virtual address space to physical address space. */
  for (int i = 0; i < size; i += BY2PG) {
800120b0:	afc00018 	sw	zero,24(s8)
800120b4:	1000001a 	b	80012120 <map_segment+0x15c>
800120b8:	00000000 	nop
/home/git/21371068/kern/env.c:84 (discriminator 3)
     *  Map the virtual page 'va + i' to the physical page 'pa + i' using
     * 'page_insert'. Use 'pa2page' to get the 'struct Page *' of the physical
     * address.
     */
    /* Exercise 3.2: Your code here. */
    page_insert(pgdir, asid, pa2page(pa + i), va + i, perm);
800120bc:	8fc30018 	lw	v1,24(s8)
800120c0:	8fc20030 	lw	v0,48(s8)
800120c4:	00000000 	nop
800120c8:	00621021 	addu	v0,v1,v0
800120cc:	00402025 	move	a0,v0
800120d0:	0c0046d4 	jal	80011b50 <pa2page>
800120d4:	00000000 	nop
800120d8:	00402025 	move	a0,v0
800120dc:	8fc30018 	lw	v1,24(s8)
800120e0:	8fc20034 	lw	v0,52(s8)
800120e4:	00000000 	nop
800120e8:	00621821 	addu	v1,v1,v0
800120ec:	8fc2003c 	lw	v0,60(s8)
800120f0:	00000000 	nop
800120f4:	afa20010 	sw	v0,16(sp)
800120f8:	00603825 	move	a3,v1
800120fc:	00803025 	move	a2,a0
80012100:	8fc5002c 	lw	a1,44(s8)
80012104:	8fc40028 	lw	a0,40(s8)
80012108:	0c005396 	jal	80014e58 <page_insert>
8001210c:	00000000 	nop
/home/git/21371068/kern/env.c:76 (discriminator 3)
  for (int i = 0; i < size; i += BY2PG) {
80012110:	8fc20018 	lw	v0,24(s8)
80012114:	00000000 	nop
80012118:	24421000 	addiu	v0,v0,4096
8001211c:	afc20018 	sw	v0,24(s8)
/home/git/21371068/kern/env.c:76 (discriminator 1)
80012120:	8fc20018 	lw	v0,24(s8)
80012124:	8fc30038 	lw	v1,56(s8)
80012128:	00000000 	nop
8001212c:	0043102b 	sltu	v0,v0,v1
80012130:	1440ffe2 	bnez	v0,800120bc <map_segment+0xf8>
80012134:	00000000 	nop
	...
/home/git/21371068/kern/env.c:86
  }
}
80012140:	03c0e825 	move	sp,s8
80012144:	8fbf0024 	lw	ra,36(sp)
80012148:	8fbe0020 	lw	s8,32(sp)
8001214c:	27bd0028 	addiu	sp,sp,40
80012150:	03e00008 	jr	ra
80012154:	00000000 	nop

80012158 <mkenvid>:
mkenvid():
/home/git/21371068/kern/env.c:97
 *  e should be valid
 *
 * Post-Condition:
 *  return e's envid on success
 */
u_int mkenvid(struct Env *e) {
80012158:	27bdfff8 	addiu	sp,sp,-8
8001215c:	afbe0004 	sw	s8,4(sp)
80012160:	03a0f025 	move	s8,sp
80012164:	afc40008 	sw	a0,8(s8)
/home/git/21371068/kern/env.c:99
  static u_int i = 0;
  return ((++i) << (1 + LOG2NENV)) | (e - envs);
80012168:	3c02800d 	lui	v0,0x800d
8001216c:	8c42e01c 	lw	v0,-8164(v0)
80012170:	00000000 	nop
80012174:	24430001 	addiu	v1,v0,1
80012178:	3c02800d 	lui	v0,0x800d
8001217c:	ac43e01c 	sw	v1,-8164(v0)
80012180:	3c02800d 	lui	v0,0x800d
80012184:	8c42e01c 	lw	v0,-8164(v0)
80012188:	00000000 	nop
8001218c:	000212c0 	sll	v0,v0,0xb
80012190:	8fc40008 	lw	a0,8(s8)
80012194:	3c038009 	lui	v1,0x8009
80012198:	24637000 	addiu	v1,v1,28672
8001219c:	00831823 	subu	v1,a0,v1
800121a0:	00032083 	sra	a0,v1,0x2
800121a4:	3c03586f 	lui	v1,0x586f
800121a8:	3463b587 	ori	v1,v1,0xb587
800121ac:	00830018 	mult	a0,v1
800121b0:	00001812 	mflo	v1
800121b4:	00431025 	or	v0,v0,v1
/home/git/21371068/kern/env.c:100
}
800121b8:	03c0e825 	move	sp,s8
800121bc:	8fbe0004 	lw	s8,4(sp)
800121c0:	27bd0008 	addiu	sp,sp,8
800121c4:	03e00008 	jr	ra
800121c8:	00000000 	nop

800121cc <envid2env>:
envid2env():
/home/git/21371068/kern/env.c:115
 *
 * Post-Condition:
 *   return 0 on success, and set '*penv' to the env.
 *   return -E_BAD_ENV on error (invalid 'envid' or 'checkperm' violated).
 */
int envid2env(u_int envid, struct Env **penv, int checkperm) {
800121cc:	27bdffe0 	addiu	sp,sp,-32
800121d0:	afbf001c 	sw	ra,28(sp)
800121d4:	afbe0018 	sw	s8,24(sp)
800121d8:	03a0f025 	move	s8,sp
800121dc:	afc40020 	sw	a0,32(s8)
800121e0:	afc50024 	sw	a1,36(s8)
800121e4:	afc60028 	sw	a2,40(s8)
/home/git/21371068/kern/env.c:124
  /* Hint:
   *   If envid is zero, set 'penv' to 'curenv'.
   *   You may want to use 'ENVX'.
   */
  /* Exercise 4.3: Your code here. (1/2) */
  if (envid == 0) {
800121e8:	8fc20020 	lw	v0,32(s8)
800121ec:	00000000 	nop
800121f0:	14400009 	bnez	v0,80012218 <envid2env+0x4c>
800121f4:	00000000 	nop
/home/git/21371068/kern/env.c:125
    *penv = curenv;
800121f8:	3c02800d 	lui	v0,0x800d
800121fc:	8c43e000 	lw	v1,-8192(v0)
80012200:	8fc20024 	lw	v0,36(s8)
80012204:	00000000 	nop
80012208:	ac430000 	sw	v1,0(v0)
/home/git/21371068/kern/env.c:126
    return 0;
8001220c:	00001025 	move	v0,zero
80012210:	10000056 	b	8001236c <envid2env+0x1a0>
80012214:	00000000 	nop
/home/git/21371068/kern/env.c:128
  }
  e = &envs[ENVX(envid)];
80012218:	8fc20020 	lw	v0,32(s8)
8001221c:	00000000 	nop
80012220:	304303ff 	andi	v1,v0,0x3ff
80012224:	00601025 	move	v0,v1
80012228:	000210c0 	sll	v0,v0,0x3
8001222c:	00431023 	subu	v0,v0,v1
80012230:	000210c0 	sll	v0,v0,0x3
80012234:	00431023 	subu	v0,v0,v1
80012238:	00021080 	sll	v0,v0,0x2
8001223c:	3c038009 	lui	v1,0x8009
80012240:	24637000 	addiu	v1,v1,28672
80012244:	00431021 	addu	v0,v0,v1
80012248:	afc20010 	sw	v0,16(s8)
/home/git/21371068/kern/env.c:130

  if (e->env_status == ENV_FREE || e->env_id != envid) {  // double check: invaild env_id
8001224c:	8fc20010 	lw	v0,16(s8)
80012250:	00000000 	nop
80012254:	8c4200ac 	lw	v0,172(v0)
80012258:	00000000 	nop
8001225c:	10400008 	beqz	v0,80012280 <envid2env+0xb4>
80012260:	00000000 	nop
/home/git/21371068/kern/env.c:130 (discriminator 1)
80012264:	8fc20010 	lw	v0,16(s8)
80012268:	00000000 	nop
8001226c:	8c4200a0 	lw	v0,160(v0)
80012270:	8fc30020 	lw	v1,32(s8)
80012274:	00000000 	nop
80012278:	10620007 	beq	v1,v0,80012298 <envid2env+0xcc>
8001227c:	00000000 	nop
/home/git/21371068/kern/env.c:131
    *penv = 0;
80012280:	8fc20024 	lw	v0,36(s8)
80012284:	00000000 	nop
80012288:	ac400000 	sw	zero,0(v0)
/home/git/21371068/kern/env.c:132
    return -E_BAD_ENV;
8001228c:	2402fffe 	li	v0,-2
80012290:	10000036 	b	8001236c <envid2env+0x1a0>
80012294:	00000000 	nop
/home/git/21371068/kern/env.c:143
   *   Check whether the calling env has sufficient permissions to manipulate
   * the specified env, i.e. 'e' is either 'curenv' or its immediate child. If
   * violated, return '-E_BAD_ENV'.
   */
  /* Exercise 4.3: Your code here. (2/2) */
  if (checkperm && (e->env_id != curenv->env_id && e->env_parent_id != curenv->env_id)) {
80012298:	8fc20028 	lw	v0,40(s8)
8001229c:	00000000 	nop
800122a0:	1040002d 	beqz	v0,80012358 <envid2env+0x18c>
800122a4:	00000000 	nop
/home/git/21371068/kern/env.c:143 (discriminator 1)
800122a8:	8fc20010 	lw	v0,16(s8)
800122ac:	00000000 	nop
800122b0:	8c4300a0 	lw	v1,160(v0)
800122b4:	3c02800d 	lui	v0,0x800d
800122b8:	8c42e000 	lw	v0,-8192(v0)
800122bc:	00000000 	nop
800122c0:	8c4200a0 	lw	v0,160(v0)
800122c4:	00000000 	nop
800122c8:	10620023 	beq	v1,v0,80012358 <envid2env+0x18c>
800122cc:	00000000 	nop
/home/git/21371068/kern/env.c:143 (discriminator 2)
800122d0:	8fc20010 	lw	v0,16(s8)
800122d4:	00000000 	nop
800122d8:	8c4300a8 	lw	v1,168(v0)
800122dc:	3c02800d 	lui	v0,0x800d
800122e0:	8c42e000 	lw	v0,-8192(v0)
800122e4:	00000000 	nop
800122e8:	8c4200a0 	lw	v0,160(v0)
800122ec:	00000000 	nop
800122f0:	10620019 	beq	v1,v0,80012358 <envid2env+0x18c>
800122f4:	00000000 	nop
/home/git/21371068/kern/env.c:144
    *penv = 0;
800122f8:	8fc20024 	lw	v0,36(s8)
800122fc:	00000000 	nop
80012300:	ac400000 	sw	zero,0(v0)
/home/git/21371068/kern/env.c:145
    printk("E_BAD_ENV: %x, %x, %x\n", e->env_id, curenv->env_id, e->env_parent_id);
80012304:	8fc20010 	lw	v0,16(s8)
80012308:	00000000 	nop
8001230c:	8c4300a0 	lw	v1,160(v0)
80012310:	3c02800d 	lui	v0,0x800d
80012314:	8c42e000 	lw	v0,-8192(v0)
80012318:	00000000 	nop
8001231c:	8c4400a0 	lw	a0,160(v0)
80012320:	8fc20010 	lw	v0,16(s8)
80012324:	00000000 	nop
80012328:	8c4200a8 	lw	v0,168(v0)
8001232c:	00000000 	nop
80012330:	00403825 	move	a3,v0
80012334:	00803025 	move	a2,a0
80012338:	00602825 	move	a1,v1
8001233c:	3c028002 	lui	v0,0x8002
80012340:	24448880 	addiu	a0,v0,-30592
80012344:	0c005a6d 	jal	800169b4 <printk>
80012348:	00000000 	nop
/home/git/21371068/kern/env.c:146
    return -E_BAD_ENV;
8001234c:	2402fffe 	li	v0,-2
80012350:	10000006 	b	8001236c <envid2env+0x1a0>
80012354:	00000000 	nop
/home/git/21371068/kern/env.c:149
  }
  /* Step 3: Assign 'e' to '*penv'. */
  *penv = e;
80012358:	8fc20024 	lw	v0,36(s8)
8001235c:	8fc30010 	lw	v1,16(s8)
80012360:	00000000 	nop
80012364:	ac430000 	sw	v1,0(v0)
/home/git/21371068/kern/env.c:150
  return 0;
80012368:	00001025 	move	v0,zero
/home/git/21371068/kern/env.c:151
}
8001236c:	03c0e825 	move	sp,s8
80012370:	8fbf001c 	lw	ra,28(sp)
80012374:	8fbe0018 	lw	s8,24(sp)
80012378:	27bd0020 	addiu	sp,sp,32
8001237c:	03e00008 	jr	ra
80012380:	00000000 	nop

80012384 <env_init>:
env_init():
/home/git/21371068/kern/env.c:162
 *
 * Hints:
 *   You may use these macro definitions below: 'LIST_INIT', 'TAILQ_INIT',
 * 'LIST_INSERT_HEAD'
 */
void env_init(void) {
80012384:	27bdffc0 	addiu	sp,sp,-64
80012388:	afbf003c 	sw	ra,60(sp)
8001238c:	afbe0038 	sw	s8,56(sp)
80012390:	afb00034 	sw	s0,52(sp)
80012394:	03a0f025 	move	s8,sp
/home/git/21371068/kern/env.c:167
  int i;
  /* Step 1: Initialize 'env_free_list' with 'LIST_INIT' and 'env_sched_list'
   * with 'TAILQ_INIT'. */
  /* Exercise 3.1: Your code here. (1/2) */
  LIST_INIT(&env_free_list);
80012398:	3c02800d 	lui	v0,0x800d
8001239c:	ac40e00c 	sw	zero,-8180(v0)
/home/git/21371068/kern/env.c:168
  TAILQ_INIT(&env_sched_list);
800123a0:	3c02800d 	lui	v0,0x800d
800123a4:	ac40e004 	sw	zero,-8188(v0)
800123a8:	3c02800d 	lui	v0,0x800d
800123ac:	2442e004 	addiu	v0,v0,-8188
800123b0:	3c03800d 	lui	v1,0x800d
800123b4:	2463e004 	addiu	v1,v1,-8188
800123b8:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/env.c:175
   * 'ENV_FREE' and insert them into the 'env_free_list'. Make sure, after the
   * insertion, the order of envs in the list should be the same as they are in
   * the 'envs' array. */

  /* Exercise 3.1: Your code here. (2/2) */
  for (i = NENV - 1; i >= 0; i--) {
800123bc:	240203ff 	li	v0,1023
800123c0:	afc20018 	sw	v0,24(s8)
800123c4:	1000004b 	b	800124f4 <env_init+0x170>
800123c8:	00000000 	nop
/home/git/21371068/kern/env.c:176
    LIST_INSERT_HEAD(&env_free_list, &envs[i], env_link);
800123cc:	3c02800d 	lui	v0,0x800d
800123d0:	8c44e00c 	lw	a0,-8180(v0)
800123d4:	3c058009 	lui	a1,0x8009
800123d8:	8fc30018 	lw	v1,24(s8)
800123dc:	00000000 	nop
800123e0:	00601025 	move	v0,v1
800123e4:	000210c0 	sll	v0,v0,0x3
800123e8:	00431023 	subu	v0,v0,v1
800123ec:	000210c0 	sll	v0,v0,0x3
800123f0:	00431023 	subu	v0,v0,v1
800123f4:	00021080 	sll	v0,v0,0x2
800123f8:	24a37000 	addiu	v1,a1,28672
800123fc:	00431021 	addu	v0,v0,v1
80012400:	ac440098 	sw	a0,152(v0)
80012404:	3c048009 	lui	a0,0x8009
80012408:	8fc30018 	lw	v1,24(s8)
8001240c:	00000000 	nop
80012410:	00601025 	move	v0,v1
80012414:	000210c0 	sll	v0,v0,0x3
80012418:	00431023 	subu	v0,v0,v1
8001241c:	000210c0 	sll	v0,v0,0x3
80012420:	00431023 	subu	v0,v0,v1
80012424:	00021080 	sll	v0,v0,0x2
80012428:	24837000 	addiu	v1,a0,28672
8001242c:	00431021 	addu	v0,v0,v1
80012430:	8c420098 	lw	v0,152(v0)
80012434:	00000000 	nop
80012438:	10400010 	beqz	v0,8001247c <env_init+0xf8>
8001243c:	00000000 	nop
/home/git/21371068/kern/env.c:176 (discriminator 1)
80012440:	3c02800d 	lui	v0,0x800d
80012444:	8c44e00c 	lw	a0,-8180(v0)
80012448:	8fc30018 	lw	v1,24(s8)
8001244c:	00000000 	nop
80012450:	00601025 	move	v0,v1
80012454:	000210c0 	sll	v0,v0,0x3
80012458:	00431023 	subu	v0,v0,v1
8001245c:	000210c0 	sll	v0,v0,0x3
80012460:	00431023 	subu	v0,v0,v1
80012464:	00021080 	sll	v0,v0,0x2
80012468:	24430098 	addiu	v1,v0,152
8001246c:	3c028009 	lui	v0,0x8009
80012470:	24427000 	addiu	v0,v0,28672
80012474:	00621021 	addu	v0,v1,v0
80012478:	ac82009c 	sw	v0,156(a0)
/home/git/21371068/kern/env.c:176 (discriminator 3)
8001247c:	8fc30018 	lw	v1,24(s8)
80012480:	00000000 	nop
80012484:	00601025 	move	v0,v1
80012488:	000210c0 	sll	v0,v0,0x3
8001248c:	00431023 	subu	v0,v0,v1
80012490:	000210c0 	sll	v0,v0,0x3
80012494:	00431023 	subu	v0,v0,v1
80012498:	00021080 	sll	v0,v0,0x2
8001249c:	3c038009 	lui	v1,0x8009
800124a0:	24637000 	addiu	v1,v1,28672
800124a4:	00431821 	addu	v1,v0,v1
800124a8:	3c02800d 	lui	v0,0x800d
800124ac:	ac43e00c 	sw	v1,-8180(v0)
800124b0:	3c028009 	lui	v0,0x8009
800124b4:	8fc30018 	lw	v1,24(s8)
800124b8:	24447000 	addiu	a0,v0,28672
800124bc:	00601025 	move	v0,v1
800124c0:	000210c0 	sll	v0,v0,0x3
800124c4:	00431023 	subu	v0,v0,v1
800124c8:	000210c0 	sll	v0,v0,0x3
800124cc:	00431023 	subu	v0,v0,v1
800124d0:	00021080 	sll	v0,v0,0x2
800124d4:	00821021 	addu	v0,a0,v0
800124d8:	3c03800d 	lui	v1,0x800d
800124dc:	2463e00c 	addiu	v1,v1,-8180
800124e0:	ac43009c 	sw	v1,156(v0)
/home/git/21371068/kern/env.c:175 (discriminator 3)
  for (i = NENV - 1; i >= 0; i--) {
800124e4:	8fc20018 	lw	v0,24(s8)
800124e8:	00000000 	nop
800124ec:	2442ffff 	addiu	v0,v0,-1
800124f0:	afc20018 	sw	v0,24(s8)
/home/git/21371068/kern/env.c:175 (discriminator 2)
800124f4:	8fc20018 	lw	v0,24(s8)
800124f8:	00000000 	nop
800124fc:	0441ffb3 	bgez	v0,800123cc <env_init+0x48>
80012500:	00000000 	nop
/home/git/21371068/kern/env.c:187
   *
   * Here we first map them into the *template* page directory 'base_pgdir'.
   * Later in 'env_setup_vm', we will copy them into each 'env_pgdir'.
   */
  struct Page *p;
  panic_on(page_alloc(&p));
80012504:	27c20028 	addiu	v0,s8,40
80012508:	00402025 	move	a0,v0
8001250c:	0c0052b1 	jal	80014ac4 <page_alloc>
80012510:	00000000 	nop
80012514:	afc2001c 	sw	v0,28(s8)
80012518:	8fc2001c 	lw	v0,28(s8)
8001251c:	00000000 	nop
80012520:	1040000d 	beqz	v0,80012558 <env_init+0x1d4>
80012524:	00000000 	nop
/home/git/21371068/kern/env.c:187 (discriminator 1)
80012528:	8fc2001c 	lw	v0,28(s8)
8001252c:	00000000 	nop
80012530:	afa20010 	sw	v0,16(sp)
80012534:	3c028002 	lui	v0,0x8002
80012538:	24478898 	addiu	a3,v0,-30568
8001253c:	3c028002 	lui	v0,0x8002
80012540:	24468c5c 	addiu	a2,v0,-29604
80012544:	240500bb 	li	a1,187
80012548:	3c028002 	lui	v0,0x8002
8001254c:	24448844 	addiu	a0,v0,-30652
80012550:	0c004ff8 	jal	80013fe0 <_panic>
80012554:	00000000 	nop
/home/git/21371068/kern/env.c:188
  p->pp_ref++;
80012558:	8fc20028 	lw	v0,40(s8)
8001255c:	00000000 	nop
80012560:	94430008 	lhu	v1,8(v0)
80012564:	00000000 	nop
80012568:	24630001 	addiu	v1,v1,1
8001256c:	3063ffff 	andi	v1,v1,0xffff
80012570:	a4430008 	sh	v1,8(v0)
/home/git/21371068/kern/env.c:190

  base_pgdir = (Pde *)page2kva(p);
80012574:	8fc20028 	lw	v0,40(s8)
80012578:	00000000 	nop
8001257c:	00402025 	move	a0,v0
80012580:	0c0046fe 	jal	80011bf8 <page2kva>
80012584:	00000000 	nop
80012588:	00401825 	move	v1,v0
8001258c:	3c02800d 	lui	v0,0x800d
80012590:	ac43e010 	sw	v1,-8176(v0)
/home/git/21371068/kern/env.c:191
  map_segment(base_pgdir, 0, PADDR(pages), UPAGES,
80012594:	3c02800d 	lui	v0,0x800d
80012598:	8c50e010 	lw	s0,-8176(v0)
8001259c:	3c02800d 	lui	v0,0x800d
800125a0:	8c42e028 	lw	v0,-8152(v0)
800125a4:	00000000 	nop
800125a8:	afc20020 	sw	v0,32(s8)
800125ac:	8fc20020 	lw	v0,32(s8)
800125b0:	00000000 	nop
800125b4:	0440000d 	bltz	v0,800125ec <env_init+0x268>
800125b8:	00000000 	nop
/home/git/21371068/kern/env.c:191 (discriminator 1)
800125bc:	8fc20020 	lw	v0,32(s8)
800125c0:	00000000 	nop
800125c4:	afa20010 	sw	v0,16(sp)
800125c8:	3c028002 	lui	v0,0x8002
800125cc:	244788b8 	addiu	a3,v0,-30536
800125d0:	3c028002 	lui	v0,0x8002
800125d4:	24468c5c 	addiu	a2,v0,-29604
800125d8:	240500bf 	li	a1,191
800125dc:	3c028002 	lui	v0,0x8002
800125e0:	24448844 	addiu	a0,v0,-30652
800125e4:	0c004ff8 	jal	80013fe0 <_panic>
800125e8:	00000000 	nop
/home/git/21371068/kern/env.c:191 (discriminator 3)
800125ec:	8fc30020 	lw	v1,32(s8)
800125f0:	3c028000 	lui	v0,0x8000
800125f4:	00622021 	addu	a0,v1,v0
/home/git/21371068/kern/env.c:192 (discriminator 3)
              ROUND(npage * sizeof(struct Page), BY2PG), PTE_G);
800125f8:	3c02800d 	lui	v0,0x800d
800125fc:	8c43e020 	lw	v1,-8160(v0)
80012600:	00000000 	nop
80012604:	00601025 	move	v0,v1
80012608:	00021040 	sll	v0,v0,0x1
8001260c:	00431021 	addu	v0,v0,v1
80012610:	00021080 	sll	v0,v0,0x2
80012614:	24430fff 	addiu	v1,v0,4095
/home/git/21371068/kern/env.c:191 (discriminator 3)
  map_segment(base_pgdir, 0, PADDR(pages), UPAGES,
80012618:	2402f000 	li	v0,-4096
8001261c:	00621024 	and	v0,v1,v0
80012620:	24030100 	li	v1,256
80012624:	afa30014 	sw	v1,20(sp)
80012628:	afa20010 	sw	v0,16(sp)
8001262c:	3c077f80 	lui	a3,0x7f80
80012630:	00803025 	move	a2,a0
80012634:	00002825 	move	a1,zero
80012638:	02002025 	move	a0,s0
8001263c:	0c0047f1 	jal	80011fc4 <map_segment>
80012640:	00000000 	nop
/home/git/21371068/kern/env.c:193 (discriminator 3)
  map_segment(base_pgdir, 0, PADDR(envs), UENVS,
80012644:	3c02800d 	lui	v0,0x800d
80012648:	8c50e010 	lw	s0,-8176(v0)
8001264c:	3c028009 	lui	v0,0x8009
80012650:	24427000 	addiu	v0,v0,28672
80012654:	afc20024 	sw	v0,36(s8)
80012658:	8fc20024 	lw	v0,36(s8)
8001265c:	00000000 	nop
80012660:	0440000d 	bltz	v0,80012698 <env_init+0x314>
80012664:	00000000 	nop
/home/git/21371068/kern/env.c:193 (discriminator 1)
80012668:	8fc20024 	lw	v0,36(s8)
8001266c:	00000000 	nop
80012670:	afa20010 	sw	v0,16(sp)
80012674:	3c028002 	lui	v0,0x8002
80012678:	244788b8 	addiu	a3,v0,-30536
8001267c:	3c028002 	lui	v0,0x8002
80012680:	24468c5c 	addiu	a2,v0,-29604
80012684:	240500c1 	li	a1,193
80012688:	3c028002 	lui	v0,0x8002
8001268c:	24448844 	addiu	a0,v0,-30652
80012690:	0c004ff8 	jal	80013fe0 <_panic>
80012694:	00000000 	nop
/home/git/21371068/kern/env.c:193 (discriminator 3)
80012698:	8fc30024 	lw	v1,36(s8)
8001269c:	3c028000 	lui	v0,0x8000
800126a0:	00621821 	addu	v1,v1,v0
800126a4:	24020100 	li	v0,256
800126a8:	afa20014 	sw	v0,20(sp)
800126ac:	3c020003 	lui	v0,0x3
800126b0:	34427000 	ori	v0,v0,0x7000
800126b4:	afa20010 	sw	v0,16(sp)
800126b8:	3c077f40 	lui	a3,0x7f40
800126bc:	00603025 	move	a2,v1
800126c0:	00002825 	move	a1,zero
800126c4:	02002025 	move	a0,s0
800126c8:	0c0047f1 	jal	80011fc4 <map_segment>
800126cc:	00000000 	nop
/home/git/21371068/kern/env.c:195 (discriminator 3)
              ROUND(NENV * sizeof(struct Env), BY2PG), PTE_G);
}
800126d0:	00000000 	nop
800126d4:	03c0e825 	move	sp,s8
800126d8:	8fbf003c 	lw	ra,60(sp)
800126dc:	8fbe0038 	lw	s8,56(sp)
800126e0:	8fb00034 	lw	s0,52(sp)
800126e4:	27bd0040 	addiu	sp,sp,64
800126e8:	03e00008 	jr	ra
800126ec:	00000000 	nop

800126f0 <env_setup_vm>:
env_setup_vm():
/home/git/21371068/kern/env.c:200

/* Overview:
 *   Initialize the user address space for 'e'.
 */
static int env_setup_vm(struct Env *e) {
800126f0:	27bdffd0 	addiu	sp,sp,-48
800126f4:	afbf002c 	sw	ra,44(sp)
800126f8:	afbe0028 	sw	s8,40(sp)
800126fc:	03a0f025 	move	s8,sp
80012700:	afc40030 	sw	a0,48(s8)
/home/git/21371068/kern/env.c:210
   * Hint:
   *   You can get the kernel address of a specified physical page using
   * 'page2kva'.
   */
  struct Page *p;
  try(page_alloc(&p));
80012704:	27c20020 	addiu	v0,s8,32
80012708:	00402025 	move	a0,v0
8001270c:	0c0052b1 	jal	80014ac4 <page_alloc>
80012710:	00000000 	nop
80012714:	afc20018 	sw	v0,24(s8)
80012718:	8fc20018 	lw	v0,24(s8)
8001271c:	00000000 	nop
80012720:	10400004 	beqz	v0,80012734 <env_setup_vm+0x44>
80012724:	00000000 	nop
/home/git/21371068/kern/env.c:210 (discriminator 1)
80012728:	8fc20018 	lw	v0,24(s8)
8001272c:	1000003f 	b	8001282c <env_setup_vm+0x13c>
80012730:	00000000 	nop
/home/git/21371068/kern/env.c:212
  /* Exercise 3.3: Your code here. */
  p->pp_ref++;
80012734:	8fc20020 	lw	v0,32(s8)
80012738:	00000000 	nop
8001273c:	94430008 	lhu	v1,8(v0)
80012740:	00000000 	nop
80012744:	24630001 	addiu	v1,v1,1
80012748:	3063ffff 	andi	v1,v1,0xffff
8001274c:	a4430008 	sh	v1,8(v0)
/home/git/21371068/kern/env.c:213
  e->env_pgdir = (Pde *) page2kva(p);
80012750:	8fc20020 	lw	v0,32(s8)
80012754:	00000000 	nop
80012758:	00402025 	move	a0,v0
8001275c:	0c0046fe 	jal	80011bf8 <page2kva>
80012760:	00000000 	nop
80012764:	00401825 	move	v1,v0
80012768:	8fc20030 	lw	v0,48(s8)
8001276c:	00000000 	nop
80012770:	ac4300b0 	sw	v1,176(v0)
/home/git/21371068/kern/env.c:219
  /* Step 2: Copy the template page directory 'base_pgdir' to 'e->env_pgdir'. */
  /* Hint:
   *   As a result, the address space of all envs is identical in [UTOP, UVPT).
   *   See include/mmu.h for layout.
   */
  memcpy(e->env_pgdir + PDX(UTOP), base_pgdir + PDX(UTOP),
80012774:	8fc20030 	lw	v0,48(s8)
80012778:	00000000 	nop
8001277c:	8c4200b0 	lw	v0,176(v0)
80012780:	00000000 	nop
80012784:	244307f4 	addiu	v1,v0,2036
80012788:	3c02800d 	lui	v0,0x800d
8001278c:	8c42e010 	lw	v0,-8176(v0)
80012790:	00000000 	nop
80012794:	244207f4 	addiu	v0,v0,2036
80012798:	24060008 	li	a2,8
8001279c:	00402825 	move	a1,v0
800127a0:	00602025 	move	a0,v1
800127a4:	0c0044d8 	jal	80011360 <memcpy>
800127a8:	00000000 	nop
/home/git/21371068/kern/env.c:224
         sizeof(Pde) * (PDX(UVPT) - PDX(UTOP)));

  /* Step 3: Map its own page table at 'UVPT' with readonly permission.
   * As a result, user programs can read its page table through 'UVPT' */
  e->env_pgdir[PDX(UVPT)] = PADDR(e->env_pgdir) | PTE_V;
800127ac:	8fc20030 	lw	v0,48(s8)
800127b0:	00000000 	nop
800127b4:	8c4200b0 	lw	v0,176(v0)
800127b8:	00000000 	nop
800127bc:	afc2001c 	sw	v0,28(s8)
800127c0:	8fc2001c 	lw	v0,28(s8)
800127c4:	00000000 	nop
800127c8:	0440000d 	bltz	v0,80012800 <env_setup_vm+0x110>
800127cc:	00000000 	nop
/home/git/21371068/kern/env.c:224 (discriminator 1)
800127d0:	8fc2001c 	lw	v0,28(s8)
800127d4:	00000000 	nop
800127d8:	afa20010 	sw	v0,16(sp)
800127dc:	3c028002 	lui	v0,0x8002
800127e0:	244788b8 	addiu	a3,v0,-30536
800127e4:	3c028002 	lui	v0,0x8002
800127e8:	24468c74 	addiu	a2,v0,-29580
800127ec:	240500e0 	li	a1,224
800127f0:	3c028002 	lui	v0,0x8002
800127f4:	24448844 	addiu	a0,v0,-30652
800127f8:	0c004ff8 	jal	80013fe0 <_panic>
800127fc:	00000000 	nop
/home/git/21371068/kern/env.c:224 (discriminator 3)
80012800:	8fc3001c 	lw	v1,28(s8)
80012804:	3c028000 	lui	v0,0x8000
80012808:	00621821 	addu	v1,v1,v0
8001280c:	8fc20030 	lw	v0,48(s8)
80012810:	00000000 	nop
80012814:	8c4200b0 	lw	v0,176(v0)
80012818:	00000000 	nop
8001281c:	244207fc 	addiu	v0,v0,2044
80012820:	34630200 	ori	v1,v1,0x200
80012824:	ac430000 	sw	v1,0(v0)
/home/git/21371068/kern/env.c:225 (discriminator 3)
  return 0;
80012828:	00001025 	move	v0,zero
/home/git/21371068/kern/env.c:226 (discriminator 1)
}
8001282c:	03c0e825 	move	sp,s8
80012830:	8fbf002c 	lw	ra,44(sp)
80012834:	8fbe0028 	lw	s8,40(sp)
80012838:	27bd0030 	addiu	sp,sp,48
8001283c:	03e00008 	jr	ra
80012840:	00000000 	nop

80012844 <env_alloc>:
env_alloc():
/home/git/21371068/kern/env.c:248
 *     'LIST_FIRST', 'LIST_REMOVE', 'mkenvid', 'asid_alloc', 'env_setup_vm'
 *   Following fields of Env should be set up:
 *     'env_id', 'env_asid', 'env_parent_id', 'env_tf.regs[29]',
 * 'env_tf.cp0_status', 'env_user_tlb_mod_entry', 'env_runs'
 */
int env_alloc(struct Env **new, u_int parent_id) {
80012844:	27bdffe0 	addiu	sp,sp,-32
80012848:	afbf001c 	sw	ra,28(sp)
8001284c:	afbe0018 	sw	s8,24(sp)
80012850:	03a0f025 	move	s8,sp
80012854:	afc40020 	sw	a0,32(s8)
80012858:	afc50024 	sw	a1,36(s8)
/home/git/21371068/kern/env.c:254
  int r;
  struct Env *e;

  /* Step 1: Get a free Env from 'env_free_list' */
  /* Exercise 3.4: Your code here. (1/4) */
  if (LIST_EMPTY(&env_free_list)) {
8001285c:	3c02800d 	lui	v0,0x800d
80012860:	8c42e00c 	lw	v0,-8180(v0)
80012864:	00000000 	nop
80012868:	14400004 	bnez	v0,8001287c <env_alloc+0x38>
8001286c:	00000000 	nop
/home/git/21371068/kern/env.c:255
    return -E_NO_FREE_ENV;
80012870:	2402fffa 	li	v0,-6
80012874:	1000004d 	b	800129ac <env_alloc+0x168>
80012878:	00000000 	nop
/home/git/21371068/kern/env.c:257
  }
  e = LIST_FIRST(&env_free_list);
8001287c:	3c02800d 	lui	v0,0x800d
80012880:	8c42e00c 	lw	v0,-8180(v0)
80012884:	00000000 	nop
80012888:	afc20010 	sw	v0,16(s8)
/home/git/21371068/kern/env.c:261
  /* Step 2: Call a 'env_setup_vm' to initialize the user address space for this
   * new Env. */
  /* Exercise 3.4: Your code here. (2/4) */
  if (env_setup_vm(e)) {
8001288c:	8fc40010 	lw	a0,16(s8)
80012890:	0c0049bc 	jal	800126f0 <env_setup_vm>
80012894:	00000000 	nop
80012898:	10400004 	beqz	v0,800128ac <env_alloc+0x68>
8001289c:	00000000 	nop
/home/git/21371068/kern/env.c:262
    return -E_BAD_ENV;
800128a0:	2402fffe 	li	v0,-2
800128a4:	10000041 	b	800129ac <env_alloc+0x168>
800128a8:	00000000 	nop
/home/git/21371068/kern/env.c:272
   *
   * Hint:
   *   Use 'asid_alloc' to allocate a free asid.
   *   Use 'mkenvid' to allocate a free envid.
   */
  e->env_user_tlb_mod_entry = 0; // for lab4
800128ac:	8fc20010 	lw	v0,16(s8)
800128b0:	00000000 	nop
800128b4:	ac4000d4 	sw	zero,212(v0)
/home/git/21371068/kern/env.c:273
  e->env_runs = 0;               // for lab6
800128b8:	8fc20010 	lw	v0,16(s8)
800128bc:	00000000 	nop
800128c0:	ac4000d8 	sw	zero,216(v0)
/home/git/21371068/kern/env.c:275
  /* Exercise 3.4: Your code here. (3/4) */
  e->env_id = mkenvid(e);
800128c4:	8fc40010 	lw	a0,16(s8)
800128c8:	0c004856 	jal	80012158 <mkenvid>
800128cc:	00000000 	nop
800128d0:	00401825 	move	v1,v0
800128d4:	8fc20010 	lw	v0,16(s8)
800128d8:	00000000 	nop
800128dc:	ac4300a0 	sw	v1,160(v0)
/home/git/21371068/kern/env.c:276
  if (asid_alloc(&(e->env_asid)) == -E_NO_FREE_ENV) {
800128e0:	8fc20010 	lw	v0,16(s8)
800128e4:	00000000 	nop
800128e8:	244200a4 	addiu	v0,v0,164
800128ec:	00402025 	move	a0,v0
800128f0:	0c004785 	jal	80011e14 <asid_alloc>
800128f4:	00000000 	nop
800128f8:	00401825 	move	v1,v0
800128fc:	2402fffa 	li	v0,-6
80012900:	14620004 	bne	v1,v0,80012914 <env_alloc+0xd0>
80012904:	00000000 	nop
/home/git/21371068/kern/env.c:277
    return -E_NO_FREE_ENV;
80012908:	2402fffa 	li	v0,-6
8001290c:	10000027 	b	800129ac <env_alloc+0x168>
80012910:	00000000 	nop
/home/git/21371068/kern/env.c:279
  }
  e->env_parent_id = parent_id;
80012914:	8fc20010 	lw	v0,16(s8)
80012918:	8fc30024 	lw	v1,36(s8)
8001291c:	00000000 	nop
80012920:	ac4300a8 	sw	v1,168(v0)
/home/git/21371068/kern/env.c:282
  /* Step 4: Initialize the sp and 'cp0_status' in 'e->env_tf'. */
  // Timer interrupt (STATUS_IM4) will be enabled.
  e->env_tf.cp0_status = STATUS_IM4 | STATUS_KUp | STATUS_IEp;
80012924:	8fc20010 	lw	v0,16(s8)
80012928:	2403100c 	li	v1,4108
8001292c:	ac430080 	sw	v1,128(v0)
/home/git/21371068/kern/env.c:284
  // Keep space for 'argc' and 'argv'.
  e->env_tf.regs[29] = USTACKTOP - sizeof(int) - sizeof(char **);
80012930:	8fc20010 	lw	v0,16(s8)
80012934:	3c037f3f 	lui	v1,0x7f3f
80012938:	3463dff8 	ori	v1,v1,0xdff8
8001293c:	ac430074 	sw	v1,116(v0)
/home/git/21371068/kern/env.c:288

  /* Step 5: Remove the new Env from env_free_list. */
  /* Exercise 3.4: Your code here. (4/4) */
  LIST_REMOVE(e, env_link);
80012940:	8fc20010 	lw	v0,16(s8)
80012944:	00000000 	nop
80012948:	8c420098 	lw	v0,152(v0)
8001294c:	00000000 	nop
80012950:	10400009 	beqz	v0,80012978 <env_alloc+0x134>
80012954:	00000000 	nop
/home/git/21371068/kern/env.c:288 (discriminator 1)
80012958:	8fc20010 	lw	v0,16(s8)
8001295c:	00000000 	nop
80012960:	8c420098 	lw	v0,152(v0)
80012964:	8fc30010 	lw	v1,16(s8)
80012968:	00000000 	nop
8001296c:	8c63009c 	lw	v1,156(v1)
80012970:	00000000 	nop
80012974:	ac43009c 	sw	v1,156(v0)
/home/git/21371068/kern/env.c:288 (discriminator 3)
80012978:	8fc20010 	lw	v0,16(s8)
8001297c:	00000000 	nop
80012980:	8c42009c 	lw	v0,156(v0)
80012984:	8fc30010 	lw	v1,16(s8)
80012988:	00000000 	nop
8001298c:	8c630098 	lw	v1,152(v1)
80012990:	00000000 	nop
80012994:	ac430000 	sw	v1,0(v0)
/home/git/21371068/kern/env.c:289 (discriminator 3)
  *new = e;
80012998:	8fc20020 	lw	v0,32(s8)
8001299c:	8fc30010 	lw	v1,16(s8)
800129a0:	00000000 	nop
800129a4:	ac430000 	sw	v1,0(v0)
/home/git/21371068/kern/env.c:290 (discriminator 3)
  return 0;
800129a8:	00001025 	move	v0,zero
/home/git/21371068/kern/env.c:291
}
800129ac:	03c0e825 	move	sp,s8
800129b0:	8fbf001c 	lw	ra,28(sp)
800129b4:	8fbe0018 	lw	s8,24(sp)
800129b8:	27bd0020 	addiu	sp,sp,32
800129bc:	03e00008 	jr	ra
800129c0:	00000000 	nop

800129c4 <load_icode_mapper>:
load_icode_mapper():
/home/git/21371068/kern/env.c:307
 *   The address of env structure is passed through 'data' from 'elf_load_seg',
 * where this function works as a callback.
 *
 */
static int load_icode_mapper(void *data, u_long va, size_t offset, u_int perm,
                             const void *src, size_t len) {
800129c4:	27bdffd0 	addiu	sp,sp,-48
800129c8:	afbf002c 	sw	ra,44(sp)
800129cc:	afbe0028 	sw	s8,40(sp)
800129d0:	03a0f025 	move	s8,sp
800129d4:	afc40030 	sw	a0,48(s8)
800129d8:	afc50034 	sw	a1,52(s8)
800129dc:	afc60038 	sw	a2,56(s8)
800129e0:	afc7003c 	sw	a3,60(s8)
/home/git/21371068/kern/env.c:308
  struct Env *env = (struct Env *)data;
800129e4:	8fc20030 	lw	v0,48(s8)
800129e8:	00000000 	nop
800129ec:	afc20018 	sw	v0,24(s8)
/home/git/21371068/kern/env.c:314
  struct Page *p;
  int r;

  /* Step 1: Allocate a page with 'page_alloc'. */
  /* Exercise 3.5: Your code here. (1/2) */
  if ((r = page_alloc(&p)) != 0) {
800129f0:	27c20020 	addiu	v0,s8,32
800129f4:	00402025 	move	a0,v0
800129f8:	0c0052b1 	jal	80014ac4 <page_alloc>
800129fc:	00000000 	nop
80012a00:	afc2001c 	sw	v0,28(s8)
80012a04:	8fc2001c 	lw	v0,28(s8)
80012a08:	00000000 	nop
80012a0c:	10400004 	beqz	v0,80012a20 <load_icode_mapper+0x5c>
80012a10:	00000000 	nop
/home/git/21371068/kern/env.c:315
      return r;
80012a14:	8fc2001c 	lw	v0,28(s8)
80012a18:	10000023 	b	80012aa8 <load_icode_mapper+0xe4>
80012a1c:	00000000 	nop
/home/git/21371068/kern/env.c:320
  }
  /* Step 2: If 'src' is not NULL, copy the 'len' bytes started at 'src' into
   * 'offset' at this page. */
  // Hint: You may want to use 'memcpy'.
  if (src != NULL) {
80012a20:	8fc20040 	lw	v0,64(s8)
80012a24:	00000000 	nop
80012a28:	1040000f 	beqz	v0,80012a68 <load_icode_mapper+0xa4>
80012a2c:	00000000 	nop
/home/git/21371068/kern/env.c:322
    /* Exercise 3.5: Your code here. (2/2) */
    memcpy((void *) (page2kva(p) + offset), src, len);
80012a30:	8fc20020 	lw	v0,32(s8)
80012a34:	00000000 	nop
80012a38:	00402025 	move	a0,v0
80012a3c:	0c0046fe 	jal	80011bf8 <page2kva>
80012a40:	00000000 	nop
80012a44:	00401825 	move	v1,v0
80012a48:	8fc20038 	lw	v0,56(s8)
80012a4c:	00000000 	nop
80012a50:	00621021 	addu	v0,v1,v0
80012a54:	8fc60044 	lw	a2,68(s8)
80012a58:	8fc50040 	lw	a1,64(s8)
80012a5c:	00402025 	move	a0,v0
80012a60:	0c0044d8 	jal	80011360 <memcpy>
80012a64:	00000000 	nop
/home/git/21371068/kern/env.c:326
  }

  /* Step 3: Insert 'p' into 'env->env_pgdir' at 'va' with 'perm'. */
  return page_insert(env->env_pgdir, env->env_asid, p, va, perm);
80012a68:	8fc20018 	lw	v0,24(s8)
80012a6c:	00000000 	nop
80012a70:	8c4300b0 	lw	v1,176(v0)
80012a74:	8fc20018 	lw	v0,24(s8)
80012a78:	00000000 	nop
80012a7c:	8c4400a4 	lw	a0,164(v0)
80012a80:	8fc50020 	lw	a1,32(s8)
80012a84:	8fc2003c 	lw	v0,60(s8)
80012a88:	00000000 	nop
80012a8c:	afa20010 	sw	v0,16(sp)
80012a90:	8fc70034 	lw	a3,52(s8)
80012a94:	00a03025 	move	a2,a1
80012a98:	00802825 	move	a1,a0
80012a9c:	00602025 	move	a0,v1
80012aa0:	0c005396 	jal	80014e58 <page_insert>
80012aa4:	00000000 	nop
/home/git/21371068/kern/env.c:327 (discriminator 1)
}
80012aa8:	03c0e825 	move	sp,s8
80012aac:	8fbf002c 	lw	ra,44(sp)
80012ab0:	8fbe0028 	lw	s8,40(sp)
80012ab4:	27bd0030 	addiu	sp,sp,48
80012ab8:	03e00008 	jr	ra
80012abc:	00000000 	nop

80012ac0 <load_icode>:
load_icode():
/home/git/21371068/kern/env.c:334
/* Overview:
 *   Load program segments from 'binary' into user space of the env 'e'.
 *   'binary' points to an ELF executable image of 'size' bytes, which contains
 * both text and data segments.
 */
static void load_icode(struct Env *e, const void *binary, size_t size) {
80012ac0:	27bdffc8 	addiu	sp,sp,-56
80012ac4:	afbf0034 	sw	ra,52(sp)
80012ac8:	afbe0030 	sw	s8,48(sp)
80012acc:	03a0f025 	move	s8,sp
80012ad0:	afc40038 	sw	a0,56(s8)
80012ad4:	afc5003c 	sw	a1,60(s8)
80012ad8:	afc60040 	sw	a2,64(s8)
/home/git/21371068/kern/env.c:336
  /* Step 1: Use 'elf_from' to parse an ELF header from 'binary'. */
  const Elf32_Ehdr *ehdr = elf_from(binary, size);
80012adc:	8fc50040 	lw	a1,64(s8)
80012ae0:	8fc4003c 	lw	a0,60(s8)
80012ae4:	0c004000 	jal	80010000 <elf_from>
80012ae8:	00000000 	nop
80012aec:	afc20020 	sw	v0,32(s8)
/home/git/21371068/kern/env.c:337
  if (!ehdr) {
80012af0:	8fc20020 	lw	v0,32(s8)
80012af4:	00000000 	nop
80012af8:	1440000d 	bnez	v0,80012b30 <load_icode+0x70>
80012afc:	00000000 	nop
/home/git/21371068/kern/env.c:338
    panic("bad elf at %x", binary);
80012b00:	8fc2003c 	lw	v0,60(s8)
80012b04:	00000000 	nop
80012b08:	afa20010 	sw	v0,16(sp)
80012b0c:	3c028002 	lui	v0,0x8002
80012b10:	244788dc 	addiu	a3,v0,-30500
80012b14:	3c028002 	lui	v0,0x8002
80012b18:	24468c84 	addiu	a2,v0,-29564
80012b1c:	24050152 	li	a1,338
80012b20:	3c028002 	lui	v0,0x8002
80012b24:	24448844 	addiu	a0,v0,-30652
80012b28:	0c004ff8 	jal	80013fe0 <_panic>
80012b2c:	00000000 	nop
/home/git/21371068/kern/env.c:346
  /* Step 2: Load the segments using 'ELF_FOREACH_PHDR_OFF' and 'elf_load_seg'.
   * As a loader, we just care about loadable segments, so parse only program
   * headers here.
   */
  size_t ph_off;
  ELF_FOREACH_PHDR_OFF(ph_off, ehdr) {
80012b30:	8fc20020 	lw	v0,32(s8)
80012b34:	00000000 	nop
80012b38:	8c42001c 	lw	v0,28(v0)
80012b3c:	00000000 	nop
80012b40:	afc20018 	sw	v0,24(s8)
80012b44:	afc0001c 	sw	zero,28(s8)
80012b48:	10000037 	b	80012c28 <load_icode+0x168>
80012b4c:	00000000 	nop
/home/git/21371068/kern/env.c:347
    Elf32_Phdr *ph = (Elf32_Phdr *)(binary + ph_off);
80012b50:	8fc3003c 	lw	v1,60(s8)
80012b54:	8fc20018 	lw	v0,24(s8)
80012b58:	00000000 	nop
80012b5c:	00621021 	addu	v0,v1,v0
80012b60:	afc20024 	sw	v0,36(s8)
/home/git/21371068/kern/env.c:348
    if (ph->p_type == PT_LOAD) {
80012b64:	8fc20024 	lw	v0,36(s8)
80012b68:	00000000 	nop
80012b6c:	8c430000 	lw	v1,0(v0)
80012b70:	24020001 	li	v0,1
80012b74:	1462001f 	bne	v1,v0,80012bf4 <load_icode+0x134>
80012b78:	00000000 	nop
/home/git/21371068/kern/env.c:352
      // 'elf_load_seg' is defined in lib/elfloader.c
      // 'load_icode_mapper' defines the way in which a page in this segment
      // should be mapped.
      panic_on(elf_load_seg(ph, binary + ph->p_offset, load_icode_mapper, e));
80012b7c:	8fc20024 	lw	v0,36(s8)
80012b80:	00000000 	nop
80012b84:	8c420004 	lw	v0,4(v0)
80012b88:	8fc3003c 	lw	v1,60(s8)
80012b8c:	00000000 	nop
80012b90:	00621821 	addu	v1,v1,v0
80012b94:	8fc70038 	lw	a3,56(s8)
80012b98:	3c028001 	lui	v0,0x8001
80012b9c:	244629c4 	addiu	a2,v0,10692
80012ba0:	00602825 	move	a1,v1
80012ba4:	8fc40024 	lw	a0,36(s8)
80012ba8:	0c004034 	jal	800100d0 <elf_load_seg>
80012bac:	00000000 	nop
80012bb0:	afc20028 	sw	v0,40(s8)
80012bb4:	8fc20028 	lw	v0,40(s8)
80012bb8:	00000000 	nop
80012bbc:	1040000d 	beqz	v0,80012bf4 <load_icode+0x134>
80012bc0:	00000000 	nop
/home/git/21371068/kern/env.c:352 (discriminator 1)
80012bc4:	8fc20028 	lw	v0,40(s8)
80012bc8:	00000000 	nop
80012bcc:	afa20010 	sw	v0,16(sp)
80012bd0:	3c028002 	lui	v0,0x8002
80012bd4:	244788ec 	addiu	a3,v0,-30484
80012bd8:	3c028002 	lui	v0,0x8002
80012bdc:	24468c84 	addiu	a2,v0,-29564
80012be0:	24050160 	li	a1,352
80012be4:	3c028002 	lui	v0,0x8002
80012be8:	24448844 	addiu	a0,v0,-30652
80012bec:	0c004ff8 	jal	80013fe0 <_panic>
80012bf0:	00000000 	nop
/home/git/21371068/kern/env.c:346 (discriminator 2)
  ELF_FOREACH_PHDR_OFF(ph_off, ehdr) {
80012bf4:	8fc2001c 	lw	v0,28(s8)
80012bf8:	00000000 	nop
80012bfc:	24420001 	addiu	v0,v0,1
80012c00:	afc2001c 	sw	v0,28(s8)
80012c04:	8fc20020 	lw	v0,32(s8)
80012c08:	00000000 	nop
80012c0c:	9442002a 	lhu	v0,42(v0)
80012c10:	00000000 	nop
80012c14:	00401825 	move	v1,v0
80012c18:	8fc20018 	lw	v0,24(s8)
80012c1c:	00000000 	nop
80012c20:	00431021 	addu	v0,v0,v1
80012c24:	afc20018 	sw	v0,24(s8)
/home/git/21371068/kern/env.c:346 (discriminator 1)
80012c28:	8fc20020 	lw	v0,32(s8)
80012c2c:	00000000 	nop
80012c30:	9442002c 	lhu	v0,44(v0)
80012c34:	00000000 	nop
80012c38:	00401825 	move	v1,v0
80012c3c:	8fc2001c 	lw	v0,28(s8)
80012c40:	00000000 	nop
80012c44:	0043102a 	slt	v0,v0,v1
80012c48:	1440ffc1 	bnez	v0,80012b50 <load_icode+0x90>
80012c4c:	00000000 	nop
/home/git/21371068/kern/env.c:358
    }
  }

  /* Step 3: Set 'e->env_tf.cp0_epc' to 'ehdr->e_entry'. */
  /* Exercise 3.6: Your code here. */
  e->env_tf.cp0_epc = ehdr->e_entry;
80012c50:	8fc20020 	lw	v0,32(s8)
80012c54:	00000000 	nop
80012c58:	8c430018 	lw	v1,24(v0)
80012c5c:	8fc20038 	lw	v0,56(s8)
80012c60:	00000000 	nop
80012c64:	ac430094 	sw	v1,148(v0)
/home/git/21371068/kern/env.c:361
  /* env_tf.cp0_epc 字段指示了进程恢复运行时PC 应恢复到的位置,说明其为连续的虚拟地址中
     的某一个值 */
}
80012c68:	00000000 	nop
80012c6c:	03c0e825 	move	sp,s8
80012c70:	8fbf0034 	lw	ra,52(sp)
80012c74:	8fbe0030 	lw	s8,48(sp)
80012c78:	27bd0038 	addiu	sp,sp,56
80012c7c:	03e00008 	jr	ra
80012c80:	00000000 	nop

80012c84 <env_create>:
env_create():
/home/git/21371068/kern/env.c:371
 * before the first created env is scheduled.
 *
 * Hint:
 *   'binary' is an ELF executable image in memory.
 */
struct Env *env_create(const void *binary, size_t size, int priority) {
80012c84:	27bdffe0 	addiu	sp,sp,-32
80012c88:	afbf001c 	sw	ra,28(sp)
80012c8c:	afbe0018 	sw	s8,24(sp)
80012c90:	03a0f025 	move	s8,sp
80012c94:	afc40020 	sw	a0,32(s8)
80012c98:	afc50024 	sw	a1,36(s8)
80012c9c:	afc60028 	sw	a2,40(s8)
/home/git/21371068/kern/env.c:375
  struct Env *e;
  /* Step 1: Use 'env_alloc' to alloc a new env, with 0 as 'parent_id'. */
  /* Exercise 3.7: Your code here. (1/3) */
  env_alloc(&e, 0);
80012ca0:	00002825 	move	a1,zero
80012ca4:	27c20010 	addiu	v0,s8,16
80012ca8:	00402025 	move	a0,v0
80012cac:	0c004a11 	jal	80012844 <env_alloc>
80012cb0:	00000000 	nop
/home/git/21371068/kern/env.c:379
  /* Step 2: Assign the 'priority' to 'e' and mark its 'env_status' as runnable.
   */
  /* Exercise 3.7: Your code here. (2/3) */
  e->env_pri = (u_int) priority;
80012cb4:	8fc20010 	lw	v0,16(s8)
80012cb8:	8fc30028 	lw	v1,40(s8)
80012cbc:	00000000 	nop
80012cc0:	ac4300bc 	sw	v1,188(v0)
/home/git/21371068/kern/env.c:380
  e->env_status = ENV_RUNNABLE;
80012cc4:	8fc20010 	lw	v0,16(s8)
80012cc8:	24030001 	li	v1,1
80012ccc:	ac4300ac 	sw	v1,172(v0)
/home/git/21371068/kern/env.c:384
  /* Step 3: Use 'load_icode' to load the image from 'binary', and insert 'e'
   * into 'env_sched_list' using 'TAILQ_INSERT_HEAD'. */
  /* Exercise 3.7: Your code here. (3/3) */
  load_icode(e, binary, size);
80012cd0:	8fc20010 	lw	v0,16(s8)
80012cd4:	8fc60024 	lw	a2,36(s8)
80012cd8:	8fc50020 	lw	a1,32(s8)
80012cdc:	00402025 	move	a0,v0
80012ce0:	0c004ab0 	jal	80012ac0 <load_icode>
80012ce4:	00000000 	nop
/home/git/21371068/kern/env.c:385
  TAILQ_INSERT_HEAD(&env_sched_list, e, env_sched_link);
80012ce8:	8fc20010 	lw	v0,16(s8)
80012cec:	3c03800d 	lui	v1,0x800d
80012cf0:	8c63e004 	lw	v1,-8188(v1)
80012cf4:	00000000 	nop
80012cf8:	ac4300b4 	sw	v1,180(v0)
80012cfc:	8c4200b4 	lw	v0,180(v0)
80012d00:	00000000 	nop
80012d04:	10400008 	beqz	v0,80012d28 <env_create+0xa4>
80012d08:	00000000 	nop
/home/git/21371068/kern/env.c:385 (discriminator 1)
80012d0c:	8fc30010 	lw	v1,16(s8)
80012d10:	3c02800d 	lui	v0,0x800d
80012d14:	8c42e004 	lw	v0,-8188(v0)
80012d18:	246300b4 	addiu	v1,v1,180
80012d1c:	ac4300b8 	sw	v1,184(v0)
80012d20:	10000007 	b	80012d40 <env_create+0xbc>
80012d24:	00000000 	nop
/home/git/21371068/kern/env.c:385 (discriminator 2)
80012d28:	8fc20010 	lw	v0,16(s8)
80012d2c:	00000000 	nop
80012d30:	244300b4 	addiu	v1,v0,180
80012d34:	3c02800d 	lui	v0,0x800d
80012d38:	2442e004 	addiu	v0,v0,-8188
80012d3c:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/env.c:385 (discriminator 4)
80012d40:	8fc30010 	lw	v1,16(s8)
80012d44:	3c02800d 	lui	v0,0x800d
80012d48:	ac43e004 	sw	v1,-8188(v0)
80012d4c:	8fc20010 	lw	v0,16(s8)
80012d50:	3c03800d 	lui	v1,0x800d
80012d54:	2463e004 	addiu	v1,v1,-8188
80012d58:	ac4300b8 	sw	v1,184(v0)
/home/git/21371068/kern/env.c:386 (discriminator 4)
  return e;
80012d5c:	8fc20010 	lw	v0,16(s8)
/home/git/21371068/kern/env.c:387 (discriminator 4)
}
80012d60:	03c0e825 	move	sp,s8
80012d64:	8fbf001c 	lw	ra,28(sp)
80012d68:	8fbe0018 	lw	s8,24(sp)
80012d6c:	27bd0020 	addiu	sp,sp,32
80012d70:	03e00008 	jr	ra
80012d74:	00000000 	nop

80012d78 <env_free>:
env_free():
/home/git/21371068/kern/env.c:392

/* Overview:
 *  Free env e and all memory it uses.
 */
void env_free(struct Env *e) {
80012d78:	27bdffc8 	addiu	sp,sp,-56
80012d7c:	afbf0034 	sw	ra,52(sp)
80012d80:	afbe0030 	sw	s8,48(sp)
80012d84:	03a0f025 	move	s8,sp
80012d88:	afc40038 	sw	a0,56(s8)
/home/git/21371068/kern/env.c:397
  Pte *pt;
  u_int pdeno, pteno, pa;

  /* Hint: Note the environment's demise.*/
  printk("[%08x] free env %08x\n", curenv ? curenv->env_id : 0, e->env_id);
80012d8c:	3c02800d 	lui	v0,0x800d
80012d90:	8c42e000 	lw	v0,-8192(v0)
80012d94:	00000000 	nop
80012d98:	10400007 	beqz	v0,80012db8 <env_free+0x40>
80012d9c:	00000000 	nop
/home/git/21371068/kern/env.c:397 (discriminator 1)
80012da0:	3c02800d 	lui	v0,0x800d
80012da4:	8c42e000 	lw	v0,-8192(v0)
80012da8:	00000000 	nop
80012dac:	8c4300a0 	lw	v1,160(v0)
80012db0:	10000002 	b	80012dbc <env_free+0x44>
80012db4:	00000000 	nop
/home/git/21371068/kern/env.c:397 (discriminator 2)
80012db8:	00001825 	move	v1,zero
/home/git/21371068/kern/env.c:397 (discriminator 4)
80012dbc:	8fc20038 	lw	v0,56(s8)
80012dc0:	00000000 	nop
80012dc4:	8c4200a0 	lw	v0,160(v0)
80012dc8:	00000000 	nop
80012dcc:	00403025 	move	a2,v0
80012dd0:	00602825 	move	a1,v1
80012dd4:	3c028002 	lui	v0,0x8002
80012dd8:	24448938 	addiu	a0,v0,-30408
80012ddc:	0c005a6d 	jal	800169b4 <printk>
80012de0:	00000000 	nop
/home/git/21371068/kern/env.c:400 (discriminator 4)

  /* Hint: Flush all mapped pages in the user portion of the address space */
  for (pdeno = 0; pdeno < PDX(UTOP); pdeno++) {
80012de4:	afc00018 	sw	zero,24(s8)
80012de8:	1000007a 	b	80012fd4 <env_free+0x25c>
80012dec:	00000000 	nop
/home/git/21371068/kern/env.c:402
    /* Hint: only look at mapped page tables. */
    if (!(e->env_pgdir[pdeno] & PTE_V)) {
80012df0:	8fc20038 	lw	v0,56(s8)
80012df4:	00000000 	nop
80012df8:	8c4300b0 	lw	v1,176(v0)
80012dfc:	8fc20018 	lw	v0,24(s8)
80012e00:	00000000 	nop
80012e04:	00021080 	sll	v0,v0,0x2
80012e08:	00621021 	addu	v0,v1,v0
80012e0c:	8c420000 	lw	v0,0(v0)
80012e10:	00000000 	nop
80012e14:	30420200 	andi	v0,v0,0x200
80012e18:	10400069 	beqz	v0,80012fc0 <env_free+0x248>
80012e1c:	00000000 	nop
/home/git/21371068/kern/env.c:406
      continue;
    }
    /* Hint: find the pa and va of the page table. */
    pa = PTE_ADDR(e->env_pgdir[pdeno]);
80012e20:	8fc20038 	lw	v0,56(s8)
80012e24:	00000000 	nop
80012e28:	8c4300b0 	lw	v1,176(v0)
80012e2c:	8fc20018 	lw	v0,24(s8)
80012e30:	00000000 	nop
80012e34:	00021080 	sll	v0,v0,0x2
80012e38:	00621021 	addu	v0,v1,v0
80012e3c:	8c430000 	lw	v1,0(v0)
80012e40:	2402f000 	li	v0,-4096
80012e44:	00621024 	and	v0,v1,v0
80012e48:	afc20024 	sw	v0,36(s8)
/home/git/21371068/kern/env.c:407
    pt = (Pte *)KADDR(pa);
80012e4c:	8fc20024 	lw	v0,36(s8)
80012e50:	00000000 	nop
80012e54:	00021302 	srl	v0,v0,0xc
80012e58:	afc20028 	sw	v0,40(s8)
80012e5c:	3c02800d 	lui	v0,0x800d
80012e60:	8c42e020 	lw	v0,-8160(v0)
80012e64:	8fc30028 	lw	v1,40(s8)
80012e68:	00000000 	nop
80012e6c:	0062102b 	sltu	v0,v1,v0
80012e70:	1440000d 	bnez	v0,80012ea8 <env_free+0x130>
80012e74:	00000000 	nop
/home/git/21371068/kern/env.c:407 (discriminator 1)
80012e78:	8fc20024 	lw	v0,36(s8)
80012e7c:	00000000 	nop
80012e80:	afa20010 	sw	v0,16(sp)
80012e84:	3c028002 	lui	v0,0x8002
80012e88:	24478808 	addiu	a3,v0,-30712
80012e8c:	3c028002 	lui	v0,0x8002
80012e90:	24468c90 	addiu	a2,v0,-29552
80012e94:	24050197 	li	a1,407
80012e98:	3c028002 	lui	v0,0x8002
80012e9c:	24448844 	addiu	a0,v0,-30652
80012ea0:	0c004ff8 	jal	80013fe0 <_panic>
80012ea4:	00000000 	nop
/home/git/21371068/kern/env.c:407 (discriminator 3)
80012ea8:	8fc30024 	lw	v1,36(s8)
80012eac:	3c028000 	lui	v0,0x8000
80012eb0:	00621021 	addu	v0,v1,v0
80012eb4:	afc2002c 	sw	v0,44(s8)
/home/git/21371068/kern/env.c:409 (discriminator 3)
    /* Hint: Unmap all PTEs in this page table. */
    for (pteno = 0; pteno <= PTX(~0); pteno++) {
80012eb8:	afc0001c 	sw	zero,28(s8)
80012ebc:	10000020 	b	80012f40 <env_free+0x1c8>
80012ec0:	00000000 	nop
/home/git/21371068/kern/env.c:410
      if (pt[pteno] & PTE_V) {
80012ec4:	8fc2001c 	lw	v0,28(s8)
80012ec8:	00000000 	nop
80012ecc:	00021080 	sll	v0,v0,0x2
80012ed0:	8fc3002c 	lw	v1,44(s8)
80012ed4:	00000000 	nop
80012ed8:	00621021 	addu	v0,v1,v0
80012edc:	8c420000 	lw	v0,0(v0)
80012ee0:	00000000 	nop
80012ee4:	30420200 	andi	v0,v0,0x200
80012ee8:	10400011 	beqz	v0,80012f30 <env_free+0x1b8>
80012eec:	00000000 	nop
/home/git/21371068/kern/env.c:411
        page_remove(e->env_pgdir, e->env_asid,
80012ef0:	8fc20038 	lw	v0,56(s8)
80012ef4:	00000000 	nop
80012ef8:	8c4400b0 	lw	a0,176(v0)
80012efc:	8fc20038 	lw	v0,56(s8)
80012f00:	00000000 	nop
80012f04:	8c4500a4 	lw	a1,164(v0)
/home/git/21371068/kern/env.c:412
                    (pdeno << PDSHIFT) | (pteno << PGSHIFT));
80012f08:	8fc20018 	lw	v0,24(s8)
80012f0c:	00000000 	nop
80012f10:	00021d80 	sll	v1,v0,0x16
80012f14:	8fc2001c 	lw	v0,28(s8)
80012f18:	00000000 	nop
80012f1c:	00021300 	sll	v0,v0,0xc
80012f20:	00621025 	or	v0,v1,v0
/home/git/21371068/kern/env.c:411
        page_remove(e->env_pgdir, e->env_asid,
80012f24:	00403025 	move	a2,v0
80012f28:	0c005464 	jal	80015190 <page_remove>
80012f2c:	00000000 	nop
/home/git/21371068/kern/env.c:409 (discriminator 2)
    for (pteno = 0; pteno <= PTX(~0); pteno++) {
80012f30:	8fc2001c 	lw	v0,28(s8)
80012f34:	00000000 	nop
80012f38:	24420001 	addiu	v0,v0,1
80012f3c:	afc2001c 	sw	v0,28(s8)
/home/git/21371068/kern/env.c:409 (discriminator 1)
80012f40:	8fc2001c 	lw	v0,28(s8)
80012f44:	00000000 	nop
80012f48:	2c420400 	sltiu	v0,v0,1024
80012f4c:	1440ffdd 	bnez	v0,80012ec4 <env_free+0x14c>
80012f50:	00000000 	nop
/home/git/21371068/kern/env.c:416
      }
    }
    /* Hint: free the page table itself. */
    e->env_pgdir[pdeno] = 0;
80012f54:	8fc20038 	lw	v0,56(s8)
80012f58:	00000000 	nop
80012f5c:	8c4300b0 	lw	v1,176(v0)
80012f60:	8fc20018 	lw	v0,24(s8)
80012f64:	00000000 	nop
80012f68:	00021080 	sll	v0,v0,0x2
80012f6c:	00621021 	addu	v0,v1,v0
80012f70:	ac400000 	sw	zero,0(v0)
/home/git/21371068/kern/env.c:417
    page_decref(pa2page(pa));
80012f74:	8fc40024 	lw	a0,36(s8)
80012f78:	0c0046d4 	jal	80011b50 <pa2page>
80012f7c:	00000000 	nop
80012f80:	00402025 	move	a0,v0
80012f84:	0c005434 	jal	800150d0 <page_decref>
80012f88:	00000000 	nop
/home/git/21371068/kern/env.c:419
    /* Hint: invalidate page table in TLB */
    tlb_invalidate(e->env_asid, UVPT + (pdeno << PGSHIFT));
80012f8c:	8fc20038 	lw	v0,56(s8)
80012f90:	00000000 	nop
80012f94:	8c4400a4 	lw	a0,164(v0)
80012f98:	8fc20018 	lw	v0,24(s8)
80012f9c:	00000000 	nop
80012fa0:	00021b00 	sll	v1,v0,0xc
80012fa4:	3c027fc0 	lui	v0,0x7fc0
80012fa8:	00621021 	addu	v0,v1,v0
80012fac:	00402825 	move	a1,v0
80012fb0:	0c005489 	jal	80015224 <tlb_invalidate>
80012fb4:	00000000 	nop
80012fb8:	10000002 	b	80012fc4 <env_free+0x24c>
80012fbc:	00000000 	nop
/home/git/21371068/kern/env.c:403
      continue;
80012fc0:	00000000 	nop
/home/git/21371068/kern/env.c:400 (discriminator 2)
  for (pdeno = 0; pdeno < PDX(UTOP); pdeno++) {
80012fc4:	8fc20018 	lw	v0,24(s8)
80012fc8:	00000000 	nop
80012fcc:	24420001 	addiu	v0,v0,1
80012fd0:	afc20018 	sw	v0,24(s8)
/home/git/21371068/kern/env.c:400 (discriminator 1)
80012fd4:	8fc20018 	lw	v0,24(s8)
80012fd8:	00000000 	nop
80012fdc:	2c4201fd 	sltiu	v0,v0,509
80012fe0:	1440ff83 	bnez	v0,80012df0 <env_free+0x78>
80012fe4:	00000000 	nop
/home/git/21371068/kern/env.c:422
  }
  /* Hint: free the page directory. */
  page_decref(pa2page(PADDR(e->env_pgdir)));
80012fe8:	8fc20038 	lw	v0,56(s8)
80012fec:	00000000 	nop
80012ff0:	8c4200b0 	lw	v0,176(v0)
80012ff4:	00000000 	nop
80012ff8:	afc20020 	sw	v0,32(s8)
80012ffc:	8fc20020 	lw	v0,32(s8)
80013000:	00000000 	nop
80013004:	0440000d 	bltz	v0,8001303c <env_free+0x2c4>
80013008:	00000000 	nop
/home/git/21371068/kern/env.c:422 (discriminator 1)
8001300c:	8fc20020 	lw	v0,32(s8)
80013010:	00000000 	nop
80013014:	afa20010 	sw	v0,16(sp)
80013018:	3c028002 	lui	v0,0x8002
8001301c:	244788b8 	addiu	a3,v0,-30536
80013020:	3c028002 	lui	v0,0x8002
80013024:	24468c90 	addiu	a2,v0,-29552
80013028:	240501a6 	li	a1,422
8001302c:	3c028002 	lui	v0,0x8002
80013030:	24448844 	addiu	a0,v0,-30652
80013034:	0c004ff8 	jal	80013fe0 <_panic>
80013038:	00000000 	nop
/home/git/21371068/kern/env.c:422 (discriminator 3)
8001303c:	8fc30020 	lw	v1,32(s8)
80013040:	3c028000 	lui	v0,0x8000
80013044:	00621021 	addu	v0,v1,v0
80013048:	00402025 	move	a0,v0
8001304c:	0c0046d4 	jal	80011b50 <pa2page>
80013050:	00000000 	nop
80013054:	00402025 	move	a0,v0
80013058:	0c005434 	jal	800150d0 <page_decref>
8001305c:	00000000 	nop
/home/git/21371068/kern/env.c:424 (discriminator 3)
  /* Hint: free the ASID */
  asid_free(e->env_asid);
80013060:	8fc20038 	lw	v0,56(s8)
80013064:	00000000 	nop
80013068:	8c4200a4 	lw	v0,164(v0)
8001306c:	00000000 	nop
80013070:	00402025 	move	a0,v0
80013074:	0c0047cb 	jal	80011f2c <asid_free>
80013078:	00000000 	nop
/home/git/21371068/kern/env.c:426 (discriminator 3)
  /* Hint: invalidate page directory in TLB */
  tlb_invalidate(e->env_asid, UVPT + (PDX(UVPT) << PGSHIFT));
8001307c:	8fc20038 	lw	v0,56(s8)
80013080:	00000000 	nop
80013084:	8c4300a4 	lw	v1,164(v0)
80013088:	3c027fdf 	lui	v0,0x7fdf
8001308c:	3445f000 	ori	a1,v0,0xf000
80013090:	00602025 	move	a0,v1
80013094:	0c005489 	jal	80015224 <tlb_invalidate>
80013098:	00000000 	nop
/home/git/21371068/kern/env.c:428 (discriminator 3)
  /* Hint: return the environment to the free list. */
  e->env_status = ENV_FREE;
8001309c:	8fc20038 	lw	v0,56(s8)
800130a0:	00000000 	nop
800130a4:	ac4000ac 	sw	zero,172(v0)
/home/git/21371068/kern/env.c:429 (discriminator 3)
  LIST_INSERT_HEAD((&env_free_list), (e), env_link);
800130a8:	3c02800d 	lui	v0,0x800d
800130ac:	8c43e00c 	lw	v1,-8180(v0)
800130b0:	8fc20038 	lw	v0,56(s8)
800130b4:	00000000 	nop
800130b8:	ac430098 	sw	v1,152(v0)
800130bc:	8fc20038 	lw	v0,56(s8)
800130c0:	00000000 	nop
800130c4:	8c420098 	lw	v0,152(v0)
800130c8:	00000000 	nop
800130cc:	10400007 	beqz	v0,800130ec <env_free+0x374>
800130d0:	00000000 	nop
/home/git/21371068/kern/env.c:429 (discriminator 1)
800130d4:	3c02800d 	lui	v0,0x800d
800130d8:	8c42e00c 	lw	v0,-8180(v0)
800130dc:	8fc30038 	lw	v1,56(s8)
800130e0:	00000000 	nop
800130e4:	24630098 	addiu	v1,v1,152
800130e8:	ac43009c 	sw	v1,156(v0)
/home/git/21371068/kern/env.c:429 (discriminator 3)
800130ec:	3c02800d 	lui	v0,0x800d
800130f0:	8fc30038 	lw	v1,56(s8)
800130f4:	00000000 	nop
800130f8:	ac43e00c 	sw	v1,-8180(v0)
800130fc:	8fc20038 	lw	v0,56(s8)
80013100:	3c03800d 	lui	v1,0x800d
80013104:	2463e00c 	addiu	v1,v1,-8180
80013108:	ac43009c 	sw	v1,156(v0)
/home/git/21371068/kern/env.c:430 (discriminator 3)
  TAILQ_REMOVE(&env_sched_list, (e), env_sched_link);
8001310c:	8fc20038 	lw	v0,56(s8)
80013110:	00000000 	nop
80013114:	8c4200b4 	lw	v0,180(v0)
80013118:	00000000 	nop
8001311c:	1040000b 	beqz	v0,8001314c <env_free+0x3d4>
80013120:	00000000 	nop
/home/git/21371068/kern/env.c:430 (discriminator 1)
80013124:	8fc20038 	lw	v0,56(s8)
80013128:	00000000 	nop
8001312c:	8c4200b4 	lw	v0,180(v0)
80013130:	8fc30038 	lw	v1,56(s8)
80013134:	00000000 	nop
80013138:	8c6300b8 	lw	v1,184(v1)
8001313c:	00000000 	nop
80013140:	ac4300b8 	sw	v1,184(v0)
80013144:	10000007 	b	80013164 <env_free+0x3ec>
80013148:	00000000 	nop
/home/git/21371068/kern/env.c:430 (discriminator 2)
8001314c:	8fc20038 	lw	v0,56(s8)
80013150:	00000000 	nop
80013154:	8c4300b8 	lw	v1,184(v0)
80013158:	3c02800d 	lui	v0,0x800d
8001315c:	2442e004 	addiu	v0,v0,-8188
80013160:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/env.c:430 (discriminator 4)
80013164:	8fc20038 	lw	v0,56(s8)
80013168:	00000000 	nop
8001316c:	8c4200b8 	lw	v0,184(v0)
80013170:	8fc30038 	lw	v1,56(s8)
80013174:	00000000 	nop
80013178:	8c6300b4 	lw	v1,180(v1)
8001317c:	00000000 	nop
80013180:	ac430000 	sw	v1,0(v0)
/home/git/21371068/kern/env.c:431 (discriminator 4)
}
80013184:	00000000 	nop
80013188:	03c0e825 	move	sp,s8
8001318c:	8fbf0034 	lw	ra,52(sp)
80013190:	8fbe0030 	lw	s8,48(sp)
80013194:	27bd0038 	addiu	sp,sp,56
80013198:	03e00008 	jr	ra
8001319c:	00000000 	nop

800131a0 <env_destroy>:
env_destroy():
/home/git/21371068/kern/env.c:436

/* Overview:
 *  Free env e, and schedule to run a new env if e is the current env.
 */
void env_destroy(struct Env *e) {
800131a0:	27bdffe8 	addiu	sp,sp,-24
800131a4:	afbf0014 	sw	ra,20(sp)
800131a8:	afbe0010 	sw	s8,16(sp)
800131ac:	03a0f025 	move	s8,sp
800131b0:	afc40018 	sw	a0,24(s8)
/home/git/21371068/kern/env.c:438
  /* Hint: free e. */
  env_free(e);
800131b4:	8fc40018 	lw	a0,24(s8)
800131b8:	0c004b5e 	jal	80012d78 <env_free>
800131bc:	00000000 	nop
/home/git/21371068/kern/env.c:441

  /* Hint: schedule to run a new environment. */
  if (curenv == e) {
800131c0:	3c02800d 	lui	v0,0x800d
800131c4:	8c42e000 	lw	v0,-8192(v0)
800131c8:	8fc30018 	lw	v1,24(s8)
800131cc:	00000000 	nop
800131d0:	1462000a 	bne	v1,v0,800131fc <env_destroy+0x5c>
800131d4:	00000000 	nop
/home/git/21371068/kern/env.c:442
    curenv = NULL;
800131d8:	3c02800d 	lui	v0,0x800d
800131dc:	ac40e000 	sw	zero,-8192(v0)
/home/git/21371068/kern/env.c:443
    printk("i am killed ... \n");
800131e0:	3c028002 	lui	v0,0x8002
800131e4:	24448950 	addiu	a0,v0,-30384
800131e8:	0c005a6d 	jal	800169b4 <printk>
800131ec:	00000000 	nop
/home/git/21371068/kern/env.c:444
    schedule(1);
800131f0:	24040001 	li	a0,1
800131f4:	0c005ae4 	jal	80016b90 <schedule>
800131f8:	00000000 	nop
/home/git/21371068/kern/env.c:446
  }
}
800131fc:	00000000 	nop
80013200:	03c0e825 	move	sp,s8
80013204:	8fbf0014 	lw	ra,20(sp)
80013208:	8fbe0010 	lw	s8,16(sp)
8001320c:	27bd0018 	addiu	sp,sp,24
80013210:	03e00008 	jr	ra
80013214:	00000000 	nop

80013218 <pre_env_run>:
pre_env_run():
/home/git/21371068/kern/env.c:451

/* Overview:
 *   This function is depended by our judge framework. Please do not modify it.
 */
static inline void pre_env_run(struct Env *e) {
80013218:	27bdfff8 	addiu	sp,sp,-8
8001321c:	afbe0004 	sw	s8,4(sp)
80013220:	03a0f025 	move	s8,sp
80013224:	afc40008 	sw	a0,8(s8)
/home/git/21371068/kern/env.c:471
           tf->regs[2]);
    env_destroy(e);
    schedule(0);
  }
#endif
}
80013228:	00000000 	nop
8001322c:	03c0e825 	move	sp,s8
80013230:	8fbe0004 	lw	s8,4(sp)
80013234:	27bd0008 	addiu	sp,sp,8
80013238:	03e00008 	jr	ra
8001323c:	00000000 	nop

80013240 <env_run>:
env_run():
/home/git/21371068/kern/env.c:485
 *   Set 'e' as the current running env 'curenv'.
 *
 * Hints:
 *   You may use these functions: 'env_pop_tf'.
 */
void env_run(struct Env *e) {
80013240:	27bdffe0 	addiu	sp,sp,-32
80013244:	afbf001c 	sw	ra,28(sp)
80013248:	afbe0018 	sw	s8,24(sp)
8001324c:	03a0f025 	move	s8,sp
80013250:	afc40020 	sw	a0,32(s8)
/home/git/21371068/kern/env.c:486
  assert(e->env_status == ENV_RUNNABLE);
80013254:	8fc20020 	lw	v0,32(s8)
80013258:	00000000 	nop
8001325c:	8c4300ac 	lw	v1,172(v0)
80013260:	24020001 	li	v0,1
80013264:	1062000d 	beq	v1,v0,8001329c <env_run+0x5c>
80013268:	00000000 	nop
/home/git/21371068/kern/env.c:486 (discriminator 1)
8001326c:	3c028002 	lui	v0,0x8002
80013270:	24428964 	addiu	v0,v0,-30364
80013274:	afa20010 	sw	v0,16(sp)
80013278:	3c028002 	lui	v0,0x8002
8001327c:	2447882c 	addiu	a3,v0,-30676
80013280:	3c028002 	lui	v0,0x8002
80013284:	24468c9c 	addiu	a2,v0,-29540
80013288:	240501e6 	li	a1,486
8001328c:	3c028002 	lui	v0,0x8002
80013290:	24448844 	addiu	a0,v0,-30652
80013294:	0c004ff8 	jal	80013fe0 <_panic>
80013298:	00000000 	nop
/home/git/21371068/kern/env.c:487
  pre_env_run(e); // WARNING: DO NOT MODIFY THIS LINE!
8001329c:	8fc40020 	lw	a0,32(s8)
800132a0:	0c004c86 	jal	80013218 <pre_env_run>
800132a4:	00000000 	nop
/home/git/21371068/kern/env.c:494
  /* Step 1:
   *   If 'curenv' is NULL, this is the first time through.
   *   If not, we may be switching from a previous env, so save its context into
   *   'curenv->env_tf' first.
   */
  if (curenv) {
800132a8:	3c02800d 	lui	v0,0x800d
800132ac:	8c42e000 	lw	v0,-8192(v0)
800132b0:	00000000 	nop
800132b4:	1040000c 	beqz	v0,800132e8 <env_run+0xa8>
800132b8:	00000000 	nop
/home/git/21371068/kern/env.c:495
    curenv->env_tf = *((struct Trapframe *)KSTACKTOP - 1);
800132bc:	3c02803f 	lui	v0,0x803f
800132c0:	3443ff68 	ori	v1,v0,0xff68
800132c4:	3c02800d 	lui	v0,0x800d
800132c8:	8c42e000 	lw	v0,-8192(v0)
800132cc:	00000000 	nop
800132d0:	00402025 	move	a0,v0
800132d4:	24020098 	li	v0,152
800132d8:	00403025 	move	a2,v0
800132dc:	00602825 	move	a1,v1
800132e0:	0c0044d8 	jal	80011360 <memcpy>
800132e4:	00000000 	nop
/home/git/21371068/kern/env.c:499
  }

  /* Step 2: Change 'curenv' to 'e'. */
  curenv = e;
800132e8:	3c02800d 	lui	v0,0x800d
800132ec:	8fc30020 	lw	v1,32(s8)
800132f0:	00000000 	nop
800132f4:	ac43e000 	sw	v1,-8192(v0)
/home/git/21371068/kern/env.c:500
  curenv->env_runs++; // lab6
800132f8:	3c02800d 	lui	v0,0x800d
800132fc:	8c42e000 	lw	v0,-8192(v0)
80013300:	00000000 	nop
80013304:	8c4300d8 	lw	v1,216(v0)
80013308:	00000000 	nop
8001330c:	24630001 	addiu	v1,v1,1
80013310:	ac4300d8 	sw	v1,216(v0)
/home/git/21371068/kern/env.c:505

  /* Step 3: Change 'cur_pgdir' to 'curenv->env_pgdir', switching to its address
   * space. */
  /* Exercise 3.8: Your code here. (1/2) */
  cur_pgdir = curenv->env_pgdir;
80013314:	3c02800d 	lui	v0,0x800d
80013318:	8c42e000 	lw	v0,-8192(v0)
8001331c:	00000000 	nop
80013320:	8c4300b0 	lw	v1,176(v0)
80013324:	3c02800d 	lui	v0,0x800d
80013328:	ac43e024 	sw	v1,-8156(v0)
/home/git/21371068/kern/env.c:516
   *  - 'env_pop_tf' is a 'noreturn' function: it restores PC from 'cp0_epc'
   * thus not returning to the kernel caller, making 'env_run' a 'noreturn'
   * function as well.
   */
  /* Exercise 3.8: Your code here. (2/2) */
  env_pop_tf(&curenv->env_tf, curenv->env_asid);
8001332c:	3c02800d 	lui	v0,0x800d
80013330:	8c42e000 	lw	v0,-8192(v0)
80013334:	00000000 	nop
80013338:	00401825 	move	v1,v0
8001333c:	3c02800d 	lui	v0,0x800d
80013340:	8c42e000 	lw	v0,-8192(v0)
80013344:	00000000 	nop
80013348:	8c4200a4 	lw	v0,164(v0)
8001334c:	00000000 	nop
80013350:	00402825 	move	a1,v0
80013354:	00602025 	move	a0,v1
80013358:	0c004f94 	jal	80013e50 <env_pop_tf>
8001335c:	00000000 	nop

80013360 <env_check>:
env_check():
/home/git/21371068/kern/env.c:520
  
}

void env_check() {
80013360:	27bdffb8 	addiu	sp,sp,-72
80013364:	afbf0044 	sw	ra,68(sp)
80013368:	afbe0040 	sw	s8,64(sp)
8001336c:	afb0003c 	sw	s0,60(sp)
80013370:	03a0f025 	move	s8,sp
/home/git/21371068/kern/env.c:525
  struct Env *pe, *pe0, *pe1, *pe2;
  struct Env_list fl;
  u_long page_addr;
  /* should be able to allocate three envs */
  pe0 = 0;
80013374:	afc00028 	sw	zero,40(s8)
/home/git/21371068/kern/env.c:526
  pe1 = 0;
80013378:	afc0002c 	sw	zero,44(s8)
/home/git/21371068/kern/env.c:527
  pe2 = 0;
8001337c:	afc00030 	sw	zero,48(s8)
/home/git/21371068/kern/env.c:528
  assert(env_alloc(&pe0, 0) == 0);
80013380:	27c20028 	addiu	v0,s8,40
80013384:	00002825 	move	a1,zero
80013388:	00402025 	move	a0,v0
8001338c:	0c004a11 	jal	80012844 <env_alloc>
80013390:	00000000 	nop
80013394:	1040000d 	beqz	v0,800133cc <env_check+0x6c>
80013398:	00000000 	nop
/home/git/21371068/kern/env.c:528 (discriminator 1)
8001339c:	3c028002 	lui	v0,0x8002
800133a0:	24428984 	addiu	v0,v0,-30332
800133a4:	afa20010 	sw	v0,16(sp)
800133a8:	3c028002 	lui	v0,0x8002
800133ac:	2447882c 	addiu	a3,v0,-30676
800133b0:	3c028002 	lui	v0,0x8002
800133b4:	24468ca4 	addiu	a2,v0,-29532
800133b8:	24050210 	li	a1,528
800133bc:	3c028002 	lui	v0,0x8002
800133c0:	24448844 	addiu	a0,v0,-30652
800133c4:	0c004ff8 	jal	80013fe0 <_panic>
800133c8:	00000000 	nop
/home/git/21371068/kern/env.c:529
  assert(env_alloc(&pe1, 0) == 0);
800133cc:	27c2002c 	addiu	v0,s8,44
800133d0:	00002825 	move	a1,zero
800133d4:	00402025 	move	a0,v0
800133d8:	0c004a11 	jal	80012844 <env_alloc>
800133dc:	00000000 	nop
800133e0:	1040000d 	beqz	v0,80013418 <env_check+0xb8>
800133e4:	00000000 	nop
/home/git/21371068/kern/env.c:529 (discriminator 1)
800133e8:	3c028002 	lui	v0,0x8002
800133ec:	2442899c 	addiu	v0,v0,-30308
800133f0:	afa20010 	sw	v0,16(sp)
800133f4:	3c028002 	lui	v0,0x8002
800133f8:	2447882c 	addiu	a3,v0,-30676
800133fc:	3c028002 	lui	v0,0x8002
80013400:	24468ca4 	addiu	a2,v0,-29532
80013404:	24050211 	li	a1,529
80013408:	3c028002 	lui	v0,0x8002
8001340c:	24448844 	addiu	a0,v0,-30652
80013410:	0c004ff8 	jal	80013fe0 <_panic>
80013414:	00000000 	nop
/home/git/21371068/kern/env.c:530
  assert(env_alloc(&pe2, 0) == 0);
80013418:	27c20030 	addiu	v0,s8,48
8001341c:	00002825 	move	a1,zero
80013420:	00402025 	move	a0,v0
80013424:	0c004a11 	jal	80012844 <env_alloc>
80013428:	00000000 	nop
8001342c:	1040000d 	beqz	v0,80013464 <env_check+0x104>
80013430:	00000000 	nop
/home/git/21371068/kern/env.c:530 (discriminator 1)
80013434:	3c028002 	lui	v0,0x8002
80013438:	244289b4 	addiu	v0,v0,-30284
8001343c:	afa20010 	sw	v0,16(sp)
80013440:	3c028002 	lui	v0,0x8002
80013444:	2447882c 	addiu	a3,v0,-30676
80013448:	3c028002 	lui	v0,0x8002
8001344c:	24468ca4 	addiu	a2,v0,-29532
80013450:	24050212 	li	a1,530
80013454:	3c028002 	lui	v0,0x8002
80013458:	24448844 	addiu	a0,v0,-30652
8001345c:	0c004ff8 	jal	80013fe0 <_panic>
80013460:	00000000 	nop
/home/git/21371068/kern/env.c:532

  assert(pe0);
80013464:	8fc20028 	lw	v0,40(s8)
80013468:	00000000 	nop
8001346c:	1440000d 	bnez	v0,800134a4 <env_check+0x144>
80013470:	00000000 	nop
/home/git/21371068/kern/env.c:532 (discriminator 1)
80013474:	3c028002 	lui	v0,0x8002
80013478:	244289cc 	addiu	v0,v0,-30260
8001347c:	afa20010 	sw	v0,16(sp)
80013480:	3c028002 	lui	v0,0x8002
80013484:	2447882c 	addiu	a3,v0,-30676
80013488:	3c028002 	lui	v0,0x8002
8001348c:	24468ca4 	addiu	a2,v0,-29532
80013490:	24050214 	li	a1,532
80013494:	3c028002 	lui	v0,0x8002
80013498:	24448844 	addiu	a0,v0,-30652
8001349c:	0c004ff8 	jal	80013fe0 <_panic>
800134a0:	00000000 	nop
/home/git/21371068/kern/env.c:533
  assert(pe1 && pe1 != pe0);
800134a4:	8fc2002c 	lw	v0,44(s8)
800134a8:	00000000 	nop
800134ac:	10400006 	beqz	v0,800134c8 <env_check+0x168>
800134b0:	00000000 	nop
/home/git/21371068/kern/env.c:533 (discriminator 2)
800134b4:	8fc3002c 	lw	v1,44(s8)
800134b8:	8fc20028 	lw	v0,40(s8)
800134bc:	00000000 	nop
800134c0:	1462000d 	bne	v1,v0,800134f8 <env_check+0x198>
800134c4:	00000000 	nop
/home/git/21371068/kern/env.c:533 (discriminator 3)
800134c8:	3c028002 	lui	v0,0x8002
800134cc:	244289d0 	addiu	v0,v0,-30256
800134d0:	afa20010 	sw	v0,16(sp)
800134d4:	3c028002 	lui	v0,0x8002
800134d8:	2447882c 	addiu	a3,v0,-30676
800134dc:	3c028002 	lui	v0,0x8002
800134e0:	24468ca4 	addiu	a2,v0,-29532
800134e4:	24050215 	li	a1,533
800134e8:	3c028002 	lui	v0,0x8002
800134ec:	24448844 	addiu	a0,v0,-30652
800134f0:	0c004ff8 	jal	80013fe0 <_panic>
800134f4:	00000000 	nop
/home/git/21371068/kern/env.c:534
  assert(pe2 && pe2 != pe1 && pe2 != pe0);
800134f8:	8fc20030 	lw	v0,48(s8)
800134fc:	00000000 	nop
80013500:	1040000b 	beqz	v0,80013530 <env_check+0x1d0>
80013504:	00000000 	nop
/home/git/21371068/kern/env.c:534 (discriminator 2)
80013508:	8fc30030 	lw	v1,48(s8)
8001350c:	8fc2002c 	lw	v0,44(s8)
80013510:	00000000 	nop
80013514:	10620006 	beq	v1,v0,80013530 <env_check+0x1d0>
80013518:	00000000 	nop
/home/git/21371068/kern/env.c:534 (discriminator 4)
8001351c:	8fc30030 	lw	v1,48(s8)
80013520:	8fc20028 	lw	v0,40(s8)
80013524:	00000000 	nop
80013528:	1462000d 	bne	v1,v0,80013560 <env_check+0x200>
8001352c:	00000000 	nop
/home/git/21371068/kern/env.c:534 (discriminator 5)
80013530:	3c028002 	lui	v0,0x8002
80013534:	244289e4 	addiu	v0,v0,-30236
80013538:	afa20010 	sw	v0,16(sp)
8001353c:	3c028002 	lui	v0,0x8002
80013540:	2447882c 	addiu	a3,v0,-30676
80013544:	3c028002 	lui	v0,0x8002
80013548:	24468ca4 	addiu	a2,v0,-29532
8001354c:	24050216 	li	a1,534
80013550:	3c028002 	lui	v0,0x8002
80013554:	24448844 	addiu	a0,v0,-30652
80013558:	0c004ff8 	jal	80013fe0 <_panic>
8001355c:	00000000 	nop
/home/git/21371068/kern/env.c:537

  /* temporarily steal the rest of the free envs */
  fl = env_free_list;
80013560:	3c02800d 	lui	v0,0x800d
80013564:	8c42e00c 	lw	v0,-8180(v0)
80013568:	00000000 	nop
8001356c:	afc20034 	sw	v0,52(s8)
/home/git/21371068/kern/env.c:539
  /* now this env_free list must be empty! */
  LIST_INIT(&env_free_list);
80013570:	3c02800d 	lui	v0,0x800d
80013574:	ac40e00c 	sw	zero,-8180(v0)
/home/git/21371068/kern/env.c:542

  /* should be no free memory */
  assert(env_alloc(&pe, 0) == -E_NO_FREE_ENV);
80013578:	27c20024 	addiu	v0,s8,36
8001357c:	00002825 	move	a1,zero
80013580:	00402025 	move	a0,v0
80013584:	0c004a11 	jal	80012844 <env_alloc>
80013588:	00000000 	nop
8001358c:	00401825 	move	v1,v0
80013590:	2402fffa 	li	v0,-6
80013594:	1062000d 	beq	v1,v0,800135cc <env_check+0x26c>
80013598:	00000000 	nop
/home/git/21371068/kern/env.c:542 (discriminator 1)
8001359c:	3c028002 	lui	v0,0x8002
800135a0:	24428a04 	addiu	v0,v0,-30204
800135a4:	afa20010 	sw	v0,16(sp)
800135a8:	3c028002 	lui	v0,0x8002
800135ac:	2447882c 	addiu	a3,v0,-30676
800135b0:	3c028002 	lui	v0,0x8002
800135b4:	24468ca4 	addiu	a2,v0,-29532
800135b8:	2405021e 	li	a1,542
800135bc:	3c028002 	lui	v0,0x8002
800135c0:	24448844 	addiu	a0,v0,-30652
800135c4:	0c004ff8 	jal	80013fe0 <_panic>
800135c8:	00000000 	nop
/home/git/21371068/kern/env.c:545

  /* recover env_free_list */
  env_free_list = fl;
800135cc:	3c02800d 	lui	v0,0x800d
800135d0:	8fc30034 	lw	v1,52(s8)
800135d4:	00000000 	nop
800135d8:	ac43e00c 	sw	v1,-8180(v0)
/home/git/21371068/kern/env.c:547

  printk("pe0->env_id %d\n", pe0->env_id);
800135dc:	8fc20028 	lw	v0,40(s8)
800135e0:	00000000 	nop
800135e4:	8c4200a0 	lw	v0,160(v0)
800135e8:	00000000 	nop
800135ec:	00402825 	move	a1,v0
800135f0:	3c028002 	lui	v0,0x8002
800135f4:	24448a28 	addiu	a0,v0,-30168
800135f8:	0c005a6d 	jal	800169b4 <printk>
800135fc:	00000000 	nop
/home/git/21371068/kern/env.c:548
  printk("pe1->env_id %d\n", pe1->env_id);
80013600:	8fc2002c 	lw	v0,44(s8)
80013604:	00000000 	nop
80013608:	8c4200a0 	lw	v0,160(v0)
8001360c:	00000000 	nop
80013610:	00402825 	move	a1,v0
80013614:	3c028002 	lui	v0,0x8002
80013618:	24448a38 	addiu	a0,v0,-30152
8001361c:	0c005a6d 	jal	800169b4 <printk>
80013620:	00000000 	nop
/home/git/21371068/kern/env.c:549
  printk("pe2->env_id %d\n", pe2->env_id);
80013624:	8fc20030 	lw	v0,48(s8)
80013628:	00000000 	nop
8001362c:	8c4200a0 	lw	v0,160(v0)
80013630:	00000000 	nop
80013634:	00402825 	move	a1,v0
80013638:	3c028002 	lui	v0,0x8002
8001363c:	24448a48 	addiu	a0,v0,-30136
80013640:	0c005a6d 	jal	800169b4 <printk>
80013644:	00000000 	nop
/home/git/21371068/kern/env.c:551

  assert(pe0->env_id == 2048);
80013648:	8fc20028 	lw	v0,40(s8)
8001364c:	00000000 	nop
80013650:	8c4300a0 	lw	v1,160(v0)
80013654:	24020800 	li	v0,2048
80013658:	1062000d 	beq	v1,v0,80013690 <env_check+0x330>
8001365c:	00000000 	nop
/home/git/21371068/kern/env.c:551 (discriminator 1)
80013660:	3c028002 	lui	v0,0x8002
80013664:	24428a58 	addiu	v0,v0,-30120
80013668:	afa20010 	sw	v0,16(sp)
8001366c:	3c028002 	lui	v0,0x8002
80013670:	2447882c 	addiu	a3,v0,-30676
80013674:	3c028002 	lui	v0,0x8002
80013678:	24468ca4 	addiu	a2,v0,-29532
8001367c:	24050227 	li	a1,551
80013680:	3c028002 	lui	v0,0x8002
80013684:	24448844 	addiu	a0,v0,-30652
80013688:	0c004ff8 	jal	80013fe0 <_panic>
8001368c:	00000000 	nop
/home/git/21371068/kern/env.c:552
  assert(pe1->env_id == 4097);
80013690:	8fc2002c 	lw	v0,44(s8)
80013694:	00000000 	nop
80013698:	8c4300a0 	lw	v1,160(v0)
8001369c:	24021001 	li	v0,4097
800136a0:	1062000d 	beq	v1,v0,800136d8 <env_check+0x378>
800136a4:	00000000 	nop
/home/git/21371068/kern/env.c:552 (discriminator 1)
800136a8:	3c028002 	lui	v0,0x8002
800136ac:	24428a6c 	addiu	v0,v0,-30100
800136b0:	afa20010 	sw	v0,16(sp)
800136b4:	3c028002 	lui	v0,0x8002
800136b8:	2447882c 	addiu	a3,v0,-30676
800136bc:	3c028002 	lui	v0,0x8002
800136c0:	24468ca4 	addiu	a2,v0,-29532
800136c4:	24050228 	li	a1,552
800136c8:	3c028002 	lui	v0,0x8002
800136cc:	24448844 	addiu	a0,v0,-30652
800136d0:	0c004ff8 	jal	80013fe0 <_panic>
800136d4:	00000000 	nop
/home/git/21371068/kern/env.c:553
  assert(pe2->env_id == 6146);
800136d8:	8fc20030 	lw	v0,48(s8)
800136dc:	00000000 	nop
800136e0:	8c4300a0 	lw	v1,160(v0)
800136e4:	24021802 	li	v0,6146
800136e8:	1062000d 	beq	v1,v0,80013720 <env_check+0x3c0>
800136ec:	00000000 	nop
/home/git/21371068/kern/env.c:553 (discriminator 1)
800136f0:	3c028002 	lui	v0,0x8002
800136f4:	24428a80 	addiu	v0,v0,-30080
800136f8:	afa20010 	sw	v0,16(sp)
800136fc:	3c028002 	lui	v0,0x8002
80013700:	2447882c 	addiu	a3,v0,-30676
80013704:	3c028002 	lui	v0,0x8002
80013708:	24468ca4 	addiu	a2,v0,-29532
8001370c:	24050229 	li	a1,553
80013710:	3c028002 	lui	v0,0x8002
80013714:	24448844 	addiu	a0,v0,-30652
80013718:	0c004ff8 	jal	80013fe0 <_panic>
8001371c:	00000000 	nop
/home/git/21371068/kern/env.c:554
  printk("env_init() work well!\n");
80013720:	3c028002 	lui	v0,0x8002
80013724:	24448a94 	addiu	a0,v0,-30060
80013728:	0c005a6d 	jal	800169b4 <printk>
8001372c:	00000000 	nop
/home/git/21371068/kern/env.c:558

  /* 'UENVS' and 'UPAGES' should have been correctly mapped in *template* page
   * directory 'base_pgdir'. */
  for (page_addr = 0; page_addr < npage * sizeof(struct Page);
80013730:	afc00018 	sw	zero,24(s8)
80013734:	10000036 	b	80013810 <env_check+0x4b0>
80013738:	00000000 	nop
/home/git/21371068/kern/env.c:560
       page_addr += BY2PG) {
    assert(va2pa(base_pgdir, UPAGES + page_addr) == PADDR(pages) + page_addr);
8001373c:	3c02800d 	lui	v0,0x800d
80013740:	8c44e010 	lw	a0,-8176(v0)
80013744:	8fc30018 	lw	v1,24(s8)
80013748:	3c027f80 	lui	v0,0x7f80
8001374c:	00621021 	addu	v0,v1,v0
80013750:	00402825 	move	a1,v0
80013754:	0c004728 	jal	80011ca0 <va2pa>
80013758:	00000000 	nop
8001375c:	00408025 	move	s0,v0
80013760:	3c02800d 	lui	v0,0x800d
80013764:	8c42e028 	lw	v0,-8152(v0)
80013768:	00000000 	nop
8001376c:	afc20020 	sw	v0,32(s8)
80013770:	8fc20020 	lw	v0,32(s8)
80013774:	00000000 	nop
80013778:	0440000d 	bltz	v0,800137b0 <env_check+0x450>
8001377c:	00000000 	nop
/home/git/21371068/kern/env.c:560 (discriminator 1)
80013780:	8fc20020 	lw	v0,32(s8)
80013784:	00000000 	nop
80013788:	afa20010 	sw	v0,16(sp)
8001378c:	3c028002 	lui	v0,0x8002
80013790:	244788b8 	addiu	a3,v0,-30536
80013794:	3c028002 	lui	v0,0x8002
80013798:	24468ca4 	addiu	a2,v0,-29532
8001379c:	24050230 	li	a1,560
800137a0:	3c028002 	lui	v0,0x8002
800137a4:	24448844 	addiu	a0,v0,-30652
800137a8:	0c004ff8 	jal	80013fe0 <_panic>
800137ac:	00000000 	nop
/home/git/21371068/kern/env.c:560 (discriminator 3)
800137b0:	8fc30020 	lw	v1,32(s8)
800137b4:	3c028000 	lui	v0,0x8000
800137b8:	00621821 	addu	v1,v1,v0
800137bc:	8fc20018 	lw	v0,24(s8)
800137c0:	00000000 	nop
800137c4:	00621021 	addu	v0,v1,v0
800137c8:	1202000d 	beq	s0,v0,80013800 <env_check+0x4a0>
800137cc:	00000000 	nop
/home/git/21371068/kern/env.c:560 (discriminator 4)
800137d0:	3c028002 	lui	v0,0x8002
800137d4:	24428aac 	addiu	v0,v0,-30036
800137d8:	afa20010 	sw	v0,16(sp)
800137dc:	3c028002 	lui	v0,0x8002
800137e0:	2447882c 	addiu	a3,v0,-30676
800137e4:	3c028002 	lui	v0,0x8002
800137e8:	24468ca4 	addiu	a2,v0,-29532
800137ec:	24050230 	li	a1,560
800137f0:	3c028002 	lui	v0,0x8002
800137f4:	24448844 	addiu	a0,v0,-30652
800137f8:	0c004ff8 	jal	80013fe0 <_panic>
800137fc:	00000000 	nop
/home/git/21371068/kern/env.c:559
       page_addr += BY2PG) {
80013800:	8fc20018 	lw	v0,24(s8)
80013804:	00000000 	nop
80013808:	24421000 	addiu	v0,v0,4096
8001380c:	afc20018 	sw	v0,24(s8)
/home/git/21371068/kern/env.c:558 (discriminator 1)
  for (page_addr = 0; page_addr < npage * sizeof(struct Page);
80013810:	3c02800d 	lui	v0,0x800d
80013814:	8c43e020 	lw	v1,-8160(v0)
80013818:	00000000 	nop
8001381c:	00601025 	move	v0,v1
80013820:	00021040 	sll	v0,v0,0x1
80013824:	00431021 	addu	v0,v0,v1
80013828:	00021080 	sll	v0,v0,0x2
8001382c:	00401825 	move	v1,v0
80013830:	8fc20018 	lw	v0,24(s8)
80013834:	00000000 	nop
80013838:	0043102b 	sltu	v0,v0,v1
8001383c:	1440ffbf 	bnez	v0,8001373c <env_check+0x3dc>
80013840:	00000000 	nop
/home/git/21371068/kern/env.c:562
  }
  for (page_addr = 0; page_addr < NENV * sizeof(struct Env);
80013844:	afc00018 	sw	zero,24(s8)
80013848:	10000035 	b	80013920 <env_check+0x5c0>
8001384c:	00000000 	nop
/home/git/21371068/kern/env.c:564
       page_addr += BY2PG) {
    assert(va2pa(base_pgdir, UENVS + page_addr) == PADDR(envs) + page_addr);
80013850:	3c02800d 	lui	v0,0x800d
80013854:	8c44e010 	lw	a0,-8176(v0)
80013858:	8fc30018 	lw	v1,24(s8)
8001385c:	3c027f40 	lui	v0,0x7f40
80013860:	00621021 	addu	v0,v1,v0
80013864:	00402825 	move	a1,v0
80013868:	0c004728 	jal	80011ca0 <va2pa>
8001386c:	00000000 	nop
80013870:	00408025 	move	s0,v0
80013874:	3c028009 	lui	v0,0x8009
80013878:	24427000 	addiu	v0,v0,28672
8001387c:	afc2001c 	sw	v0,28(s8)
80013880:	8fc2001c 	lw	v0,28(s8)
80013884:	00000000 	nop
80013888:	0440000d 	bltz	v0,800138c0 <env_check+0x560>
8001388c:	00000000 	nop
/home/git/21371068/kern/env.c:564 (discriminator 1)
80013890:	8fc2001c 	lw	v0,28(s8)
80013894:	00000000 	nop
80013898:	afa20010 	sw	v0,16(sp)
8001389c:	3c028002 	lui	v0,0x8002
800138a0:	244788b8 	addiu	a3,v0,-30536
800138a4:	3c028002 	lui	v0,0x8002
800138a8:	24468ca4 	addiu	a2,v0,-29532
800138ac:	24050234 	li	a1,564
800138b0:	3c028002 	lui	v0,0x8002
800138b4:	24448844 	addiu	a0,v0,-30652
800138b8:	0c004ff8 	jal	80013fe0 <_panic>
800138bc:	00000000 	nop
/home/git/21371068/kern/env.c:564 (discriminator 3)
800138c0:	8fc3001c 	lw	v1,28(s8)
800138c4:	3c028000 	lui	v0,0x8000
800138c8:	00621821 	addu	v1,v1,v0
800138cc:	8fc20018 	lw	v0,24(s8)
800138d0:	00000000 	nop
800138d4:	00621021 	addu	v0,v1,v0
800138d8:	1202000d 	beq	s0,v0,80013910 <env_check+0x5b0>
800138dc:	00000000 	nop
/home/git/21371068/kern/env.c:564 (discriminator 4)
800138e0:	3c028002 	lui	v0,0x8002
800138e4:	24428af0 	addiu	v0,v0,-29968
800138e8:	afa20010 	sw	v0,16(sp)
800138ec:	3c028002 	lui	v0,0x8002
800138f0:	2447882c 	addiu	a3,v0,-30676
800138f4:	3c028002 	lui	v0,0x8002
800138f8:	24468ca4 	addiu	a2,v0,-29532
800138fc:	24050234 	li	a1,564
80013900:	3c028002 	lui	v0,0x8002
80013904:	24448844 	addiu	a0,v0,-30652
80013908:	0c004ff8 	jal	80013fe0 <_panic>
8001390c:	00000000 	nop
/home/git/21371068/kern/env.c:563
       page_addr += BY2PG) {
80013910:	8fc20018 	lw	v0,24(s8)
80013914:	00000000 	nop
80013918:	24421000 	addiu	v0,v0,4096
8001391c:	afc20018 	sw	v0,24(s8)
/home/git/21371068/kern/env.c:562 (discriminator 1)
  for (page_addr = 0; page_addr < NENV * sizeof(struct Env);
80013920:	8fc30018 	lw	v1,24(s8)
80013924:	3c020003 	lui	v0,0x3
80013928:	34427000 	ori	v0,v0,0x7000
8001392c:	0062102b 	sltu	v0,v1,v0
80013930:	1440ffc7 	bnez	v0,80013850 <env_check+0x4f0>
80013934:	00000000 	nop
/home/git/21371068/kern/env.c:567
  }
  /* check env_setup_vm() work well */
  printk("pe1->env_pgdir %x\n", pe1->env_pgdir);
80013938:	8fc2002c 	lw	v0,44(s8)
8001393c:	00000000 	nop
80013940:	8c4200b0 	lw	v0,176(v0)
80013944:	00000000 	nop
80013948:	00402825 	move	a1,v0
8001394c:	3c028002 	lui	v0,0x8002
80013950:	24448b30 	addiu	a0,v0,-29904
80013954:	0c005a6d 	jal	800169b4 <printk>
80013958:	00000000 	nop
/home/git/21371068/kern/env.c:569

  assert(pe2->env_pgdir[PDX(UTOP)] == base_pgdir[PDX(UTOP)]);
8001395c:	8fc20030 	lw	v0,48(s8)
80013960:	00000000 	nop
80013964:	8c4200b0 	lw	v0,176(v0)
80013968:	00000000 	nop
8001396c:	244207f4 	addiu	v0,v0,2036
80013970:	8c430000 	lw	v1,0(v0)
80013974:	3c02800d 	lui	v0,0x800d
80013978:	8c42e010 	lw	v0,-8176(v0)
8001397c:	00000000 	nop
80013980:	244207f4 	addiu	v0,v0,2036
80013984:	8c420000 	lw	v0,0(v0)
80013988:	00000000 	nop
8001398c:	1062000d 	beq	v1,v0,800139c4 <env_check+0x664>
80013990:	00000000 	nop
/home/git/21371068/kern/env.c:569 (discriminator 1)
80013994:	3c028002 	lui	v0,0x8002
80013998:	24428b44 	addiu	v0,v0,-29884
8001399c:	afa20010 	sw	v0,16(sp)
800139a0:	3c028002 	lui	v0,0x8002
800139a4:	2447882c 	addiu	a3,v0,-30676
800139a8:	3c028002 	lui	v0,0x8002
800139ac:	24468ca4 	addiu	a2,v0,-29532
800139b0:	24050239 	li	a1,569
800139b4:	3c028002 	lui	v0,0x8002
800139b8:	24448844 	addiu	a0,v0,-30652
800139bc:	0c004ff8 	jal	80013fe0 <_panic>
800139c0:	00000000 	nop
/home/git/21371068/kern/env.c:570
  assert(pe2->env_pgdir[PDX(UTOP) - 1] == 0);
800139c4:	8fc20030 	lw	v0,48(s8)
800139c8:	00000000 	nop
800139cc:	8c4200b0 	lw	v0,176(v0)
800139d0:	00000000 	nop
800139d4:	244207f0 	addiu	v0,v0,2032
800139d8:	8c420000 	lw	v0,0(v0)
800139dc:	00000000 	nop
800139e0:	1040000d 	beqz	v0,80013a18 <env_check+0x6b8>
800139e4:	00000000 	nop
/home/git/21371068/kern/env.c:570 (discriminator 1)
800139e8:	3c028002 	lui	v0,0x8002
800139ec:	24428b78 	addiu	v0,v0,-29832
800139f0:	afa20010 	sw	v0,16(sp)
800139f4:	3c028002 	lui	v0,0x8002
800139f8:	2447882c 	addiu	a3,v0,-30676
800139fc:	3c028002 	lui	v0,0x8002
80013a00:	24468ca4 	addiu	a2,v0,-29532
80013a04:	2405023a 	li	a1,570
80013a08:	3c028002 	lui	v0,0x8002
80013a0c:	24448844 	addiu	a0,v0,-30652
80013a10:	0c004ff8 	jal	80013fe0 <_panic>
80013a14:	00000000 	nop
/home/git/21371068/kern/env.c:571
  printk("env_setup_vm passed!\n");
80013a18:	3c028002 	lui	v0,0x8002
80013a1c:	24448b9c 	addiu	a0,v0,-29796
80013a20:	0c005a6d 	jal	800169b4 <printk>
80013a24:	00000000 	nop
/home/git/21371068/kern/env.c:573

  printk("pe2`s sp register %x\n", pe2->env_tf.regs[29]);
80013a28:	8fc20030 	lw	v0,48(s8)
80013a2c:	00000000 	nop
80013a30:	8c420074 	lw	v0,116(v0)
80013a34:	00000000 	nop
80013a38:	00402825 	move	a1,v0
80013a3c:	3c028002 	lui	v0,0x8002
80013a40:	24448bb4 	addiu	a0,v0,-29772
80013a44:	0c005a6d 	jal	800169b4 <printk>
80013a48:	00000000 	nop
/home/git/21371068/kern/env.c:576

  /* free all env allocated in this function */
  TAILQ_INSERT_TAIL(&env_sched_list, pe0, env_sched_link);
80013a4c:	8fc20028 	lw	v0,40(s8)
80013a50:	00000000 	nop
80013a54:	ac4000b4 	sw	zero,180(v0)
80013a58:	8fc20028 	lw	v0,40(s8)
80013a5c:	3c03800d 	lui	v1,0x800d
80013a60:	2463e004 	addiu	v1,v1,-8188
80013a64:	8c630004 	lw	v1,4(v1)
80013a68:	00000000 	nop
80013a6c:	ac4300b8 	sw	v1,184(v0)
80013a70:	3c02800d 	lui	v0,0x800d
80013a74:	2442e004 	addiu	v0,v0,-8188
80013a78:	8c420004 	lw	v0,4(v0)
80013a7c:	8fc30028 	lw	v1,40(s8)
80013a80:	00000000 	nop
80013a84:	ac430000 	sw	v1,0(v0)
80013a88:	8fc20028 	lw	v0,40(s8)
80013a8c:	00000000 	nop
80013a90:	244300b4 	addiu	v1,v0,180
80013a94:	3c02800d 	lui	v0,0x800d
80013a98:	2442e004 	addiu	v0,v0,-8188
80013a9c:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/env.c:577
  TAILQ_INSERT_TAIL(&env_sched_list, pe1, env_sched_link);
80013aa0:	8fc2002c 	lw	v0,44(s8)
80013aa4:	00000000 	nop
80013aa8:	ac4000b4 	sw	zero,180(v0)
80013aac:	8fc2002c 	lw	v0,44(s8)
80013ab0:	3c03800d 	lui	v1,0x800d
80013ab4:	2463e004 	addiu	v1,v1,-8188
80013ab8:	8c630004 	lw	v1,4(v1)
80013abc:	00000000 	nop
80013ac0:	ac4300b8 	sw	v1,184(v0)
80013ac4:	3c02800d 	lui	v0,0x800d
80013ac8:	2442e004 	addiu	v0,v0,-8188
80013acc:	8c420004 	lw	v0,4(v0)
80013ad0:	8fc3002c 	lw	v1,44(s8)
80013ad4:	00000000 	nop
80013ad8:	ac430000 	sw	v1,0(v0)
80013adc:	8fc2002c 	lw	v0,44(s8)
80013ae0:	00000000 	nop
80013ae4:	244300b4 	addiu	v1,v0,180
80013ae8:	3c02800d 	lui	v0,0x800d
80013aec:	2442e004 	addiu	v0,v0,-8188
80013af0:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/env.c:578
  TAILQ_INSERT_TAIL(&env_sched_list, pe2, env_sched_link);
80013af4:	8fc20030 	lw	v0,48(s8)
80013af8:	00000000 	nop
80013afc:	ac4000b4 	sw	zero,180(v0)
80013b00:	8fc20030 	lw	v0,48(s8)
80013b04:	3c03800d 	lui	v1,0x800d
80013b08:	2463e004 	addiu	v1,v1,-8188
80013b0c:	8c630004 	lw	v1,4(v1)
80013b10:	00000000 	nop
80013b14:	ac4300b8 	sw	v1,184(v0)
80013b18:	3c02800d 	lui	v0,0x800d
80013b1c:	2442e004 	addiu	v0,v0,-8188
80013b20:	8c420004 	lw	v0,4(v0)
80013b24:	8fc30030 	lw	v1,48(s8)
80013b28:	00000000 	nop
80013b2c:	ac430000 	sw	v1,0(v0)
80013b30:	8fc20030 	lw	v0,48(s8)
80013b34:	00000000 	nop
80013b38:	244300b4 	addiu	v1,v0,180
80013b3c:	3c02800d 	lui	v0,0x800d
80013b40:	2442e004 	addiu	v0,v0,-8188
80013b44:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/env.c:580

  env_free(pe2);
80013b48:	8fc20030 	lw	v0,48(s8)
80013b4c:	00000000 	nop
80013b50:	00402025 	move	a0,v0
80013b54:	0c004b5e 	jal	80012d78 <env_free>
80013b58:	00000000 	nop
/home/git/21371068/kern/env.c:581
  env_free(pe1);
80013b5c:	8fc2002c 	lw	v0,44(s8)
80013b60:	00000000 	nop
80013b64:	00402025 	move	a0,v0
80013b68:	0c004b5e 	jal	80012d78 <env_free>
80013b6c:	00000000 	nop
/home/git/21371068/kern/env.c:582
  env_free(pe0);
80013b70:	8fc20028 	lw	v0,40(s8)
80013b74:	00000000 	nop
80013b78:	00402025 	move	a0,v0
80013b7c:	0c004b5e 	jal	80012d78 <env_free>
80013b80:	00000000 	nop
/home/git/21371068/kern/env.c:584

  printk("env_check() succeeded!\n");
80013b84:	3c028002 	lui	v0,0x8002
80013b88:	24448bcc 	addiu	a0,v0,-29748
80013b8c:	0c005a6d 	jal	800169b4 <printk>
80013b90:	00000000 	nop
/home/git/21371068/kern/env.c:585
}
80013b94:	00000000 	nop
80013b98:	03c0e825 	move	sp,s8
80013b9c:	8fbf0044 	lw	ra,68(sp)
80013ba0:	8fbe0040 	lw	s8,64(sp)
80013ba4:	8fb0003c 	lw	s0,60(sp)
80013ba8:	27bd0048 	addiu	sp,sp,72
80013bac:	03e00008 	jr	ra
80013bb0:	00000000 	nop

80013bb4 <envid2env_check>:
envid2env_check():
/home/git/21371068/kern/env.c:587

void envid2env_check() {
80013bb4:	27bdffd0 	addiu	sp,sp,-48
80013bb8:	afbf002c 	sw	ra,44(sp)
80013bbc:	afbe0028 	sw	s8,40(sp)
80013bc0:	03a0f025 	move	s8,sp
/home/git/21371068/kern/env.c:589
  struct Env *pe, *pe0, *pe2;
  assert(env_alloc(&pe0, 0) == 0);
80013bc4:	27c20020 	addiu	v0,s8,32
80013bc8:	00002825 	move	a1,zero
80013bcc:	00402025 	move	a0,v0
80013bd0:	0c004a11 	jal	80012844 <env_alloc>
80013bd4:	00000000 	nop
80013bd8:	1040000d 	beqz	v0,80013c10 <envid2env_check+0x5c>
80013bdc:	00000000 	nop
/home/git/21371068/kern/env.c:589 (discriminator 1)
80013be0:	3c028002 	lui	v0,0x8002
80013be4:	24428984 	addiu	v0,v0,-30332
80013be8:	afa20010 	sw	v0,16(sp)
80013bec:	3c028002 	lui	v0,0x8002
80013bf0:	2447882c 	addiu	a3,v0,-30676
80013bf4:	3c028002 	lui	v0,0x8002
80013bf8:	24468cb8 	addiu	a2,v0,-29512
80013bfc:	2405024d 	li	a1,589
80013c00:	3c028002 	lui	v0,0x8002
80013c04:	24448844 	addiu	a0,v0,-30652
80013c08:	0c004ff8 	jal	80013fe0 <_panic>
80013c0c:	00000000 	nop
/home/git/21371068/kern/env.c:590
  assert(env_alloc(&pe2, 0) == 0);
80013c10:	27c20024 	addiu	v0,s8,36
80013c14:	00002825 	move	a1,zero
80013c18:	00402025 	move	a0,v0
80013c1c:	0c004a11 	jal	80012844 <env_alloc>
80013c20:	00000000 	nop
80013c24:	1040000d 	beqz	v0,80013c5c <envid2env_check+0xa8>
80013c28:	00000000 	nop
/home/git/21371068/kern/env.c:590 (discriminator 1)
80013c2c:	3c028002 	lui	v0,0x8002
80013c30:	244289b4 	addiu	v0,v0,-30284
80013c34:	afa20010 	sw	v0,16(sp)
80013c38:	3c028002 	lui	v0,0x8002
80013c3c:	2447882c 	addiu	a3,v0,-30676
80013c40:	3c028002 	lui	v0,0x8002
80013c44:	24468cb8 	addiu	a2,v0,-29512
80013c48:	2405024e 	li	a1,590
80013c4c:	3c028002 	lui	v0,0x8002
80013c50:	24448844 	addiu	a0,v0,-30652
80013c54:	0c004ff8 	jal	80013fe0 <_panic>
80013c58:	00000000 	nop
/home/git/21371068/kern/env.c:592
  int re;
  pe2->env_status = ENV_FREE;
80013c5c:	8fc20024 	lw	v0,36(s8)
80013c60:	00000000 	nop
80013c64:	ac4000ac 	sw	zero,172(v0)
/home/git/21371068/kern/env.c:593
  re = envid2env(pe2->env_id, &pe, 0);
80013c68:	8fc20024 	lw	v0,36(s8)
80013c6c:	00000000 	nop
80013c70:	8c4200a0 	lw	v0,160(v0)
80013c74:	27c3001c 	addiu	v1,s8,28
80013c78:	00003025 	move	a2,zero
80013c7c:	00602825 	move	a1,v1
80013c80:	00402025 	move	a0,v0
80013c84:	0c004873 	jal	800121cc <envid2env>
80013c88:	00000000 	nop
80013c8c:	afc20018 	sw	v0,24(s8)
/home/git/21371068/kern/env.c:595

  assert(re == -E_BAD_ENV);
80013c90:	8fc30018 	lw	v1,24(s8)
80013c94:	2402fffe 	li	v0,-2
80013c98:	1062000d 	beq	v1,v0,80013cd0 <envid2env_check+0x11c>
80013c9c:	00000000 	nop
/home/git/21371068/kern/env.c:595 (discriminator 1)
80013ca0:	3c028002 	lui	v0,0x8002
80013ca4:	24428be4 	addiu	v0,v0,-29724
80013ca8:	afa20010 	sw	v0,16(sp)
80013cac:	3c028002 	lui	v0,0x8002
80013cb0:	2447882c 	addiu	a3,v0,-30676
80013cb4:	3c028002 	lui	v0,0x8002
80013cb8:	24468cb8 	addiu	a2,v0,-29512
80013cbc:	24050253 	li	a1,595
80013cc0:	3c028002 	lui	v0,0x8002
80013cc4:	24448844 	addiu	a0,v0,-30652
80013cc8:	0c004ff8 	jal	80013fe0 <_panic>
80013ccc:	00000000 	nop
/home/git/21371068/kern/env.c:597

  pe2->env_status = ENV_RUNNABLE;
80013cd0:	8fc20024 	lw	v0,36(s8)
80013cd4:	24030001 	li	v1,1
80013cd8:	ac4300ac 	sw	v1,172(v0)
/home/git/21371068/kern/env.c:598
  re = envid2env(pe2->env_id, &pe, 0);
80013cdc:	8fc20024 	lw	v0,36(s8)
80013ce0:	00000000 	nop
80013ce4:	8c4200a0 	lw	v0,160(v0)
80013ce8:	27c3001c 	addiu	v1,s8,28
80013cec:	00003025 	move	a2,zero
80013cf0:	00602825 	move	a1,v1
80013cf4:	00402025 	move	a0,v0
80013cf8:	0c004873 	jal	800121cc <envid2env>
80013cfc:	00000000 	nop
80013d00:	afc20018 	sw	v0,24(s8)
/home/git/21371068/kern/env.c:600

  assert(pe->env_id == pe2->env_id && re == 0);
80013d04:	8fc2001c 	lw	v0,28(s8)
80013d08:	00000000 	nop
80013d0c:	8c4300a0 	lw	v1,160(v0)
80013d10:	8fc20024 	lw	v0,36(s8)
80013d14:	00000000 	nop
80013d18:	8c4200a0 	lw	v0,160(v0)
80013d1c:	00000000 	nop
80013d20:	14620005 	bne	v1,v0,80013d38 <envid2env_check+0x184>
80013d24:	00000000 	nop
/home/git/21371068/kern/env.c:600 (discriminator 2)
80013d28:	8fc20018 	lw	v0,24(s8)
80013d2c:	00000000 	nop
80013d30:	1040000d 	beqz	v0,80013d68 <envid2env_check+0x1b4>
80013d34:	00000000 	nop
/home/git/21371068/kern/env.c:600 (discriminator 3)
80013d38:	3c028002 	lui	v0,0x8002
80013d3c:	24428bf8 	addiu	v0,v0,-29704
80013d40:	afa20010 	sw	v0,16(sp)
80013d44:	3c028002 	lui	v0,0x8002
80013d48:	2447882c 	addiu	a3,v0,-30676
80013d4c:	3c028002 	lui	v0,0x8002
80013d50:	24468cb8 	addiu	a2,v0,-29512
80013d54:	24050258 	li	a1,600
80013d58:	3c028002 	lui	v0,0x8002
80013d5c:	24448844 	addiu	a0,v0,-30652
80013d60:	0c004ff8 	jal	80013fe0 <_panic>
80013d64:	00000000 	nop
/home/git/21371068/kern/env.c:602

  curenv = pe0;
80013d68:	8fc30020 	lw	v1,32(s8)
80013d6c:	3c02800d 	lui	v0,0x800d
80013d70:	ac43e000 	sw	v1,-8192(v0)
/home/git/21371068/kern/env.c:603
  re = envid2env(pe2->env_id, &pe, 1);
80013d74:	8fc20024 	lw	v0,36(s8)
80013d78:	00000000 	nop
80013d7c:	8c4200a0 	lw	v0,160(v0)
80013d80:	27c3001c 	addiu	v1,s8,28
80013d84:	24060001 	li	a2,1
80013d88:	00602825 	move	a1,v1
80013d8c:	00402025 	move	a0,v0
80013d90:	0c004873 	jal	800121cc <envid2env>
80013d94:	00000000 	nop
80013d98:	afc20018 	sw	v0,24(s8)
/home/git/21371068/kern/env.c:604
  assert(re == -E_BAD_ENV);
80013d9c:	8fc30018 	lw	v1,24(s8)
80013da0:	2402fffe 	li	v0,-2
80013da4:	1062000d 	beq	v1,v0,80013ddc <envid2env_check+0x228>
80013da8:	00000000 	nop
/home/git/21371068/kern/env.c:604 (discriminator 1)
80013dac:	3c028002 	lui	v0,0x8002
80013db0:	24428be4 	addiu	v0,v0,-29724
80013db4:	afa20010 	sw	v0,16(sp)
80013db8:	3c028002 	lui	v0,0x8002
80013dbc:	2447882c 	addiu	a3,v0,-30676
80013dc0:	3c028002 	lui	v0,0x8002
80013dc4:	24468cb8 	addiu	a2,v0,-29512
80013dc8:	2405025c 	li	a1,604
80013dcc:	3c028002 	lui	v0,0x8002
80013dd0:	24448844 	addiu	a0,v0,-30652
80013dd4:	0c004ff8 	jal	80013fe0 <_panic>
80013dd8:	00000000 	nop
/home/git/21371068/kern/env.c:605
  printk("envid2env() work well!\n");
80013ddc:	3c028002 	lui	v0,0x8002
80013de0:	24448c20 	addiu	a0,v0,-29664
80013de4:	0c005a6d 	jal	800169b4 <printk>
80013de8:	00000000 	nop
/home/git/21371068/kern/env.c:606
}
80013dec:	00000000 	nop
80013df0:	03c0e825 	move	sp,s8
80013df4:	8fbf002c 	lw	ra,44(sp)
80013df8:	8fbe0028 	lw	s8,40(sp)
80013dfc:	27bd0030 	addiu	sp,sp,48
80013e00:	03e00008 	jr	ra
80013e04:	00000000 	nop

80013e08 <arrive>:
arrive():
/home/git/21371068/kern/env.c:608

void arrive() {
80013e08:	27bdffe8 	addiu	sp,sp,-24
80013e0c:	afbf0014 	sw	ra,20(sp)
80013e10:	afbe0010 	sw	s8,16(sp)
80013e14:	03a0f025 	move	s8,sp
/home/git/21371068/kern/env.c:609
  printk("arrive here\n");
80013e18:	3c028002 	lui	v0,0x8002
80013e1c:	24448c38 	addiu	a0,v0,-29640
80013e20:	0c005a6d 	jal	800169b4 <printk>
80013e24:	00000000 	nop
/home/git/21371068/kern/env.c:610
80013e28:	00000000 	nop
80013e2c:	03c0e825 	move	sp,s8
80013e30:	8fbf0014 	lw	ra,20(sp)
80013e34:	8fbe0010 	lw	s8,16(sp)
80013e38:	27bd0018 	addiu	sp,sp,24
80013e3c:	03e00008 	jr	ra
80013e40:	00000000 	nop
	...

80013e50 <env_pop_tf>:
env_pop_tf():
/home/git/21371068/kern/env_asm.S:9

.text
LEAF(env_pop_tf)
.set reorder
.set at
	sll     a1, a1, 6
80013e50:	00052980 	sll	a1,a1,0x6
/home/git/21371068/kern/env_asm.S:10
	mtc0    a1, CP0_ENTRYHI
80013e54:	40855000 	mtc0	a1,c0_entryhi
/home/git/21371068/kern/env_asm.S:11
	move    sp, a0
80013e58:	0080e825 	move	sp,a0
/home/git/21371068/kern/env_asm.S:12
	j       ret_from_exception
80013e5c:	08004fa0 	j	80013e80 <ret_from_exception>
80013e60:	00000000 	nop

80013e64 <enable_irq>:
enable_irq():
/home/git/21371068/kern/env_asm.S:16
END(env_pop_tf)

LEAF(enable_irq)
	li      t0, (STATUS_CU0 | STATUS_IM4 | STATUS_IEc)
80013e64:	3c081000 	lui	t0,0x1000
80013e68:	35081001 	ori	t0,t0,0x1001
/home/git/21371068/kern/env_asm.S:17
	mtc0    t0, CP0_STATUS
80013e6c:	40886000 	mtc0	t0,c0_sr
/home/git/21371068/kern/env_asm.S:18
	jr      ra
80013e70:	03e00008 	jr	ra
80013e74:	00000000 	nop
	...

80013e80 <ret_from_exception>:
ret_from_exception():
/home/git/21371068/kern/genex.S:18
.endm

.text

FEXPORT(ret_from_exception)
	RESTORE_SOME
80013e80:	8fa20080 	lw	v0,128(sp)
80013e84:	40826000 	mtc0	v0,c0_sr
80013e88:	8fa30088 	lw	v1,136(sp)
80013e8c:	00600013 	mtlo	v1
80013e90:	8fa20084 	lw	v0,132(sp)
80013e94:	8fa30094 	lw	v1,148(sp)
80013e98:	00400011 	mthi	v0
80013e9c:	40837000 	mtc0	v1,c0_epc
80013ea0:	8fbf007c 	lw	ra,124(sp)
80013ea4:	8fbe0078 	lw	s8,120(sp)
80013ea8:	8fbc0070 	lw	gp,112(sp)
80013eac:	8fb90064 	lw	t9,100(sp)
80013eb0:	8fb80060 	lw	t8,96(sp)
80013eb4:	8fb7005c 	lw	s7,92(sp)
80013eb8:	8fb60058 	lw	s6,88(sp)
80013ebc:	8fb50054 	lw	s5,84(sp)
80013ec0:	8fb40050 	lw	s4,80(sp)
80013ec4:	8fb3004c 	lw	s3,76(sp)
80013ec8:	8fb20048 	lw	s2,72(sp)
80013ecc:	8fb10044 	lw	s1,68(sp)
80013ed0:	8fb00040 	lw	s0,64(sp)
80013ed4:	8faf003c 	lw	t7,60(sp)
80013ed8:	8fae0038 	lw	t6,56(sp)
80013edc:	8fad0034 	lw	t5,52(sp)
80013ee0:	8fac0030 	lw	t4,48(sp)
80013ee4:	8fab002c 	lw	t3,44(sp)
80013ee8:	8faa0028 	lw	t2,40(sp)
80013eec:	8fa90024 	lw	t1,36(sp)
80013ef0:	8fa80020 	lw	t0,32(sp)
80013ef4:	8fa7001c 	lw	a3,28(sp)
80013ef8:	8fa60018 	lw	a2,24(sp)
80013efc:	8fa50014 	lw	a1,20(sp)
80013f00:	8fa40010 	lw	a0,16(sp)
80013f04:	8fa3000c 	lw	v1,12(sp)
80013f08:	8fa20008 	lw	v0,8(sp)
80013f0c:	8fa10004 	lw	at,4(sp)
/home/git/21371068/kern/genex.S:19
	lw      k0, TF_EPC(sp)
80013f10:	8fba0094 	lw	k0,148(sp)
/home/git/21371068/kern/genex.S:20
	lw      sp, TF_REG29(sp) /* Deallocate stack */
80013f14:	8fbd0074 	lw	sp,116(sp)
/home/git/21371068/kern/genex.S:22
.set noreorder
	jr      k0
80013f18:	03400008 	jr	k0
/home/git/21371068/kern/genex.S:23
	rfe
80013f1c:	42000010 	rfe

80013f20 <handle_int>:
handle_int():
/home/git/21371068/kern/genex.S:27
.set reorder

NESTED(handle_int, TF_SIZE, zero)
	mfc0    t0, CP0_CAUSE
80013f20:	40086800 	mfc0	t0,c0_cause
/home/git/21371068/kern/genex.S:28
	mfc0    t2, CP0_STATUS
80013f24:	400a6000 	mfc0	t2,c0_sr
80013f28:	00000000 	nop
/home/git/21371068/kern/genex.S:29
	and     t0, t2
80013f2c:	010a4024 	and	t0,t0,t2
/home/git/21371068/kern/genex.S:30
	andi    t1, t0, STATUS_IM4
80013f30:	31091000 	andi	t1,t0,0x1000
/home/git/21371068/kern/genex.S:31
	bnez    t1, timer_irq
80013f34:	15200001 	bnez	t1,80013f3c <timer_irq>
80013f38:	00000000 	nop

80013f3c <timer_irq>:
/home/git/21371068/kern/genex.S:34
	// TODO: handle other irqs
timer_irq:
	sw      zero, (KSEG1 | DEV_RTC_ADDRESS | DEV_RTC_INTERRUPT_ACK)
80013f3c:	3c01b500 	lui	at,0xb500
80013f40:	ac200110 	sw	zero,272(at)
/home/git/21371068/kern/genex.S:35
	li      a0, 0
80013f44:	24040000 	li	a0,0
/home/git/21371068/kern/genex.S:36
	j       schedule
80013f48:	08005ae4 	j	80016b90 <schedule>
80013f4c:	00000000 	nop

80013f50 <handle_tlb>:
handle_tlb():
/home/git/21371068/kern/genex.S:39
END(handle_int)

BUILD_HANDLER tlb do_tlb_refill
80013f50:	03a02025 	move	a0,sp
80013f54:	27bdfff8 	addiu	sp,sp,-8
80013f58:	0c006050 	jal	80018140 <do_tlb_refill>
80013f5c:	00000000 	nop
80013f60:	27bd0008 	addiu	sp,sp,8
80013f64:	08004fa0 	j	80013e80 <ret_from_exception>
80013f68:	00000000 	nop

80013f6c <handle_mod>:
handle_mod():
/home/git/21371068/kern/genex.S:42

#if !defined(LAB) || LAB >= 4
BUILD_HANDLER mod do_tlb_mod
80013f6c:	03a02025 	move	a0,sp
80013f70:	27bdfff8 	addiu	sp,sp,-8
80013f74:	0c00611d 	jal	80018474 <do_tlb_mod>
80013f78:	00000000 	nop
80013f7c:	27bd0008 	addiu	sp,sp,8
80013f80:	08004fa0 	j	80013e80 <ret_from_exception>
80013f84:	00000000 	nop

80013f88 <handle_sys>:
handle_sys():
/home/git/21371068/kern/genex.S:43
BUILD_HANDLER sys do_syscall
80013f88:	03a02025 	move	a0,sp
80013f8c:	27bdfff8 	addiu	sp,sp,-8
80013f90:	0c005fe2 	jal	80017f88 <do_syscall>
80013f94:	00000000 	nop
80013f98:	27bd0008 	addiu	sp,sp,8
80013f9c:	08004fa0 	j	80013e80 <ret_from_exception>
80013fa0:	00000000 	nop

80013fa4 <handle_reserved>:
handle_reserved():
/home/git/21371068/kern/genex.S:46
#endif

BUILD_HANDLER reserved do_reserved
80013fa4:	03a02025 	move	a0,sp
80013fa8:	27bdfff8 	addiu	sp,sp,-8
80013fac:	0c006180 	jal	80018600 <do_reserved>
80013fb0:	00000000 	nop
80013fb4:	27bd0008 	addiu	sp,sp,8
80013fb8:	08004fa0 	j	80013e80 <ret_from_exception>
80013fbc:	00000000 	nop

80013fc0 <kclock_init>:
kclock_init():
/home/git/21371068/kern/kclock.S:7
#include <drivers/dev_rtc.h>
#include <kclock.h>
#include <mmu.h>

LEAF(kclock_init)
	li      t0, 200 // the timer interrupt frequency in Hz
80013fc0:	240800c8 	li	t0,200
/home/git/21371068/kern/kclock.S:22
	 *	 #define DEV_RTC_ADDRESS 0x15000000
	 * 	 #define KSEG1 0xA0000000U
	 * Reference: http://gavare.se/gxemul/gxemul-stable/doc/experiments.html#expdevices
	 */
	/* Exercise 3.11: Your code here. */
	sw 		t0 , (KSEG1 | DEV_RTC_ADDRESS | DEV_RTC_HZ)
80013fc4:	3c01b500 	lui	at,0xb500
80013fc8:	ac280100 	sw	t0,256(at)
/home/git/21371068/kern/kclock.S:23
	jr      ra
80013fcc:	03e00008 	jr	ra
80013fd0:	00000000 	nop
	...

80013fe0 <_panic>:
_panic():
/home/git/21371068/kern/panic.c:7
#include <print.h>
#include <printk.h>

void outputk(void *data, const char *buf, size_t len);

void _panic(const char *file, int line, const char *func, const char *fmt, ...) {
80013fe0:	27bdffb8 	addiu	sp,sp,-72
80013fe4:	afbf0044 	sw	ra,68(sp)
80013fe8:	afbe0040 	sw	s8,64(sp)
80013fec:	03a0f025 	move	s8,sp
80013ff0:	afc40048 	sw	a0,72(s8)
80013ff4:	afc5004c 	sw	a1,76(s8)
80013ff8:	afc60050 	sw	a2,80(s8)
80013ffc:	afc70054 	sw	a3,84(s8)
/home/git/21371068/kern/panic.c:9
	u_long sp, ra, badva, sr, cause, epc;
	asm("move %0, $29" : "=r"(sp) :);
80014000:	03a01025 	move	v0,sp
80014004:	afc20020 	sw	v0,32(s8)
/home/git/21371068/kern/panic.c:10
	asm("move %0, $31" : "=r"(ra) :);
80014008:	03e01025 	move	v0,ra
8001400c:	afc20024 	sw	v0,36(s8)
/home/git/21371068/kern/panic.c:11
	asm("mfc0 %0, $8" : "=r"(badva) :);
80014010:	40024000 	mfc0	v0,c0_badvaddr
80014014:	00000000 	nop
80014018:	afc20028 	sw	v0,40(s8)
/home/git/21371068/kern/panic.c:12
	asm("mfc0 %0, $12" : "=r"(sr) :);
8001401c:	40026000 	mfc0	v0,c0_sr
80014020:	00000000 	nop
80014024:	afc2002c 	sw	v0,44(s8)
/home/git/21371068/kern/panic.c:13
	asm("mfc0 %0, $13" : "=r"(cause) :);
80014028:	40026800 	mfc0	v0,c0_cause
8001402c:	00000000 	nop
80014030:	afc20030 	sw	v0,48(s8)
/home/git/21371068/kern/panic.c:14
	asm("mfc0 %0, $14" : "=r"(epc) :);
80014034:	40027000 	mfc0	v0,c0_epc
80014038:	00000000 	nop
8001403c:	afc20034 	sw	v0,52(s8)
/home/git/21371068/kern/panic.c:16

	printk("panic at %s:%d (%s): ", file, line, func);
80014040:	8fc70050 	lw	a3,80(s8)
80014044:	8fc6004c 	lw	a2,76(s8)
80014048:	8fc50048 	lw	a1,72(s8)
8001404c:	3c028002 	lui	v0,0x8002
80014050:	24448cd0 	addiu	a0,v0,-29488
80014054:	0c005a6d 	jal	800169b4 <printk>
80014058:	00000000 	nop
/home/git/21371068/kern/panic.c:19

	va_list ap;
	va_start(ap, fmt);
8001405c:	27c20058 	addiu	v0,s8,88
80014060:	afc20038 	sw	v0,56(s8)
/home/git/21371068/kern/panic.c:20
	vprintfmt(outputk, NULL, fmt, ap);
80014064:	8fc20038 	lw	v0,56(s8)
80014068:	00000000 	nop
8001406c:	00403825 	move	a3,v0
80014070:	8fc60054 	lw	a2,84(s8)
80014074:	00002825 	move	a1,zero
80014078:	3c028001 	lui	v0,0x8001
8001407c:	24446920 	addiu	a0,v0,26912
80014080:	0c004104 	jal	80010410 <vprintfmt>
80014084:	00000000 	nop
/home/git/21371068/kern/panic.c:23
	va_end(ap);

	printk("\n"
80014088:	8fc20028 	lw	v0,40(s8)
8001408c:	00000000 	nop
80014090:	afa20018 	sw	v0,24(sp)
80014094:	8fc20034 	lw	v0,52(s8)
80014098:	00000000 	nop
8001409c:	afa20014 	sw	v0,20(sp)
800140a0:	8fc20030 	lw	v0,48(s8)
800140a4:	00000000 	nop
800140a8:	afa20010 	sw	v0,16(sp)
800140ac:	8fc7002c 	lw	a3,44(s8)
800140b0:	8fc60020 	lw	a2,32(s8)
800140b4:	8fc50024 	lw	a1,36(s8)
800140b8:	3c028002 	lui	v0,0x8002
800140bc:	24448ce8 	addiu	a0,v0,-29464
800140c0:	0c005a6d 	jal	800169b4 <printk>
800140c4:	00000000 	nop
/home/git/21371068/kern/panic.c:33
#if !defined(LAB) || LAB >= 3
	extern struct Env envs[];
	extern struct Env *curenv;
	extern struct Pde *cur_pgdir;

	if ((u_long)curenv >= KERNBASE) {
800140c8:	3c02800d 	lui	v0,0x800d
800140cc:	8c42e000 	lw	v0,-8192(v0)
800140d0:	00000000 	nop
800140d4:	00401825 	move	v1,v0
800140d8:	3c028001 	lui	v0,0x8001
800140dc:	0062102b 	sltu	v0,v1,v0
800140e0:	1440001a 	bnez	v0,8001414c <_panic+0x16c>
800140e4:	00000000 	nop
/home/git/21371068/kern/panic.c:34
		printk("curenv:    %x (id = 0x%x, off = %d)\n", curenv, curenv->env_id,
800140e8:	3c02800d 	lui	v0,0x800d
800140ec:	8c44e000 	lw	a0,-8192(v0)
800140f0:	3c02800d 	lui	v0,0x800d
800140f4:	8c42e000 	lw	v0,-8192(v0)
800140f8:	00000000 	nop
800140fc:	8c4500a0 	lw	a1,160(v0)
/home/git/21371068/kern/panic.c:35
		       curenv - envs);
80014100:	3c02800d 	lui	v0,0x800d
80014104:	8c43e000 	lw	v1,-8192(v0)
80014108:	3c028009 	lui	v0,0x8009
8001410c:	24427000 	addiu	v0,v0,28672
80014110:	00621023 	subu	v0,v1,v0
/home/git/21371068/kern/panic.c:34
		printk("curenv:    %x (id = 0x%x, off = %d)\n", curenv, curenv->env_id,
80014114:	00021883 	sra	v1,v0,0x2
80014118:	3c02586f 	lui	v0,0x586f
8001411c:	3442b587 	ori	v0,v0,0xb587
80014120:	00620018 	mult	v1,v0
80014124:	00001012 	mflo	v0
80014128:	00403825 	move	a3,v0
8001412c:	00a03025 	move	a2,a1
80014130:	00802825 	move	a1,a0
80014134:	3c028002 	lui	v0,0x8002
80014138:	24448d34 	addiu	a0,v0,-29388
8001413c:	0c005a6d 	jal	800169b4 <printk>
80014140:	00000000 	nop
80014144:	10000014 	b	80014198 <_panic+0x1b8>
80014148:	00000000 	nop
/home/git/21371068/kern/panic.c:36
	} else if (curenv) {
8001414c:	3c02800d 	lui	v0,0x800d
80014150:	8c42e000 	lw	v0,-8192(v0)
80014154:	00000000 	nop
80014158:	1040000b 	beqz	v0,80014188 <_panic+0x1a8>
8001415c:	00000000 	nop
/home/git/21371068/kern/panic.c:37
		printk("curenv:    %x (invalid)\n", curenv);
80014160:	3c02800d 	lui	v0,0x800d
80014164:	8c42e000 	lw	v0,-8192(v0)
80014168:	00000000 	nop
8001416c:	00402825 	move	a1,v0
80014170:	3c028002 	lui	v0,0x8002
80014174:	24448d5c 	addiu	a0,v0,-29348
80014178:	0c005a6d 	jal	800169b4 <printk>
8001417c:	00000000 	nop
80014180:	10000005 	b	80014198 <_panic+0x1b8>
80014184:	00000000 	nop
/home/git/21371068/kern/panic.c:39
	} else {
		printk("curenv:    NULL\n");
80014188:	3c028002 	lui	v0,0x8002
8001418c:	24448d78 	addiu	a0,v0,-29320
80014190:	0c005a6d 	jal	800169b4 <printk>
80014194:	00000000 	nop
/home/git/21371068/kern/panic.c:42
	}

	if ((u_long)cur_pgdir >= KERNBASE) {
80014198:	3c02800d 	lui	v0,0x800d
8001419c:	8c42e024 	lw	v0,-8156(v0)
800141a0:	00000000 	nop
800141a4:	00401825 	move	v1,v0
800141a8:	3c028001 	lui	v0,0x8001
800141ac:	0062102b 	sltu	v0,v1,v0
800141b0:	1440000b 	bnez	v0,800141e0 <_panic+0x200>
800141b4:	00000000 	nop
/home/git/21371068/kern/panic.c:43
		printk("cur_pgdir: %x\n", cur_pgdir);
800141b8:	3c02800d 	lui	v0,0x800d
800141bc:	8c42e024 	lw	v0,-8156(v0)
800141c0:	00000000 	nop
800141c4:	00402825 	move	a1,v0
800141c8:	3c028002 	lui	v0,0x8002
800141cc:	24448d8c 	addiu	a0,v0,-29300
800141d0:	0c005a6d 	jal	800169b4 <printk>
800141d4:	00000000 	nop
800141d8:	10000018 	b	8001423c <_panic+0x25c>
800141dc:	00000000 	nop
/home/git/21371068/kern/panic.c:44
	} else if (cur_pgdir) {
800141e0:	3c02800d 	lui	v0,0x800d
800141e4:	8c42e024 	lw	v0,-8156(v0)
800141e8:	00000000 	nop
800141ec:	1040000b 	beqz	v0,8001421c <_panic+0x23c>
800141f0:	00000000 	nop
/home/git/21371068/kern/panic.c:45
		printk("cur_pgdir: %x (invalid)\n", cur_pgdir);
800141f4:	3c02800d 	lui	v0,0x800d
800141f8:	8c42e024 	lw	v0,-8156(v0)
800141fc:	00000000 	nop
80014200:	00402825 	move	a1,v0
80014204:	3c028002 	lui	v0,0x8002
80014208:	24448d9c 	addiu	a0,v0,-29284
8001420c:	0c005a6d 	jal	800169b4 <printk>
80014210:	00000000 	nop
80014214:	10000009 	b	8001423c <_panic+0x25c>
80014218:	00000000 	nop
/home/git/21371068/kern/panic.c:47
	} else {
		printk("cur_pgdir: NULL\n", cur_pgdir);
8001421c:	3c02800d 	lui	v0,0x800d
80014220:	8c42e024 	lw	v0,-8156(v0)
80014224:	00000000 	nop
80014228:	00402825 	move	a1,v0
8001422c:	3c028002 	lui	v0,0x8002
80014230:	24448db8 	addiu	a0,v0,-29256
80014234:	0c005a6d 	jal	800169b4 <printk>
80014238:	00000000 	nop
/home/git/21371068/kern/panic.c:55

#ifdef MOS_HANG_ON_PANIC
	while (1) {
	}
#else
	halt();
8001423c:	0c0046a0 	jal	80011a80 <halt>
80014240:	00000000 	nop
/home/git/21371068/kern/panic.c:57
#endif
}
80014244:	00000000 	nop
80014248:	03c0e825 	move	sp,s8
8001424c:	8fbf0044 	lw	ra,68(sp)
80014250:	8fbe0040 	lw	s8,64(sp)
80014254:	27bd0048 	addiu	sp,sp,72
80014258:	03e00008 	jr	ra
8001425c:	00000000 	nop

80014260 <page2ppn>:
page2ppn():
/home/git/21371068/kern/../include/pmap.h:28
static inline u_long page2ppn(struct Page *pp) {
80014260:	27bdfff8 	addiu	sp,sp,-8
80014264:	afbe0004 	sw	s8,4(sp)
80014268:	03a0f025 	move	s8,sp
8001426c:	afc40008 	sw	a0,8(s8)
/home/git/21371068/kern/../include/pmap.h:29
	return pp - pages;
80014270:	3c02800d 	lui	v0,0x800d
80014274:	8c42e028 	lw	v0,-8152(v0)
80014278:	8fc30008 	lw	v1,8(s8)
8001427c:	00000000 	nop
80014280:	00621023 	subu	v0,v1,v0
80014284:	00021883 	sra	v1,v0,0x2
80014288:	00601025 	move	v0,v1
8001428c:	00021080 	sll	v0,v0,0x2
80014290:	00431021 	addu	v0,v0,v1
80014294:	00021900 	sll	v1,v0,0x4
80014298:	00431021 	addu	v0,v0,v1
8001429c:	00021a00 	sll	v1,v0,0x8
800142a0:	00431021 	addu	v0,v0,v1
800142a4:	00021c00 	sll	v1,v0,0x10
800142a8:	00431021 	addu	v0,v0,v1
800142ac:	00021023 	negu	v0,v0
/home/git/21371068/kern/../include/pmap.h:30
}
800142b0:	03c0e825 	move	sp,s8
800142b4:	8fbe0004 	lw	s8,4(sp)
800142b8:	27bd0008 	addiu	sp,sp,8
800142bc:	03e00008 	jr	ra
800142c0:	00000000 	nop

800142c4 <page2pa>:
page2pa():
/home/git/21371068/kern/../include/pmap.h:32
static inline u_long page2pa(struct Page *pp) {
800142c4:	27bdffe8 	addiu	sp,sp,-24
800142c8:	afbf0014 	sw	ra,20(sp)
800142cc:	afbe0010 	sw	s8,16(sp)
800142d0:	03a0f025 	move	s8,sp
800142d4:	afc40018 	sw	a0,24(s8)
/home/git/21371068/kern/../include/pmap.h:33
	return page2ppn(pp) << PGSHIFT;
800142d8:	8fc40018 	lw	a0,24(s8)
800142dc:	0c005098 	jal	80014260 <page2ppn>
800142e0:	00000000 	nop
800142e4:	00021300 	sll	v0,v0,0xc
/home/git/21371068/kern/../include/pmap.h:34
}
800142e8:	03c0e825 	move	sp,s8
800142ec:	8fbf0014 	lw	ra,20(sp)
800142f0:	8fbe0010 	lw	s8,16(sp)
800142f4:	27bd0018 	addiu	sp,sp,24
800142f8:	03e00008 	jr	ra
800142fc:	00000000 	nop

80014300 <pa2page>:
pa2page():
/home/git/21371068/kern/../include/pmap.h:36
static inline struct Page *pa2page(u_long pa) {
80014300:	27bdffe0 	addiu	sp,sp,-32
80014304:	afbf001c 	sw	ra,28(sp)
80014308:	afbe0018 	sw	s8,24(sp)
8001430c:	03a0f025 	move	s8,sp
80014310:	afc40020 	sw	a0,32(s8)
/home/git/21371068/kern/../include/pmap.h:37
	if (PPN(pa) >= npage) {
80014314:	8fc20020 	lw	v0,32(s8)
80014318:	00000000 	nop
8001431c:	00021b02 	srl	v1,v0,0xc
80014320:	3c02800d 	lui	v0,0x800d
80014324:	8c42e020 	lw	v0,-8160(v0)
80014328:	00000000 	nop
8001432c:	0062102b 	sltu	v0,v1,v0
80014330:	1440000d 	bnez	v0,80014368 <pa2page+0x68>
80014334:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:38
		panic("pa2page called with invalid pa: %x", pa);
80014338:	8fc20020 	lw	v0,32(s8)
8001433c:	00000000 	nop
80014340:	afa20010 	sw	v0,16(sp)
80014344:	3c028002 	lui	v0,0x8002
80014348:	24478dd0 	addiu	a3,v0,-29232
8001434c:	3c028002 	lui	v0,0x8002
80014350:	2446942c 	addiu	a2,v0,-27604
80014354:	24050026 	li	a1,38
80014358:	3c028002 	lui	v0,0x8002
8001435c:	24448df4 	addiu	a0,v0,-29196
80014360:	0c004ff8 	jal	80013fe0 <_panic>
80014364:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:40
	return &pages[PPN(pa)];
80014368:	3c02800d 	lui	v0,0x800d
8001436c:	8c44e028 	lw	a0,-8152(v0)
80014370:	8fc20020 	lw	v0,32(s8)
80014374:	00000000 	nop
80014378:	00021b02 	srl	v1,v0,0xc
8001437c:	00601025 	move	v0,v1
80014380:	00021040 	sll	v0,v0,0x1
80014384:	00431021 	addu	v0,v0,v1
80014388:	00021080 	sll	v0,v0,0x2
8001438c:	00821021 	addu	v0,a0,v0
/home/git/21371068/kern/../include/pmap.h:41
}
80014390:	03c0e825 	move	sp,s8
80014394:	8fbf001c 	lw	ra,28(sp)
80014398:	8fbe0018 	lw	s8,24(sp)
8001439c:	27bd0020 	addiu	sp,sp,32
800143a0:	03e00008 	jr	ra
800143a4:	00000000 	nop

800143a8 <page2kva>:
page2kva():
/home/git/21371068/kern/../include/pmap.h:43
static inline u_long page2kva(struct Page *pp) {
800143a8:	27bdffd8 	addiu	sp,sp,-40
800143ac:	afbf0024 	sw	ra,36(sp)
800143b0:	afbe0020 	sw	s8,32(sp)
800143b4:	03a0f025 	move	s8,sp
800143b8:	afc40028 	sw	a0,40(s8)
/home/git/21371068/kern/../include/pmap.h:44
	return KADDR(page2pa(pp));
800143bc:	8fc40028 	lw	a0,40(s8)
800143c0:	0c0050b1 	jal	800142c4 <page2pa>
800143c4:	00000000 	nop
800143c8:	00021302 	srl	v0,v0,0xc
800143cc:	afc20018 	sw	v0,24(s8)
800143d0:	3c02800d 	lui	v0,0x800d
800143d4:	8c42e020 	lw	v0,-8160(v0)
800143d8:	8fc30018 	lw	v1,24(s8)
800143dc:	00000000 	nop
800143e0:	0062102b 	sltu	v0,v1,v0
800143e4:	1440000e 	bnez	v0,80014420 <page2kva+0x78>
800143e8:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:44 (discriminator 1)
800143ec:	8fc40028 	lw	a0,40(s8)
800143f0:	0c0050b1 	jal	800142c4 <page2pa>
800143f4:	00000000 	nop
800143f8:	afa20010 	sw	v0,16(sp)
800143fc:	3c028002 	lui	v0,0x8002
80014400:	24478e08 	addiu	a3,v0,-29176
80014404:	3c028002 	lui	v0,0x8002
80014408:	24469408 	addiu	a2,v0,-27640
8001440c:	2405002c 	li	a1,44
80014410:	3c028002 	lui	v0,0x8002
80014414:	24448df4 	addiu	a0,v0,-29196
80014418:	0c004ff8 	jal	80013fe0 <_panic>
8001441c:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:44 (discriminator 3)
80014420:	8fc40028 	lw	a0,40(s8)
80014424:	0c0050b1 	jal	800142c4 <page2pa>
80014428:	00000000 	nop
8001442c:	00401825 	move	v1,v0
80014430:	3c028000 	lui	v0,0x8000
80014434:	00621021 	addu	v0,v1,v0
/home/git/21371068/kern/../include/pmap.h:45 (discriminator 3)
}
80014438:	03c0e825 	move	sp,s8
8001443c:	8fbf0024 	lw	ra,36(sp)
80014440:	8fbe0020 	lw	s8,32(sp)
80014444:	27bd0028 	addiu	sp,sp,40
80014448:	03e00008 	jr	ra
8001444c:	00000000 	nop

80014450 <va2pa>:
va2pa():
/home/git/21371068/kern/../include/pmap.h:47
static inline u_long va2pa(Pde *pgdir, u_long va) {
80014450:	27bdffd8 	addiu	sp,sp,-40
80014454:	afbf0024 	sw	ra,36(sp)
80014458:	afbe0020 	sw	s8,32(sp)
8001445c:	03a0f025 	move	s8,sp
80014460:	afc40028 	sw	a0,40(s8)
80014464:	afc5002c 	sw	a1,44(s8)
/home/git/21371068/kern/../include/pmap.h:50
	pgdir = &pgdir[PDX(va)];
80014468:	8fc2002c 	lw	v0,44(s8)
8001446c:	00000000 	nop
80014470:	00021582 	srl	v0,v0,0x16
80014474:	00021080 	sll	v0,v0,0x2
80014478:	8fc30028 	lw	v1,40(s8)
8001447c:	00000000 	nop
80014480:	00621021 	addu	v0,v1,v0
80014484:	afc20028 	sw	v0,40(s8)
/home/git/21371068/kern/../include/pmap.h:51
	if (!(*pgdir & PTE_V)) {
80014488:	8fc20028 	lw	v0,40(s8)
8001448c:	00000000 	nop
80014490:	8c420000 	lw	v0,0(v0)
80014494:	00000000 	nop
80014498:	30420200 	andi	v0,v0,0x200
8001449c:	14400004 	bnez	v0,800144b0 <va2pa+0x60>
800144a0:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:52
		return ~0;
800144a4:	2402ffff 	li	v0,-1
800144a8:	10000040 	b	800145ac <va2pa+0x15c>
800144ac:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:54
	p = (Pte *)KADDR(PTE_ADDR(*pgdir));
800144b0:	8fc20028 	lw	v0,40(s8)
800144b4:	00000000 	nop
800144b8:	8c420000 	lw	v0,0(v0)
800144bc:	00000000 	nop
800144c0:	00021302 	srl	v0,v0,0xc
800144c4:	afc20018 	sw	v0,24(s8)
800144c8:	3c02800d 	lui	v0,0x800d
800144cc:	8c42e020 	lw	v0,-8160(v0)
800144d0:	8fc30018 	lw	v1,24(s8)
800144d4:	00000000 	nop
800144d8:	0062102b 	sltu	v0,v1,v0
800144dc:	14400010 	bnez	v0,80014520 <va2pa+0xd0>
800144e0:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:54 (discriminator 1)
800144e4:	8fc20028 	lw	v0,40(s8)
800144e8:	00000000 	nop
800144ec:	8c430000 	lw	v1,0(v0)
800144f0:	2402f000 	li	v0,-4096
800144f4:	00621024 	and	v0,v1,v0
800144f8:	afa20010 	sw	v0,16(sp)
800144fc:	3c028002 	lui	v0,0x8002
80014500:	24478e08 	addiu	a3,v0,-29176
80014504:	3c028002 	lui	v0,0x8002
80014508:	2446946c 	addiu	a2,v0,-27540
8001450c:	24050036 	li	a1,54
80014510:	3c028002 	lui	v0,0x8002
80014514:	24448df4 	addiu	a0,v0,-29196
80014518:	0c004ff8 	jal	80013fe0 <_panic>
8001451c:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:54 (discriminator 3)
80014520:	8fc20028 	lw	v0,40(s8)
80014524:	00000000 	nop
80014528:	8c430000 	lw	v1,0(v0)
8001452c:	2402f000 	li	v0,-4096
80014530:	00621824 	and	v1,v1,v0
80014534:	3c028000 	lui	v0,0x8000
80014538:	00621021 	addu	v0,v1,v0
8001453c:	afc2001c 	sw	v0,28(s8)
/home/git/21371068/kern/../include/pmap.h:55 (discriminator 3)
	if (!(p[PTX(va)] & PTE_V)) {
80014540:	8fc2002c 	lw	v0,44(s8)
80014544:	00000000 	nop
80014548:	00021302 	srl	v0,v0,0xc
8001454c:	304203ff 	andi	v0,v0,0x3ff
80014550:	00021080 	sll	v0,v0,0x2
80014554:	8fc3001c 	lw	v1,28(s8)
80014558:	00000000 	nop
8001455c:	00621021 	addu	v0,v1,v0
80014560:	8c420000 	lw	v0,0(v0)
80014564:	00000000 	nop
80014568:	30420200 	andi	v0,v0,0x200
8001456c:	14400004 	bnez	v0,80014580 <va2pa+0x130>
80014570:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:56
		return ~0;
80014574:	2402ffff 	li	v0,-1
80014578:	1000000c 	b	800145ac <va2pa+0x15c>
8001457c:	00000000 	nop
/home/git/21371068/kern/../include/pmap.h:58
	return PTE_ADDR(p[PTX(va)]);
80014580:	8fc2002c 	lw	v0,44(s8)
80014584:	00000000 	nop
80014588:	00021302 	srl	v0,v0,0xc
8001458c:	304203ff 	andi	v0,v0,0x3ff
80014590:	00021080 	sll	v0,v0,0x2
80014594:	8fc3001c 	lw	v1,28(s8)
80014598:	00000000 	nop
8001459c:	00621021 	addu	v0,v1,v0
800145a0:	8c430000 	lw	v1,0(v0)
800145a4:	2402f000 	li	v0,-4096
800145a8:	00621024 	and	v0,v1,v0
/home/git/21371068/kern/../include/pmap.h:59
}
800145ac:	03c0e825 	move	sp,s8
800145b0:	8fbf0024 	lw	ra,36(sp)
800145b4:	8fbe0020 	lw	s8,32(sp)
800145b8:	27bd0028 	addiu	sp,sp,40
800145bc:	03e00008 	jr	ra
800145c0:	00000000 	nop

800145c4 <mips_detect_memory>:
mips_detect_memory():
/home/git/21371068/kern/pmap.c:22

/* Overview:
 *   Read memory size from DEV_MP to initialize 'memsize' and calculate the
 * corresponding 'npage' value.
 */
void mips_detect_memory() {
800145c4:	27bdffe8 	addiu	sp,sp,-24
800145c8:	afbf0014 	sw	ra,20(sp)
800145cc:	afbe0010 	sw	s8,16(sp)
800145d0:	03a0f025 	move	s8,sp
/home/git/21371068/kern/pmap.c:24
  /* Step 1: Initialize memsize. */
  memsize = *(volatile u_int *)(KSEG1 | DEV_MP_ADDRESS | DEV_MP_MEMORY);
800145d4:	3c02b100 	lui	v0,0xb100
800145d8:	34420090 	ori	v0,v0,0x90
800145dc:	8c430000 	lw	v1,0(v0)
800145e0:	3c02800d 	lui	v0,0x800d
800145e4:	ac43e030 	sw	v1,-8144(v0)
/home/git/21371068/kern/pmap.c:28

  /* Step 2: Calculate the corresponding 'npage' value. */
  /* Exercise 2.1: Your code here. */
  npage = memsize / 4096;
800145e8:	3c02800d 	lui	v0,0x800d
800145ec:	8c42e030 	lw	v0,-8144(v0)
800145f0:	00000000 	nop
800145f4:	00021b02 	srl	v1,v0,0xc
800145f8:	3c02800d 	lui	v0,0x800d
800145fc:	ac43e020 	sw	v1,-8160(v0)
/home/git/21371068/kern/pmap.c:29
  printk("Memory size: %lu KiB, number of pages: %lu\n", memsize / 1024, npage);
80014600:	3c02800d 	lui	v0,0x800d
80014604:	8c42e030 	lw	v0,-8144(v0)
80014608:	00000000 	nop
8001460c:	00021a82 	srl	v1,v0,0xa
80014610:	3c02800d 	lui	v0,0x800d
80014614:	8c42e020 	lw	v0,-8160(v0)
80014618:	00000000 	nop
8001461c:	00403025 	move	a2,v0
80014620:	00602825 	move	a1,v1
80014624:	3c028002 	lui	v0,0x8002
80014628:	24448e2c 	addiu	a0,v0,-29140
8001462c:	0c005a6d 	jal	800169b4 <printk>
80014630:	00000000 	nop
/home/git/21371068/kern/pmap.c:30
}
80014634:	00000000 	nop
80014638:	03c0e825 	move	sp,s8
8001463c:	8fbf0014 	lw	ra,20(sp)
80014640:	8fbe0010 	lw	s8,16(sp)
80014644:	27bd0018 	addiu	sp,sp,24
80014648:	03e00008 	jr	ra
8001464c:	00000000 	nop

80014650 <alloc>:
alloc():
/home/git/21371068/kern/pmap.c:37
/* Overview:
    Allocate `n` bytes physical memory with alignment `align`, if `clear` is
   set, clear the allocated memory. This allocator is used only while setting up
   virtual memory system. Post-Condition: If we're out of memory, should panic,
   else return this address of memory we have allocated.*/
void *alloc(u_int n, u_int align, int clear) {
80014650:	27bdffd0 	addiu	sp,sp,-48
80014654:	afbf002c 	sw	ra,44(sp)
80014658:	afbe0028 	sw	s8,40(sp)
8001465c:	03a0f025 	move	s8,sp
80014660:	afc40030 	sw	a0,48(s8)
80014664:	afc50034 	sw	a1,52(s8)
80014668:	afc60038 	sw	a2,56(s8)
/home/git/21371068/kern/pmap.c:43
  extern char end[];
  u_long alloced_mem;

  /* Initialize `freemem` if this is the first time. The first virtual address
   * that the linker did *not* assign to any kernel code or global variables. */
  if (freemem == 0) {
8001466c:	3c02800d 	lui	v0,0x800d
80014670:	8c42e034 	lw	v0,-8140(v0)
80014674:	00000000 	nop
80014678:	14400005 	bnez	v0,80014690 <alloc+0x40>
8001467c:	00000000 	nop
/home/git/21371068/kern/pmap.c:44
    freemem = (u_long)end; // end
80014680:	3c028040 	lui	v0,0x8040
80014684:	24430000 	addiu	v1,v0,0
80014688:	3c02800d 	lui	v0,0x800d
8001468c:	ac43e034 	sw	v1,-8140(v0)
/home/git/21371068/kern/pmap.c:48
  }

  /* Step 1: Round up `freemem` up to be aligned properly */
  freemem = ROUND(freemem, align);
80014690:	3c02800d 	lui	v0,0x800d
80014694:	8c43e034 	lw	v1,-8140(v0)
80014698:	8fc20034 	lw	v0,52(s8)
8001469c:	00000000 	nop
800146a0:	00621021 	addu	v0,v1,v0
800146a4:	2443ffff 	addiu	v1,v0,-1
800146a8:	8fc20034 	lw	v0,52(s8)
800146ac:	00000000 	nop
800146b0:	00021023 	negu	v0,v0
800146b4:	00621824 	and	v1,v1,v0
800146b8:	3c02800d 	lui	v0,0x800d
800146bc:	ac43e034 	sw	v1,-8140(v0)
/home/git/21371068/kern/pmap.c:50
  /* Step 2: Save current value of `freemem` as allocated chunk. */
  alloced_mem = freemem;
800146c0:	3c02800d 	lui	v0,0x800d
800146c4:	8c42e034 	lw	v0,-8140(v0)
800146c8:	00000000 	nop
800146cc:	afc20018 	sw	v0,24(s8)
/home/git/21371068/kern/pmap.c:53

  /* Step 3: Increase `freemem` to record allocation. */
  freemem = freemem + n;
800146d0:	3c02800d 	lui	v0,0x800d
800146d4:	8c43e034 	lw	v1,-8140(v0)
800146d8:	8fc20030 	lw	v0,48(s8)
800146dc:	00000000 	nop
800146e0:	00621821 	addu	v1,v1,v0
800146e4:	3c02800d 	lui	v0,0x800d
800146e8:	ac43e034 	sw	v1,-8140(v0)
/home/git/21371068/kern/pmap.c:56

  // Panic if we're out of memory.
  panic_on(PADDR(freemem) >= memsize);
800146ec:	3c02800d 	lui	v0,0x800d
800146f0:	8c42e034 	lw	v0,-8140(v0)
800146f4:	00000000 	nop
800146f8:	afc2001c 	sw	v0,28(s8)
800146fc:	8fc2001c 	lw	v0,28(s8)
80014700:	00000000 	nop
80014704:	0440000d 	bltz	v0,8001473c <alloc+0xec>
80014708:	00000000 	nop
/home/git/21371068/kern/pmap.c:56 (discriminator 1)
8001470c:	8fc2001c 	lw	v0,28(s8)
80014710:	00000000 	nop
80014714:	afa20010 	sw	v0,16(sp)
80014718:	3c028002 	lui	v0,0x8002
8001471c:	24478e58 	addiu	a3,v0,-29096
80014720:	3c028002 	lui	v0,0x8002
80014724:	244693f4 	addiu	a2,v0,-27660
80014728:	24050038 	li	a1,56
8001472c:	3c028002 	lui	v0,0x8002
80014730:	24448e7c 	addiu	a0,v0,-29060
80014734:	0c004ff8 	jal	80013fe0 <_panic>
80014738:	00000000 	nop
/home/git/21371068/kern/pmap.c:56 (discriminator 3)
8001473c:	8fc3001c 	lw	v1,28(s8)
80014740:	3c028000 	lui	v0,0x8000
80014744:	00621821 	addu	v1,v1,v0
80014748:	3c02800d 	lui	v0,0x800d
8001474c:	8c42e030 	lw	v0,-8144(v0)
80014750:	00000000 	nop
80014754:	0062102b 	sltu	v0,v1,v0
80014758:	38420001 	xori	v0,v0,0x1
8001475c:	304200ff 	andi	v0,v0,0xff
80014760:	afc20020 	sw	v0,32(s8)
80014764:	8fc20020 	lw	v0,32(s8)
80014768:	00000000 	nop
8001476c:	1040000d 	beqz	v0,800147a4 <alloc+0x154>
80014770:	00000000 	nop
/home/git/21371068/kern/pmap.c:56 (discriminator 4)
80014774:	8fc20020 	lw	v0,32(s8)
80014778:	00000000 	nop
8001477c:	afa20010 	sw	v0,16(sp)
80014780:	3c028002 	lui	v0,0x8002
80014784:	24478e84 	addiu	a3,v0,-29052
80014788:	3c028002 	lui	v0,0x8002
8001478c:	244693f4 	addiu	a2,v0,-27660
80014790:	24050038 	li	a1,56
80014794:	3c028002 	lui	v0,0x8002
80014798:	24448e7c 	addiu	a0,v0,-29060
8001479c:	0c004ff8 	jal	80013fe0 <_panic>
800147a0:	00000000 	nop
/home/git/21371068/kern/pmap.c:59

  /* Step 4: Clear allocated chunk if parameter `clear` is set. */
  if (clear) {
800147a4:	8fc20038 	lw	v0,56(s8)
800147a8:	00000000 	nop
800147ac:	10400007 	beqz	v0,800147cc <alloc+0x17c>
800147b0:	00000000 	nop
/home/git/21371068/kern/pmap.c:60
    memset((void *)alloced_mem, 0, n);
800147b4:	8fc20018 	lw	v0,24(s8)
800147b8:	8fc60030 	lw	a2,48(s8)
800147bc:	00002825 	move	a1,zero
800147c0:	00402025 	move	a0,v0
800147c4:	0c00454a 	jal	80011528 <memset>
800147c8:	00000000 	nop
/home/git/21371068/kern/pmap.c:64
  }

  /* Step 5: return allocated chunk. */
  return (void *)alloced_mem;
800147cc:	8fc20018 	lw	v0,24(s8)
/home/git/21371068/kern/pmap.c:65
}
800147d0:	03c0e825 	move	sp,s8
800147d4:	8fbf002c 	lw	ra,44(sp)
800147d8:	8fbe0028 	lw	s8,40(sp)
800147dc:	27bd0030 	addiu	sp,sp,48
800147e0:	03e00008 	jr	ra
800147e4:	00000000 	nop

800147e8 <mips_vm_init>:
mips_vm_init():
/home/git/21371068/kern/pmap.c:71

/* Overview:
    Set up two-level page table.
   Hint:
    You can get more details about `UPAGES` and `UENVS` in include/mmu.h. */
void mips_vm_init() {
800147e8:	27bdffe8 	addiu	sp,sp,-24
800147ec:	afbf0014 	sw	ra,20(sp)
800147f0:	afbe0010 	sw	s8,16(sp)
800147f4:	03a0f025 	move	s8,sp
/home/git/21371068/kern/pmap.c:76
  /* Allocate proper size of physical memory for global array `pages`,
   * for physical memory management. Then, map virtual address `UPAGES` to
   * physical address `pages` allocated before. For consideration of alignment,
   * you should round up the memory size before map. */
  pages = (struct Page *)alloc(npage * sizeof(struct Page), BY2PG, 1);
800147f8:	3c02800d 	lui	v0,0x800d
800147fc:	8c43e020 	lw	v1,-8160(v0)
80014800:	00000000 	nop
80014804:	00601025 	move	v0,v1
80014808:	00021040 	sll	v0,v0,0x1
8001480c:	00431021 	addu	v0,v0,v1
80014810:	00021080 	sll	v0,v0,0x2
80014814:	24060001 	li	a2,1
80014818:	24051000 	li	a1,4096
8001481c:	00402025 	move	a0,v0
80014820:	0c005194 	jal	80014650 <alloc>
80014824:	00000000 	nop
80014828:	00401825 	move	v1,v0
8001482c:	3c02800d 	lui	v0,0x800d
80014830:	ac43e028 	sw	v1,-8152(v0)
/home/git/21371068/kern/pmap.c:77
  printk("to memory %x for struct Pages.\n", freemem);
80014834:	3c02800d 	lui	v0,0x800d
80014838:	8c42e034 	lw	v0,-8140(v0)
8001483c:	00000000 	nop
80014840:	00402825 	move	a1,v0
80014844:	3c028002 	lui	v0,0x8002
80014848:	24448eac 	addiu	a0,v0,-29012
8001484c:	0c005a6d 	jal	800169b4 <printk>
80014850:	00000000 	nop
/home/git/21371068/kern/pmap.c:78
  printk("pmap.c:\t mips vm init success\n");
80014854:	3c028002 	lui	v0,0x8002
80014858:	24448ecc 	addiu	a0,v0,-28980
8001485c:	0c005a6d 	jal	800169b4 <printk>
80014860:	00000000 	nop
/home/git/21371068/kern/pmap.c:79
}
80014864:	00000000 	nop
80014868:	03c0e825 	move	sp,s8
8001486c:	8fbf0014 	lw	ra,20(sp)
80014870:	8fbe0010 	lw	s8,16(sp)
80014874:	27bd0018 	addiu	sp,sp,24
80014878:	03e00008 	jr	ra
8001487c:	00000000 	nop

80014880 <page_init>:
page_init():
/home/git/21371068/kern/pmap.c:88
 * 'struct Page' entry per physical page. Pages are reference counted, and free
 * pages are kept on a linked list.
 *
 * Hint: Use 'LIST_INSERT_HEAD' to insert free pages to 'page_free_list'.
 */
void page_init(void) {
80014880:	27bdffd8 	addiu	sp,sp,-40
80014884:	afbf0024 	sw	ra,36(sp)
80014888:	afbe0020 	sw	s8,32(sp)
8001488c:	03a0f025 	move	s8,sp
/home/git/21371068/kern/pmap.c:92
  /* Step 1: Initialize page_free_list. */
  /* Hint: Use macro `LIST_INIT` defined in include/queue.h. */
  /* Exercise 2.3: Your code here. (1/4) */
  LIST_INIT(&page_free_list);
80014890:	3c02800d 	lui	v0,0x800d
80014894:	ac40e02c 	sw	zero,-8148(v0)
/home/git/21371068/kern/pmap.c:95
  /* Step 2: Align `freemem` up to multiple of BY2PG. */
  /* Exercise 2.3: Your code here. (2/4) */
  freemem = ROUND(freemem, BY2PG);
80014898:	3c02800d 	lui	v0,0x800d
8001489c:	8c42e034 	lw	v0,-8140(v0)
800148a0:	00000000 	nop
800148a4:	24430fff 	addiu	v1,v0,4095
800148a8:	2402f000 	li	v0,-4096
800148ac:	00621824 	and	v1,v1,v0
800148b0:	3c02800d 	lui	v0,0x800d
800148b4:	ac43e034 	sw	v1,-8140(v0)
/home/git/21371068/kern/pmap.c:100
  /* Step 3: Mark all memory below `freemem` as used (set `pp_ref` to 1) */
  /* Exercise 2.3: Your code here. (3/4) */
  // struct Page *p = pages;
  int i;
  for (i = 0; i < PPN(PADDR(freemem)); i++) {
800148b8:	afc00018 	sw	zero,24(s8)
800148bc:	10000010 	b	80014900 <page_init+0x80>
800148c0:	00000000 	nop
/home/git/21371068/kern/pmap.c:101 (discriminator 6)
    pages[i].pp_ref = 1;
800148c4:	3c02800d 	lui	v0,0x800d
800148c8:	8c44e028 	lw	a0,-8152(v0)
800148cc:	8fc30018 	lw	v1,24(s8)
800148d0:	00000000 	nop
800148d4:	00601025 	move	v0,v1
800148d8:	00021040 	sll	v0,v0,0x1
800148dc:	00431021 	addu	v0,v0,v1
800148e0:	00021080 	sll	v0,v0,0x2
800148e4:	00821021 	addu	v0,a0,v0
800148e8:	24030001 	li	v1,1
800148ec:	a4430008 	sh	v1,8(v0)
/home/git/21371068/kern/pmap.c:100 (discriminator 6)
  for (i = 0; i < PPN(PADDR(freemem)); i++) {
800148f0:	8fc20018 	lw	v0,24(s8)
800148f4:	00000000 	nop
800148f8:	24420001 	addiu	v0,v0,1
800148fc:	afc20018 	sw	v0,24(s8)
/home/git/21371068/kern/pmap.c:100 (discriminator 1)
80014900:	3c02800d 	lui	v0,0x800d
80014904:	8c42e034 	lw	v0,-8140(v0)
80014908:	00000000 	nop
8001490c:	afc2001c 	sw	v0,28(s8)
80014910:	8fc2001c 	lw	v0,28(s8)
80014914:	00000000 	nop
80014918:	0440000d 	bltz	v0,80014950 <page_init+0xd0>
8001491c:	00000000 	nop
/home/git/21371068/kern/pmap.c:100 (discriminator 3)
80014920:	8fc2001c 	lw	v0,28(s8)
80014924:	00000000 	nop
80014928:	afa20010 	sw	v0,16(sp)
8001492c:	3c028002 	lui	v0,0x8002
80014930:	24478e58 	addiu	a3,v0,-29096
80014934:	3c028002 	lui	v0,0x8002
80014938:	244693fc 	addiu	a2,v0,-27652
8001493c:	24050064 	li	a1,100
80014940:	3c028002 	lui	v0,0x8002
80014944:	24448e7c 	addiu	a0,v0,-29060
80014948:	0c004ff8 	jal	80013fe0 <_panic>
8001494c:	00000000 	nop
/home/git/21371068/kern/pmap.c:100 (discriminator 5)
80014950:	8fc3001c 	lw	v1,28(s8)
80014954:	3c028000 	lui	v0,0x8000
80014958:	00621021 	addu	v0,v1,v0
8001495c:	00021b02 	srl	v1,v0,0xc
80014960:	8fc20018 	lw	v0,24(s8)
80014964:	00000000 	nop
80014968:	0043102b 	sltu	v0,v0,v1
8001496c:	1440ffd5 	bnez	v0,800148c4 <page_init+0x44>
80014970:	00000000 	nop
/home/git/21371068/kern/pmap.c:105
  }
  /* Step 4: Mark the other memory as free. */
  /* Exercise 2.3: Your code here. (4/4) */
  for (; i < npage; i++) {
80014974:	10000044 	b	80014a88 <page_init+0x208>
80014978:	00000000 	nop
/home/git/21371068/kern/pmap.c:106
    pages[i].pp_ref = 0;
8001497c:	3c02800d 	lui	v0,0x800d
80014980:	8c44e028 	lw	a0,-8152(v0)
80014984:	8fc30018 	lw	v1,24(s8)
80014988:	00000000 	nop
8001498c:	00601025 	move	v0,v1
80014990:	00021040 	sll	v0,v0,0x1
80014994:	00431021 	addu	v0,v0,v1
80014998:	00021080 	sll	v0,v0,0x2
8001499c:	00821021 	addu	v0,a0,v0
800149a0:	a4400008 	sh	zero,8(v0)
/home/git/21371068/kern/pmap.c:107
    LIST_INSERT_HEAD(&page_free_list, (pages + i), pp_link);
800149a4:	3c02800d 	lui	v0,0x800d
800149a8:	8c44e028 	lw	a0,-8152(v0)
800149ac:	8fc30018 	lw	v1,24(s8)
800149b0:	00000000 	nop
800149b4:	00601025 	move	v0,v1
800149b8:	00021040 	sll	v0,v0,0x1
800149bc:	00431021 	addu	v0,v0,v1
800149c0:	00021080 	sll	v0,v0,0x2
800149c4:	00821021 	addu	v0,a0,v0
800149c8:	3c03800d 	lui	v1,0x800d
800149cc:	8c63e02c 	lw	v1,-8148(v1)
800149d0:	00000000 	nop
800149d4:	ac430000 	sw	v1,0(v0)
800149d8:	8c420000 	lw	v0,0(v0)
800149dc:	00000000 	nop
800149e0:	1040000e 	beqz	v0,80014a1c <page_init+0x19c>
800149e4:	00000000 	nop
/home/git/21371068/kern/pmap.c:107 (discriminator 1)
800149e8:	3c02800d 	lui	v0,0x800d
800149ec:	8c44e028 	lw	a0,-8152(v0)
800149f0:	8fc30018 	lw	v1,24(s8)
800149f4:	00000000 	nop
800149f8:	00601025 	move	v0,v1
800149fc:	00021040 	sll	v0,v0,0x1
80014a00:	00431021 	addu	v0,v0,v1
80014a04:	00021080 	sll	v0,v0,0x2
80014a08:	00821821 	addu	v1,a0,v0
80014a0c:	3c02800d 	lui	v0,0x800d
80014a10:	8c42e02c 	lw	v0,-8148(v0)
80014a14:	00000000 	nop
80014a18:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/pmap.c:107 (discriminator 3)
80014a1c:	3c02800d 	lui	v0,0x800d
80014a20:	8c44e028 	lw	a0,-8152(v0)
80014a24:	8fc30018 	lw	v1,24(s8)
80014a28:	00000000 	nop
80014a2c:	00601025 	move	v0,v1
80014a30:	00021040 	sll	v0,v0,0x1
80014a34:	00431021 	addu	v0,v0,v1
80014a38:	00021080 	sll	v0,v0,0x2
80014a3c:	00821821 	addu	v1,a0,v0
80014a40:	3c02800d 	lui	v0,0x800d
80014a44:	ac43e02c 	sw	v1,-8148(v0)
80014a48:	3c02800d 	lui	v0,0x800d
80014a4c:	8c44e028 	lw	a0,-8152(v0)
80014a50:	8fc30018 	lw	v1,24(s8)
80014a54:	00000000 	nop
80014a58:	00601025 	move	v0,v1
80014a5c:	00021040 	sll	v0,v0,0x1
80014a60:	00431021 	addu	v0,v0,v1
80014a64:	00021080 	sll	v0,v0,0x2
80014a68:	00821021 	addu	v0,a0,v0
80014a6c:	3c03800d 	lui	v1,0x800d
80014a70:	2463e02c 	addiu	v1,v1,-8148
80014a74:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/pmap.c:105 (discriminator 3)
  for (; i < npage; i++) {
80014a78:	8fc20018 	lw	v0,24(s8)
80014a7c:	00000000 	nop
80014a80:	24420001 	addiu	v0,v0,1
80014a84:	afc20018 	sw	v0,24(s8)
/home/git/21371068/kern/pmap.c:105 (discriminator 1)
80014a88:	8fc30018 	lw	v1,24(s8)
80014a8c:	3c02800d 	lui	v0,0x800d
80014a90:	8c42e020 	lw	v0,-8160(v0)
80014a94:	00000000 	nop
80014a98:	0062102b 	sltu	v0,v1,v0
80014a9c:	1440ffb7 	bnez	v0,8001497c <page_init+0xfc>
80014aa0:	00000000 	nop
	...
/home/git/21371068/kern/pmap.c:109
  }
}
80014aac:	03c0e825 	move	sp,s8
80014ab0:	8fbf0024 	lw	ra,36(sp)
80014ab4:	8fbe0020 	lw	s8,32(sp)
80014ab8:	27bd0028 	addiu	sp,sp,40
80014abc:	03e00008 	jr	ra
80014ac0:	00000000 	nop

80014ac4 <page_alloc>:
page_alloc():
/home/git/21371068/kern/pmap.c:125
 *   This does NOT increase the reference count 'pp_ref' of the page - the
 * caller must do these if necessary (either explicitly or via page_insert).
 *
 * Hint: Use LIST_FIRST and LIST_REMOVE defined in include/queue.h.
 */
int page_alloc(struct Page **new) {
80014ac4:	27bdffe0 	addiu	sp,sp,-32
80014ac8:	afbf001c 	sw	ra,28(sp)
80014acc:	afbe0018 	sw	s8,24(sp)
80014ad0:	03a0f025 	move	s8,sp
80014ad4:	afc40020 	sw	a0,32(s8)
/home/git/21371068/kern/pmap.c:129
  /* Step 1: Get a page from free memory. If fails, return the error code.*/
  struct Page *pp;
  /* Exercise 2.4: Your code here. (1/2) */
  if (LIST_EMPTY(&page_free_list)) {
80014ad8:	3c02800d 	lui	v0,0x800d
80014adc:	8c42e02c 	lw	v0,-8148(v0)
80014ae0:	00000000 	nop
80014ae4:	14400004 	bnez	v0,80014af8 <page_alloc+0x34>
80014ae8:	00000000 	nop
/home/git/21371068/kern/pmap.c:130
    return -E_NO_MEM;
80014aec:	2402fffc 	li	v0,-4
80014af0:	10000028 	b	80014b94 <page_alloc+0xd0>
80014af4:	00000000 	nop
/home/git/21371068/kern/pmap.c:132
  }
  pp = LIST_FIRST(&page_free_list);
80014af8:	3c02800d 	lui	v0,0x800d
80014afc:	8c42e02c 	lw	v0,-8148(v0)
80014b00:	00000000 	nop
80014b04:	afc20010 	sw	v0,16(s8)
/home/git/21371068/kern/pmap.c:134

  LIST_REMOVE(pp, pp_link);
80014b08:	8fc20010 	lw	v0,16(s8)
80014b0c:	00000000 	nop
80014b10:	8c420000 	lw	v0,0(v0)
80014b14:	00000000 	nop
80014b18:	10400009 	beqz	v0,80014b40 <page_alloc+0x7c>
80014b1c:	00000000 	nop
/home/git/21371068/kern/pmap.c:134 (discriminator 1)
80014b20:	8fc20010 	lw	v0,16(s8)
80014b24:	00000000 	nop
80014b28:	8c420000 	lw	v0,0(v0)
80014b2c:	8fc30010 	lw	v1,16(s8)
80014b30:	00000000 	nop
80014b34:	8c630004 	lw	v1,4(v1)
80014b38:	00000000 	nop
80014b3c:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/pmap.c:134 (discriminator 3)
80014b40:	8fc20010 	lw	v0,16(s8)
80014b44:	00000000 	nop
80014b48:	8c420004 	lw	v0,4(v0)
80014b4c:	8fc30010 	lw	v1,16(s8)
80014b50:	00000000 	nop
80014b54:	8c630000 	lw	v1,0(v1)
80014b58:	00000000 	nop
80014b5c:	ac430000 	sw	v1,0(v0)
/home/git/21371068/kern/pmap.c:139 (discriminator 3)

  /* Step 2: Initialize this page with zero.
   * Hint: use `memset`. */
  /* Exercise 2.4: Your code here. (2/2) */
  memset((void *)page2kva(pp), 0, BY2PG);
80014b60:	8fc40010 	lw	a0,16(s8)
80014b64:	0c0050ea 	jal	800143a8 <page2kva>
80014b68:	00000000 	nop
80014b6c:	24061000 	li	a2,4096
80014b70:	00002825 	move	a1,zero
80014b74:	00402025 	move	a0,v0
80014b78:	0c00454a 	jal	80011528 <memset>
80014b7c:	00000000 	nop
/home/git/21371068/kern/pmap.c:140 (discriminator 3)
  *new = pp;
80014b80:	8fc20020 	lw	v0,32(s8)
80014b84:	8fc30010 	lw	v1,16(s8)
80014b88:	00000000 	nop
80014b8c:	ac430000 	sw	v1,0(v0)
/home/git/21371068/kern/pmap.c:141 (discriminator 3)
  return 0;
80014b90:	00001025 	move	v0,zero
/home/git/21371068/kern/pmap.c:142
}
80014b94:	03c0e825 	move	sp,s8
80014b98:	8fbf001c 	lw	ra,28(sp)
80014b9c:	8fbe0018 	lw	s8,24(sp)
80014ba0:	27bd0020 	addiu	sp,sp,32
80014ba4:	03e00008 	jr	ra
80014ba8:	00000000 	nop

80014bac <page_free>:
page_free():
/home/git/21371068/kern/pmap.c:150
 *   Release a page 'pp', mark it as free.
 *
 * Pre-Condition:
 *   'pp->pp_ref' is '0'.
 */
void page_free(struct Page *pp) {
80014bac:	27bdffe0 	addiu	sp,sp,-32
80014bb0:	afbf001c 	sw	ra,28(sp)
80014bb4:	afbe0018 	sw	s8,24(sp)
80014bb8:	03a0f025 	move	s8,sp
80014bbc:	afc40020 	sw	a0,32(s8)
/home/git/21371068/kern/pmap.c:151
  assert(pp->pp_ref == 0);
80014bc0:	8fc20020 	lw	v0,32(s8)
80014bc4:	00000000 	nop
80014bc8:	94420008 	lhu	v0,8(v0)
80014bcc:	00000000 	nop
80014bd0:	1040000d 	beqz	v0,80014c08 <page_free+0x5c>
80014bd4:	00000000 	nop
/home/git/21371068/kern/pmap.c:151 (discriminator 1)
80014bd8:	3c028002 	lui	v0,0x8002
80014bdc:	24428f04 	addiu	v0,v0,-28924
80014be0:	afa20010 	sw	v0,16(sp)
80014be4:	3c028002 	lui	v0,0x8002
80014be8:	24478eec 	addiu	a3,v0,-28948
80014bec:	3c028002 	lui	v0,0x8002
80014bf0:	24469414 	addiu	a2,v0,-27628
80014bf4:	24050097 	li	a1,151
80014bf8:	3c028002 	lui	v0,0x8002
80014bfc:	24448e7c 	addiu	a0,v0,-29060
80014c00:	0c004ff8 	jal	80013fe0 <_panic>
80014c04:	00000000 	nop
/home/git/21371068/kern/pmap.c:154
  /* Just insert it into 'page_free_list'. */
  /* Exercise 2.5: Your code here. */
  LIST_INSERT_HEAD(&page_free_list, pp, pp_link);
80014c08:	3c02800d 	lui	v0,0x800d
80014c0c:	8c43e02c 	lw	v1,-8148(v0)
80014c10:	8fc20020 	lw	v0,32(s8)
80014c14:	00000000 	nop
80014c18:	ac430000 	sw	v1,0(v0)
80014c1c:	8fc20020 	lw	v0,32(s8)
80014c20:	00000000 	nop
80014c24:	8c420000 	lw	v0,0(v0)
80014c28:	00000000 	nop
80014c2c:	10400006 	beqz	v0,80014c48 <page_free+0x9c>
80014c30:	00000000 	nop
/home/git/21371068/kern/pmap.c:154 (discriminator 1)
80014c34:	3c02800d 	lui	v0,0x800d
80014c38:	8c42e02c 	lw	v0,-8148(v0)
80014c3c:	8fc30020 	lw	v1,32(s8)
80014c40:	00000000 	nop
80014c44:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/pmap.c:154 (discriminator 3)
80014c48:	3c02800d 	lui	v0,0x800d
80014c4c:	8fc30020 	lw	v1,32(s8)
80014c50:	00000000 	nop
80014c54:	ac43e02c 	sw	v1,-8148(v0)
80014c58:	8fc20020 	lw	v0,32(s8)
80014c5c:	3c03800d 	lui	v1,0x800d
80014c60:	2463e02c 	addiu	v1,v1,-8148
80014c64:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/pmap.c:155 (discriminator 3)
}
80014c68:	00000000 	nop
80014c6c:	03c0e825 	move	sp,s8
80014c70:	8fbf001c 	lw	ra,28(sp)
80014c74:	8fbe0018 	lw	s8,24(sp)
80014c78:	27bd0020 	addiu	sp,sp,32
80014c7c:	03e00008 	jr	ra
80014c80:	00000000 	nop

80014c84 <pgdir_walk>:
pgdir_walk():
/home/git/21371068/kern/pmap.c:174
 *
 * Hint:
 *   We use a two-level pointer to store page table entry and return a state
 * code to indicate whether this function succeeds or not.
 */
static int pgdir_walk(Pde *pgdir, u_long va, int create, Pte **ppte) {
80014c84:	27bdffc8 	addiu	sp,sp,-56
80014c88:	afbf0034 	sw	ra,52(sp)
80014c8c:	afbe0030 	sw	s8,48(sp)
80014c90:	afb0002c 	sw	s0,44(sp)
80014c94:	03a0f025 	move	s8,sp
80014c98:	afc40038 	sw	a0,56(s8)
80014c9c:	afc5003c 	sw	a1,60(s8)
80014ca0:	afc60040 	sw	a2,64(s8)
80014ca4:	afc70044 	sw	a3,68(s8)
/home/git/21371068/kern/pmap.c:180
  Pde *pgdir_entryp;
  struct Page *pp;

  /* Step 1: Get the corresponding page directory entry. */
  /* Exercise 2.6: Your code here. (1/3) */
  pgdir_entryp = pgdir + PDX(va);
80014ca8:	8fc2003c 	lw	v0,60(s8)
80014cac:	00000000 	nop
80014cb0:	00021582 	srl	v0,v0,0x16
80014cb4:	00021080 	sll	v0,v0,0x2
80014cb8:	8fc30038 	lw	v1,56(s8)
80014cbc:	00000000 	nop
80014cc0:	00621021 	addu	v0,v1,v0
80014cc4:	afc20018 	sw	v0,24(s8)
/home/git/21371068/kern/pmap.c:186
  /* Step 2: If the corresponding page table is not existent (valid) and
   * parameter `create` is set, create one. Set the permission bits 'PTE_D |
   * PTE_V' for this new page in the page directory. If failed to allocate a
   * new page (out of memory), return the error. */
  /* Exercise 2.6: Your code here. (2/3) */
  if ((*pgdir_entryp & PTE_V) == 0) { // not existent
80014cc8:	8fc20018 	lw	v0,24(s8)
80014ccc:	00000000 	nop
80014cd0:	8c420000 	lw	v0,0(v0)
80014cd4:	00000000 	nop
80014cd8:	30420200 	andi	v0,v0,0x200
80014cdc:	14400028 	bnez	v0,80014d80 <pgdir_walk+0xfc>
80014ce0:	00000000 	nop
/home/git/21371068/kern/pmap.c:187
    if (create) {
80014ce4:	8fc20040 	lw	v0,64(s8)
80014ce8:	00000000 	nop
80014cec:	1040001e 	beqz	v0,80014d68 <pgdir_walk+0xe4>
80014cf0:	00000000 	nop
/home/git/21371068/kern/pmap.c:188
      if (-E_NO_MEM == page_alloc(&pp)) {
80014cf4:	27c20024 	addiu	v0,s8,36
80014cf8:	00402025 	move	a0,v0
80014cfc:	0c0052b1 	jal	80014ac4 <page_alloc>
80014d00:	00000000 	nop
80014d04:	00401825 	move	v1,v0
80014d08:	2402fffc 	li	v0,-4
80014d0c:	14620004 	bne	v1,v0,80014d20 <pgdir_walk+0x9c>
80014d10:	00000000 	nop
/home/git/21371068/kern/pmap.c:189
        return -E_NO_MEM;
80014d14:	2402fffc 	li	v0,-4
80014d18:	10000048 	b	80014e3c <pgdir_walk+0x1b8>
80014d1c:	00000000 	nop
/home/git/21371068/kern/pmap.c:191
      }
      pp->pp_ref++;
80014d20:	8fc20024 	lw	v0,36(s8)
80014d24:	00000000 	nop
80014d28:	94430008 	lhu	v1,8(v0)
80014d2c:	00000000 	nop
80014d30:	24630001 	addiu	v1,v1,1
80014d34:	3063ffff 	andi	v1,v1,0xffff
80014d38:	a4430008 	sh	v1,8(v0)
/home/git/21371068/kern/pmap.c:192
      *pgdir_entryp = page2pa(pp) | PTE_V | PTE_D;
80014d3c:	8fc20024 	lw	v0,36(s8)
80014d40:	00000000 	nop
80014d44:	00402025 	move	a0,v0
80014d48:	0c0050b1 	jal	800142c4 <page2pa>
80014d4c:	00000000 	nop
80014d50:	34430600 	ori	v1,v0,0x600
80014d54:	8fc20018 	lw	v0,24(s8)
80014d58:	00000000 	nop
80014d5c:	ac430000 	sw	v1,0(v0)
80014d60:	10000007 	b	80014d80 <pgdir_walk+0xfc>
80014d64:	00000000 	nop
/home/git/21371068/kern/pmap.c:197
      // printk("nohere");
      //  return 0;
    } else {
      // printk("here?");
      *ppte = NULL;
80014d68:	8fc20044 	lw	v0,68(s8)
80014d6c:	00000000 	nop
80014d70:	ac400000 	sw	zero,0(v0)
/home/git/21371068/kern/pmap.c:198
      return 0;
80014d74:	00001025 	move	v0,zero
80014d78:	10000030 	b	80014e3c <pgdir_walk+0x1b8>
80014d7c:	00000000 	nop
/home/git/21371068/kern/pmap.c:207
   * '*ppte'. */
  /* Exercise 2.6: Your code here. (3/3) */
  // Pte *pte_location = (Pte *)(*pgdir_entryp >> 12 << 12) + PTX(va); //
  // physical
  Pte *pte_location = (Pte *)(KADDR(PTE_ADDR(*pgdir_entryp))) +
                      PTX(va); // get pte physical address
80014d80:	8fc2003c 	lw	v0,60(s8)
80014d84:	00000000 	nop
80014d88:	00021302 	srl	v0,v0,0xc
80014d8c:	304203ff 	andi	v0,v0,0x3ff
/home/git/21371068/kern/pmap.c:206
  Pte *pte_location = (Pte *)(KADDR(PTE_ADDR(*pgdir_entryp))) +
80014d90:	00028080 	sll	s0,v0,0x2
80014d94:	8fc20018 	lw	v0,24(s8)
80014d98:	00000000 	nop
80014d9c:	8c420000 	lw	v0,0(v0)
80014da0:	00000000 	nop
80014da4:	00021302 	srl	v0,v0,0xc
80014da8:	afc2001c 	sw	v0,28(s8)
80014dac:	3c02800d 	lui	v0,0x800d
80014db0:	8c42e020 	lw	v0,-8160(v0)
80014db4:	8fc3001c 	lw	v1,28(s8)
80014db8:	00000000 	nop
80014dbc:	0062102b 	sltu	v0,v1,v0
80014dc0:	14400010 	bnez	v0,80014e04 <pgdir_walk+0x180>
80014dc4:	00000000 	nop
/home/git/21371068/kern/pmap.c:206 (discriminator 1)
80014dc8:	8fc20018 	lw	v0,24(s8)
80014dcc:	00000000 	nop
80014dd0:	8c430000 	lw	v1,0(v0)
80014dd4:	2402f000 	li	v0,-4096
80014dd8:	00621024 	and	v0,v1,v0
80014ddc:	afa20010 	sw	v0,16(sp)
80014de0:	3c028002 	lui	v0,0x8002
80014de4:	24478e08 	addiu	a3,v0,-29176
80014de8:	3c028002 	lui	v0,0x8002
80014dec:	24469420 	addiu	a2,v0,-27616
80014df0:	240500ce 	li	a1,206
80014df4:	3c028002 	lui	v0,0x8002
80014df8:	24448e7c 	addiu	a0,v0,-29060
80014dfc:	0c004ff8 	jal	80013fe0 <_panic>
80014e00:	00000000 	nop
/home/git/21371068/kern/pmap.c:206 (discriminator 3)
80014e04:	8fc20018 	lw	v0,24(s8)
80014e08:	00000000 	nop
80014e0c:	8c430000 	lw	v1,0(v0)
80014e10:	2402f000 	li	v0,-4096
80014e14:	00621824 	and	v1,v1,v0
80014e18:	3c028000 	lui	v0,0x8000
80014e1c:	00621021 	addu	v0,v1,v0
80014e20:	00501021 	addu	v0,v0,s0
80014e24:	afc20020 	sw	v0,32(s8)
/home/git/21371068/kern/pmap.c:208 (discriminator 3)
  *ppte = (pte_location);
80014e28:	8fc20044 	lw	v0,68(s8)
80014e2c:	8fc30020 	lw	v1,32(s8)
80014e30:	00000000 	nop
80014e34:	ac430000 	sw	v1,0(v0)
/home/git/21371068/kern/pmap.c:209 (discriminator 3)
  return 0;
80014e38:	00001025 	move	v0,zero
/home/git/21371068/kern/pmap.c:210 (discriminator 1)
}
80014e3c:	03c0e825 	move	sp,s8
80014e40:	8fbf0034 	lw	ra,52(sp)
80014e44:	8fbe0030 	lw	s8,48(sp)
80014e48:	8fb0002c 	lw	s0,44(sp)
80014e4c:	27bd0038 	addiu	sp,sp,56
80014e50:	03e00008 	jr	ra
80014e54:	00000000 	nop

80014e58 <page_insert>:
page_insert():
/home/git/21371068/kern/pmap.c:225
 * Hint:
 *   If there is already a page mapped at `va`, call page_remove() to release
 * this mapping. The `pp_ref` should be incremented if the insertion succeeds.
 */
int page_insert(Pde *pgdir, u_int asid, struct Page *pp, u_long va,
                u_int perm) {
80014e58:	27bdffe0 	addiu	sp,sp,-32
80014e5c:	afbf001c 	sw	ra,28(sp)
80014e60:	afbe0018 	sw	s8,24(sp)
80014e64:	03a0f025 	move	s8,sp
80014e68:	afc40020 	sw	a0,32(s8)
80014e6c:	afc50024 	sw	a1,36(s8)
80014e70:	afc60028 	sw	a2,40(s8)
80014e74:	afc7002c 	sw	a3,44(s8)
/home/git/21371068/kern/pmap.c:229
  Pte *pte;

  /* Step 1: Get corresponding page table entry. */
  pgdir_walk(pgdir, va, 0, &pte);
80014e78:	27c20014 	addiu	v0,s8,20
80014e7c:	00403825 	move	a3,v0
80014e80:	00003025 	move	a2,zero
80014e84:	8fc5002c 	lw	a1,44(s8)
80014e88:	8fc40020 	lw	a0,32(s8)
80014e8c:	0c005321 	jal	80014c84 <pgdir_walk>
80014e90:	00000000 	nop
/home/git/21371068/kern/pmap.c:231

  if (pte && (*pte & PTE_V)) {
80014e94:	8fc20014 	lw	v0,20(s8)
80014e98:	00000000 	nop
80014e9c:	1040002c 	beqz	v0,80014f50 <page_insert+0xf8>
80014ea0:	00000000 	nop
/home/git/21371068/kern/pmap.c:231 (discriminator 1)
80014ea4:	8fc20014 	lw	v0,20(s8)
80014ea8:	00000000 	nop
80014eac:	8c420000 	lw	v0,0(v0)
80014eb0:	00000000 	nop
80014eb4:	30420200 	andi	v0,v0,0x200
80014eb8:	10400025 	beqz	v0,80014f50 <page_insert+0xf8>
80014ebc:	00000000 	nop
/home/git/21371068/kern/pmap.c:232
    if (pa2page(*pte) != pp) {
80014ec0:	8fc20014 	lw	v0,20(s8)
80014ec4:	00000000 	nop
80014ec8:	8c420000 	lw	v0,0(v0)
80014ecc:	00000000 	nop
80014ed0:	00402025 	move	a0,v0
80014ed4:	0c0050c0 	jal	80014300 <pa2page>
80014ed8:	00000000 	nop
80014edc:	00401825 	move	v1,v0
80014ee0:	8fc20028 	lw	v0,40(s8)
80014ee4:	00000000 	nop
80014ee8:	10430008 	beq	v0,v1,80014f0c <page_insert+0xb4>
80014eec:	00000000 	nop
/home/git/21371068/kern/pmap.c:233
      page_remove(pgdir, asid, va);
80014ef0:	8fc6002c 	lw	a2,44(s8)
80014ef4:	8fc50024 	lw	a1,36(s8)
80014ef8:	8fc40020 	lw	a0,32(s8)
80014efc:	0c005464 	jal	80015190 <page_remove>
80014f00:	00000000 	nop
80014f04:	10000012 	b	80014f50 <page_insert+0xf8>
80014f08:	00000000 	nop
/home/git/21371068/kern/pmap.c:235
    } else {
      tlb_invalidate(asid, va);
80014f0c:	8fc5002c 	lw	a1,44(s8)
80014f10:	8fc40024 	lw	a0,36(s8)
80014f14:	0c005489 	jal	80015224 <tlb_invalidate>
80014f18:	00000000 	nop
/home/git/21371068/kern/pmap.c:236
      *pte = page2pa(pp) | perm | PTE_V;
80014f1c:	8fc40028 	lw	a0,40(s8)
80014f20:	0c0050b1 	jal	800142c4 <page2pa>
80014f24:	00000000 	nop
80014f28:	00401825 	move	v1,v0
80014f2c:	8fc20030 	lw	v0,48(s8)
80014f30:	00000000 	nop
80014f34:	00621825 	or	v1,v1,v0
80014f38:	8fc20014 	lw	v0,20(s8)
80014f3c:	34630200 	ori	v1,v1,0x200
80014f40:	ac430000 	sw	v1,0(v0)
/home/git/21371068/kern/pmap.c:237
      return 0;
80014f44:	00001025 	move	v0,zero
80014f48:	10000028 	b	80014fec <page_insert+0x194>
80014f4c:	00000000 	nop
/home/git/21371068/kern/pmap.c:242
    }
  }
  /* Step 2: Flush TLB with 'tlb_invalidate'. */
  /* Exercise 2.7: Your code here. (1/3) */
  tlb_invalidate(asid, va);
80014f50:	8fc5002c 	lw	a1,44(s8)
80014f54:	8fc40024 	lw	a0,36(s8)
80014f58:	0c005489 	jal	80015224 <tlb_invalidate>
80014f5c:	00000000 	nop
/home/git/21371068/kern/pmap.c:246
  /* Step 3: Re-get or create the page table entry. */
  /* If failed to create, return the error. */
  /* Exercise 2.7: Your code here. (2/3) */
  int temp = pgdir_walk(pgdir, va, 1, &pte);
80014f60:	27c20014 	addiu	v0,s8,20
80014f64:	00403825 	move	a3,v0
80014f68:	24060001 	li	a2,1
80014f6c:	8fc5002c 	lw	a1,44(s8)
80014f70:	8fc40020 	lw	a0,32(s8)
80014f74:	0c005321 	jal	80014c84 <pgdir_walk>
80014f78:	00000000 	nop
80014f7c:	afc20010 	sw	v0,16(s8)
/home/git/21371068/kern/pmap.c:247
  if (-E_NO_MEM == temp) {
80014f80:	8fc30010 	lw	v1,16(s8)
80014f84:	2402fffc 	li	v0,-4
80014f88:	14620004 	bne	v1,v0,80014f9c <page_insert+0x144>
80014f8c:	00000000 	nop
/home/git/21371068/kern/pmap.c:248
    return -E_NO_MEM;
80014f90:	2402fffc 	li	v0,-4
80014f94:	10000015 	b	80014fec <page_insert+0x194>
80014f98:	00000000 	nop
/home/git/21371068/kern/pmap.c:254
  }
  /* Step 4: Insert the page to the page table entry with 'perm | PTE_V' and
   * increase its 'pp_ref'. */
  /* Exercise 2.7: Your code here. (3/3) */

  *pte = page2pa(pp) | perm | PTE_V;
80014f9c:	8fc40028 	lw	a0,40(s8)
80014fa0:	0c0050b1 	jal	800142c4 <page2pa>
80014fa4:	00000000 	nop
80014fa8:	00401825 	move	v1,v0
80014fac:	8fc20030 	lw	v0,48(s8)
80014fb0:	00000000 	nop
80014fb4:	00621825 	or	v1,v1,v0
80014fb8:	8fc20014 	lw	v0,20(s8)
80014fbc:	34630200 	ori	v1,v1,0x200
80014fc0:	ac430000 	sw	v1,0(v0)
/home/git/21371068/kern/pmap.c:257
  // printk("%d", page2pa(pp) | perm | PTE_V);
  // printk("wuwu");
  pp->pp_ref++;
80014fc4:	8fc20028 	lw	v0,40(s8)
80014fc8:	00000000 	nop
80014fcc:	94420008 	lhu	v0,8(v0)
80014fd0:	00000000 	nop
80014fd4:	24420001 	addiu	v0,v0,1
80014fd8:	3043ffff 	andi	v1,v0,0xffff
80014fdc:	8fc20028 	lw	v0,40(s8)
80014fe0:	00000000 	nop
80014fe4:	a4430008 	sh	v1,8(v0)
/home/git/21371068/kern/pmap.c:258
  return 0;
80014fe8:	00001025 	move	v0,zero
/home/git/21371068/kern/pmap.c:259 (discriminator 1)
}
80014fec:	03c0e825 	move	sp,s8
80014ff0:	8fbf001c 	lw	ra,28(sp)
80014ff4:	8fbe0018 	lw	s8,24(sp)
80014ff8:	27bd0020 	addiu	sp,sp,32
80014ffc:	03e00008 	jr	ra
80015000:	00000000 	nop

80015004 <page_lookup>:
page_lookup():
/home/git/21371068/kern/pmap.c:266
/*Overview:
    Look up the Page that virtual address `va` map to.
  Post-Condition:
    Return a pointer to corresponding Page, and store it's page table entry to
  *ppte. If `va` doesn't mapped to any Page, return NULL.*/
struct Page *page_lookup(Pde *pgdir, u_long va, Pte **ppte) {
80015004:	27bdffe0 	addiu	sp,sp,-32
80015008:	afbf001c 	sw	ra,28(sp)
8001500c:	afbe0018 	sw	s8,24(sp)
80015010:	03a0f025 	move	s8,sp
80015014:	afc40020 	sw	a0,32(s8)
80015018:	afc50024 	sw	a1,36(s8)
8001501c:	afc60028 	sw	a2,40(s8)
/home/git/21371068/kern/pmap.c:271
  struct Page *pp;
  Pte *pte;

  /* Step 1: Get the page table entry. */
  pgdir_walk(pgdir, va, 0, &pte);
80015020:	27c20014 	addiu	v0,s8,20
80015024:	00403825 	move	a3,v0
80015028:	00003025 	move	a2,zero
8001502c:	8fc50024 	lw	a1,36(s8)
80015030:	8fc40020 	lw	a0,32(s8)
80015034:	0c005321 	jal	80014c84 <pgdir_walk>
80015038:	00000000 	nop
/home/git/21371068/kern/pmap.c:274

  /* Hint: Check if the page table entry doesn't exist or is not valid. */
  if (pte == NULL || (*pte & PTE_V) == 0) {
8001503c:	8fc20014 	lw	v0,20(s8)
80015040:	00000000 	nop
80015044:	10400008 	beqz	v0,80015068 <page_lookup+0x64>
80015048:	00000000 	nop
/home/git/21371068/kern/pmap.c:274 (discriminator 1)
8001504c:	8fc20014 	lw	v0,20(s8)
80015050:	00000000 	nop
80015054:	8c420000 	lw	v0,0(v0)
80015058:	00000000 	nop
8001505c:	30420200 	andi	v0,v0,0x200
80015060:	14400004 	bnez	v0,80015074 <page_lookup+0x70>
80015064:	00000000 	nop
/home/git/21371068/kern/pmap.c:275
    return NULL;
80015068:	00001025 	move	v0,zero
8001506c:	10000012 	b	800150b8 <page_lookup+0xb4>
80015070:	00000000 	nop
/home/git/21371068/kern/pmap.c:280
  }

  /* Step 2: Get the corresponding Page struct. */
  /* Hint: Use function `pa2page`, defined in include/pmap.h . */
  pp = pa2page(*pte);
80015074:	8fc20014 	lw	v0,20(s8)
80015078:	00000000 	nop
8001507c:	8c420000 	lw	v0,0(v0)
80015080:	00000000 	nop
80015084:	00402025 	move	a0,v0
80015088:	0c0050c0 	jal	80014300 <pa2page>
8001508c:	00000000 	nop
80015090:	afc20010 	sw	v0,16(s8)
/home/git/21371068/kern/pmap.c:281
  if (ppte) {
80015094:	8fc20028 	lw	v0,40(s8)
80015098:	00000000 	nop
8001509c:	10400005 	beqz	v0,800150b4 <page_lookup+0xb0>
800150a0:	00000000 	nop
/home/git/21371068/kern/pmap.c:282
    *ppte = pte;
800150a4:	8fc30014 	lw	v1,20(s8)
800150a8:	8fc20028 	lw	v0,40(s8)
800150ac:	00000000 	nop
800150b0:	ac430000 	sw	v1,0(v0)
/home/git/21371068/kern/pmap.c:285
  }

  return pp;
800150b4:	8fc20010 	lw	v0,16(s8)
/home/git/21371068/kern/pmap.c:286 (discriminator 1)
}
800150b8:	03c0e825 	move	sp,s8
800150bc:	8fbf001c 	lw	ra,28(sp)
800150c0:	8fbe0018 	lw	s8,24(sp)
800150c4:	27bd0020 	addiu	sp,sp,32
800150c8:	03e00008 	jr	ra
800150cc:	00000000 	nop

800150d0 <page_decref>:
page_decref():
/home/git/21371068/kern/pmap.c:293
/* Overview:
 *   Decrease the 'pp_ref' value of Page 'pp'.
 *   When there's no references (mapped virtual address) to this page, release
 * it.
 */
void page_decref(struct Page *pp) {
800150d0:	27bdffe0 	addiu	sp,sp,-32
800150d4:	afbf001c 	sw	ra,28(sp)
800150d8:	afbe0018 	sw	s8,24(sp)
800150dc:	03a0f025 	move	s8,sp
800150e0:	afc40020 	sw	a0,32(s8)
/home/git/21371068/kern/pmap.c:294
  assert(pp->pp_ref > 0);
800150e4:	8fc20020 	lw	v0,32(s8)
800150e8:	00000000 	nop
800150ec:	94420008 	lhu	v0,8(v0)
800150f0:	00000000 	nop
800150f4:	1440000d 	bnez	v0,8001512c <page_decref+0x5c>
800150f8:	00000000 	nop
/home/git/21371068/kern/pmap.c:294 (discriminator 1)
800150fc:	3c028002 	lui	v0,0x8002
80015100:	24428f14 	addiu	v0,v0,-28908
80015104:	afa20010 	sw	v0,16(sp)
80015108:	3c028002 	lui	v0,0x8002
8001510c:	24478eec 	addiu	a3,v0,-28948
80015110:	3c028002 	lui	v0,0x8002
80015114:	24469434 	addiu	a2,v0,-27596
80015118:	24050126 	li	a1,294
8001511c:	3c028002 	lui	v0,0x8002
80015120:	24448e7c 	addiu	a0,v0,-29060
80015124:	0c004ff8 	jal	80013fe0 <_panic>
80015128:	00000000 	nop
/home/git/21371068/kern/pmap.c:297

  /* If 'pp_ref' reaches to 0, free this page. */
  if (--pp->pp_ref == 0) {
8001512c:	8fc20020 	lw	v0,32(s8)
80015130:	00000000 	nop
80015134:	94420008 	lhu	v0,8(v0)
80015138:	00000000 	nop
8001513c:	2442ffff 	addiu	v0,v0,-1
80015140:	3043ffff 	andi	v1,v0,0xffff
80015144:	8fc20020 	lw	v0,32(s8)
80015148:	00000000 	nop
8001514c:	a4430008 	sh	v1,8(v0)
80015150:	8fc20020 	lw	v0,32(s8)
80015154:	00000000 	nop
80015158:	94420008 	lhu	v0,8(v0)
8001515c:	00000000 	nop
80015160:	14400004 	bnez	v0,80015174 <page_decref+0xa4>
80015164:	00000000 	nop
/home/git/21371068/kern/pmap.c:298
    page_free(pp);
80015168:	8fc40020 	lw	a0,32(s8)
8001516c:	0c0052eb 	jal	80014bac <page_free>
80015170:	00000000 	nop
/home/git/21371068/kern/pmap.c:300
  }
}
80015174:	00000000 	nop
80015178:	03c0e825 	move	sp,s8
8001517c:	8fbf001c 	lw	ra,28(sp)
80015180:	8fbe0018 	lw	s8,24(sp)
80015184:	27bd0020 	addiu	sp,sp,32
80015188:	03e00008 	jr	ra
8001518c:	00000000 	nop

80015190 <page_remove>:
page_remove():
/home/git/21371068/kern/pmap.c:304

// Overview:
//   Unmap the physical page at virtual address 'va'.
void page_remove(Pde *pgdir, u_int asid, u_long va) {
80015190:	27bdffe0 	addiu	sp,sp,-32
80015194:	afbf001c 	sw	ra,28(sp)
80015198:	afbe0018 	sw	s8,24(sp)
8001519c:	03a0f025 	move	s8,sp
800151a0:	afc40020 	sw	a0,32(s8)
800151a4:	afc50024 	sw	a1,36(s8)
800151a8:	afc60028 	sw	a2,40(s8)
/home/git/21371068/kern/pmap.c:309
  Pte *pte;

  /* Step 1: Get the page table entry, and check if the page table entry is
   * valid. */
  struct Page *pp = page_lookup(pgdir, va, &pte);
800151ac:	27c20014 	addiu	v0,s8,20
800151b0:	00403025 	move	a2,v0
800151b4:	8fc50028 	lw	a1,40(s8)
800151b8:	8fc40020 	lw	a0,32(s8)
800151bc:	0c005401 	jal	80015004 <page_lookup>
800151c0:	00000000 	nop
800151c4:	afc20010 	sw	v0,16(s8)
/home/git/21371068/kern/pmap.c:310
  if (pp == NULL) {
800151c8:	8fc20010 	lw	v0,16(s8)
800151cc:	00000000 	nop
800151d0:	1040000d 	beqz	v0,80015208 <page_remove+0x78>
800151d4:	00000000 	nop
/home/git/21371068/kern/pmap.c:315
    return;
  }

  /* Step 2: Decrease reference count on 'pp'. */
  page_decref(pp);
800151d8:	8fc40010 	lw	a0,16(s8)
800151dc:	0c005434 	jal	800150d0 <page_decref>
800151e0:	00000000 	nop
/home/git/21371068/kern/pmap.c:318

  /* Step 3: Flush TLB. */
  *pte = 0;
800151e4:	8fc20014 	lw	v0,20(s8)
800151e8:	00000000 	nop
800151ec:	ac400000 	sw	zero,0(v0)
/home/git/21371068/kern/pmap.c:319
  tlb_invalidate(asid, va);
800151f0:	8fc50028 	lw	a1,40(s8)
800151f4:	8fc40024 	lw	a0,36(s8)
800151f8:	0c005489 	jal	80015224 <tlb_invalidate>
800151fc:	00000000 	nop
/home/git/21371068/kern/pmap.c:320
  return;
80015200:	10000002 	b	8001520c <page_remove+0x7c>
80015204:	00000000 	nop
/home/git/21371068/kern/pmap.c:311
    return;
80015208:	00000000 	nop
/home/git/21371068/kern/pmap.c:321
}
8001520c:	03c0e825 	move	sp,s8
80015210:	8fbf001c 	lw	ra,28(sp)
80015214:	8fbe0018 	lw	s8,24(sp)
80015218:	27bd0020 	addiu	sp,sp,32
8001521c:	03e00008 	jr	ra
80015220:	00000000 	nop

80015224 <tlb_invalidate>:
tlb_invalidate():
/home/git/21371068/kern/pmap.c:330
 *
 * Hint:
 *   Construct a new Entry HI and call 'tlb_out' to flush TLB.
 *   'tlb_out' is defined in mm/tlb_asm.S
 */
void tlb_invalidate(u_int asid, u_long va) {
80015224:	27bdffe8 	addiu	sp,sp,-24
80015228:	afbf0014 	sw	ra,20(sp)
8001522c:	afbe0010 	sw	s8,16(sp)
80015230:	03a0f025 	move	s8,sp
80015234:	afc40018 	sw	a0,24(s8)
80015238:	afc5001c 	sw	a1,28(s8)
/home/git/21371068/kern/pmap.c:331
  tlb_out(PTE_ADDR(va) | (asid << 6));
8001523c:	8fc3001c 	lw	v1,28(s8)
80015240:	2402f000 	li	v0,-4096
80015244:	00621824 	and	v1,v1,v0
80015248:	8fc20018 	lw	v0,24(s8)
8001524c:	00000000 	nop
80015250:	00021180 	sll	v0,v0,0x6
80015254:	00621025 	or	v0,v1,v0
80015258:	00402025 	move	a0,v0
8001525c:	0c006040 	jal	80018100 <tlb_out>
80015260:	00000000 	nop
/home/git/21371068/kern/pmap.c:332
}
80015264:	00000000 	nop
80015268:	03c0e825 	move	sp,s8
8001526c:	8fbf0014 	lw	ra,20(sp)
80015270:	8fbe0010 	lw	s8,16(sp)
80015274:	27bd0018 	addiu	sp,sp,24
80015278:	03e00008 	jr	ra
8001527c:	00000000 	nop

80015280 <physical_memory_manage_check>:
physical_memory_manage_check():
/home/git/21371068/kern/pmap.c:334

void physical_memory_manage_check(void) {
80015280:	27bdff58 	addiu	sp,sp,-168
80015284:	afbf00a4 	sw	ra,164(sp)
80015288:	afbe00a0 	sw	s8,160(sp)
8001528c:	03a0f025 	move	s8,sp
/home/git/21371068/kern/pmap.c:339
  struct Page *pp, *pp0, *pp1, *pp2;
  struct Page_list fl;
  int *temp;
  // should be able to allocate three pages
  pp0 = pp1 = pp2 = 0;
80015290:	afc0003c 	sw	zero,60(s8)
80015294:	8fc2003c 	lw	v0,60(s8)
80015298:	00000000 	nop
8001529c:	afc20038 	sw	v0,56(s8)
800152a0:	8fc20038 	lw	v0,56(s8)
800152a4:	00000000 	nop
800152a8:	afc20034 	sw	v0,52(s8)
/home/git/21371068/kern/pmap.c:340
  assert(page_alloc(&pp0) == 0);
800152ac:	27c20034 	addiu	v0,s8,52
800152b0:	00402025 	move	a0,v0
800152b4:	0c0052b1 	jal	80014ac4 <page_alloc>
800152b8:	00000000 	nop
800152bc:	1040000d 	beqz	v0,800152f4 <physical_memory_manage_check+0x74>
800152c0:	00000000 	nop
/home/git/21371068/kern/pmap.c:340 (discriminator 1)
800152c4:	3c028002 	lui	v0,0x8002
800152c8:	24428f24 	addiu	v0,v0,-28892
800152cc:	afa20010 	sw	v0,16(sp)
800152d0:	3c028002 	lui	v0,0x8002
800152d4:	24478eec 	addiu	a3,v0,-28948
800152d8:	3c028002 	lui	v0,0x8002
800152dc:	24469440 	addiu	a2,v0,-27584
800152e0:	24050154 	li	a1,340
800152e4:	3c028002 	lui	v0,0x8002
800152e8:	24448e7c 	addiu	a0,v0,-29060
800152ec:	0c004ff8 	jal	80013fe0 <_panic>
800152f0:	00000000 	nop
/home/git/21371068/kern/pmap.c:341
  assert(page_alloc(&pp1) == 0);
800152f4:	27c20038 	addiu	v0,s8,56
800152f8:	00402025 	move	a0,v0
800152fc:	0c0052b1 	jal	80014ac4 <page_alloc>
80015300:	00000000 	nop
80015304:	1040000d 	beqz	v0,8001533c <physical_memory_manage_check+0xbc>
80015308:	00000000 	nop
/home/git/21371068/kern/pmap.c:341 (discriminator 1)
8001530c:	3c028002 	lui	v0,0x8002
80015310:	24428f3c 	addiu	v0,v0,-28868
80015314:	afa20010 	sw	v0,16(sp)
80015318:	3c028002 	lui	v0,0x8002
8001531c:	24478eec 	addiu	a3,v0,-28948
80015320:	3c028002 	lui	v0,0x8002
80015324:	24469440 	addiu	a2,v0,-27584
80015328:	24050155 	li	a1,341
8001532c:	3c028002 	lui	v0,0x8002
80015330:	24448e7c 	addiu	a0,v0,-29060
80015334:	0c004ff8 	jal	80013fe0 <_panic>
80015338:	00000000 	nop
/home/git/21371068/kern/pmap.c:342
  assert(page_alloc(&pp2) == 0);
8001533c:	27c2003c 	addiu	v0,s8,60
80015340:	00402025 	move	a0,v0
80015344:	0c0052b1 	jal	80014ac4 <page_alloc>
80015348:	00000000 	nop
8001534c:	1040000d 	beqz	v0,80015384 <physical_memory_manage_check+0x104>
80015350:	00000000 	nop
/home/git/21371068/kern/pmap.c:342 (discriminator 1)
80015354:	3c028002 	lui	v0,0x8002
80015358:	24428f54 	addiu	v0,v0,-28844
8001535c:	afa20010 	sw	v0,16(sp)
80015360:	3c028002 	lui	v0,0x8002
80015364:	24478eec 	addiu	a3,v0,-28948
80015368:	3c028002 	lui	v0,0x8002
8001536c:	24469440 	addiu	a2,v0,-27584
80015370:	24050156 	li	a1,342
80015374:	3c028002 	lui	v0,0x8002
80015378:	24448e7c 	addiu	a0,v0,-29060
8001537c:	0c004ff8 	jal	80013fe0 <_panic>
80015380:	00000000 	nop
/home/git/21371068/kern/pmap.c:344

  assert(pp0);
80015384:	8fc20034 	lw	v0,52(s8)
80015388:	00000000 	nop
8001538c:	1440000d 	bnez	v0,800153c4 <physical_memory_manage_check+0x144>
80015390:	00000000 	nop
/home/git/21371068/kern/pmap.c:344 (discriminator 1)
80015394:	3c028002 	lui	v0,0x8002
80015398:	24428f6c 	addiu	v0,v0,-28820
8001539c:	afa20010 	sw	v0,16(sp)
800153a0:	3c028002 	lui	v0,0x8002
800153a4:	24478eec 	addiu	a3,v0,-28948
800153a8:	3c028002 	lui	v0,0x8002
800153ac:	24469440 	addiu	a2,v0,-27584
800153b0:	24050158 	li	a1,344
800153b4:	3c028002 	lui	v0,0x8002
800153b8:	24448e7c 	addiu	a0,v0,-29060
800153bc:	0c004ff8 	jal	80013fe0 <_panic>
800153c0:	00000000 	nop
/home/git/21371068/kern/pmap.c:345
  assert(pp1 && pp1 != pp0);
800153c4:	8fc20038 	lw	v0,56(s8)
800153c8:	00000000 	nop
800153cc:	10400006 	beqz	v0,800153e8 <physical_memory_manage_check+0x168>
800153d0:	00000000 	nop
/home/git/21371068/kern/pmap.c:345 (discriminator 2)
800153d4:	8fc30038 	lw	v1,56(s8)
800153d8:	8fc20034 	lw	v0,52(s8)
800153dc:	00000000 	nop
800153e0:	1462000d 	bne	v1,v0,80015418 <physical_memory_manage_check+0x198>
800153e4:	00000000 	nop
/home/git/21371068/kern/pmap.c:345 (discriminator 3)
800153e8:	3c028002 	lui	v0,0x8002
800153ec:	24428f70 	addiu	v0,v0,-28816
800153f0:	afa20010 	sw	v0,16(sp)
800153f4:	3c028002 	lui	v0,0x8002
800153f8:	24478eec 	addiu	a3,v0,-28948
800153fc:	3c028002 	lui	v0,0x8002
80015400:	24469440 	addiu	a2,v0,-27584
80015404:	24050159 	li	a1,345
80015408:	3c028002 	lui	v0,0x8002
8001540c:	24448e7c 	addiu	a0,v0,-29060
80015410:	0c004ff8 	jal	80013fe0 <_panic>
80015414:	00000000 	nop
/home/git/21371068/kern/pmap.c:346
  assert(pp2 && pp2 != pp1 && pp2 != pp0);
80015418:	8fc2003c 	lw	v0,60(s8)
8001541c:	00000000 	nop
80015420:	1040000b 	beqz	v0,80015450 <physical_memory_manage_check+0x1d0>
80015424:	00000000 	nop
/home/git/21371068/kern/pmap.c:346 (discriminator 2)
80015428:	8fc3003c 	lw	v1,60(s8)
8001542c:	8fc20038 	lw	v0,56(s8)
80015430:	00000000 	nop
80015434:	10620006 	beq	v1,v0,80015450 <physical_memory_manage_check+0x1d0>
80015438:	00000000 	nop
/home/git/21371068/kern/pmap.c:346 (discriminator 4)
8001543c:	8fc3003c 	lw	v1,60(s8)
80015440:	8fc20034 	lw	v0,52(s8)
80015444:	00000000 	nop
80015448:	1462000d 	bne	v1,v0,80015480 <physical_memory_manage_check+0x200>
8001544c:	00000000 	nop
/home/git/21371068/kern/pmap.c:346 (discriminator 5)
80015450:	3c028002 	lui	v0,0x8002
80015454:	24428f84 	addiu	v0,v0,-28796
80015458:	afa20010 	sw	v0,16(sp)
8001545c:	3c028002 	lui	v0,0x8002
80015460:	24478eec 	addiu	a3,v0,-28948
80015464:	3c028002 	lui	v0,0x8002
80015468:	24469440 	addiu	a2,v0,-27584
8001546c:	2405015a 	li	a1,346
80015470:	3c028002 	lui	v0,0x8002
80015474:	24448e7c 	addiu	a0,v0,-29060
80015478:	0c004ff8 	jal	80013fe0 <_panic>
8001547c:	00000000 	nop
/home/git/21371068/kern/pmap.c:349

  // temporarily steal the rest of the free pages
  fl = page_free_list;
80015480:	3c02800d 	lui	v0,0x800d
80015484:	8c42e02c 	lw	v0,-8148(v0)
80015488:	00000000 	nop
8001548c:	afc20040 	sw	v0,64(s8)
/home/git/21371068/kern/pmap.c:351
  // now this page_free list must be empty!!!!
  LIST_INIT(&page_free_list);
80015490:	3c02800d 	lui	v0,0x800d
80015494:	ac40e02c 	sw	zero,-8148(v0)
/home/git/21371068/kern/pmap.c:353
  // should be no free memory
  assert(page_alloc(&pp) == -E_NO_MEM);
80015498:	27c20030 	addiu	v0,s8,48
8001549c:	00402025 	move	a0,v0
800154a0:	0c0052b1 	jal	80014ac4 <page_alloc>
800154a4:	00000000 	nop
800154a8:	00401825 	move	v1,v0
800154ac:	2402fffc 	li	v0,-4
800154b0:	1062000d 	beq	v1,v0,800154e8 <physical_memory_manage_check+0x268>
800154b4:	00000000 	nop
/home/git/21371068/kern/pmap.c:353 (discriminator 1)
800154b8:	3c028002 	lui	v0,0x8002
800154bc:	24428fa4 	addiu	v0,v0,-28764
800154c0:	afa20010 	sw	v0,16(sp)
800154c4:	3c028002 	lui	v0,0x8002
800154c8:	24478eec 	addiu	a3,v0,-28948
800154cc:	3c028002 	lui	v0,0x8002
800154d0:	24469440 	addiu	a2,v0,-27584
800154d4:	24050161 	li	a1,353
800154d8:	3c028002 	lui	v0,0x8002
800154dc:	24448e7c 	addiu	a0,v0,-29060
800154e0:	0c004ff8 	jal	80013fe0 <_panic>
800154e4:	00000000 	nop
/home/git/21371068/kern/pmap.c:355

  temp = (int *)page2kva(pp0);
800154e8:	8fc20034 	lw	v0,52(s8)
800154ec:	00000000 	nop
800154f0:	00402025 	move	a0,v0
800154f4:	0c0050ea 	jal	800143a8 <page2kva>
800154f8:	00000000 	nop
800154fc:	afc20024 	sw	v0,36(s8)
/home/git/21371068/kern/pmap.c:357
  // write 1000 to pp0
  *temp = 1000;
80015500:	8fc20024 	lw	v0,36(s8)
80015504:	240303e8 	li	v1,1000
80015508:	ac430000 	sw	v1,0(v0)
/home/git/21371068/kern/pmap.c:359
  // free pp0
  page_free(pp0);
8001550c:	8fc20034 	lw	v0,52(s8)
80015510:	00000000 	nop
80015514:	00402025 	move	a0,v0
80015518:	0c0052eb 	jal	80014bac <page_free>
8001551c:	00000000 	nop
/home/git/21371068/kern/pmap.c:360
  printk("The number in address temp is %d\n", *temp);
80015520:	8fc20024 	lw	v0,36(s8)
80015524:	00000000 	nop
80015528:	8c420000 	lw	v0,0(v0)
8001552c:	00000000 	nop
80015530:	00402825 	move	a1,v0
80015534:	3c028002 	lui	v0,0x8002
80015538:	24448fc4 	addiu	a0,v0,-28732
8001553c:	0c005a6d 	jal	800169b4 <printk>
80015540:	00000000 	nop
/home/git/21371068/kern/pmap.c:363

  // alloc again
  assert(page_alloc(&pp0) == 0);
80015544:	27c20034 	addiu	v0,s8,52
80015548:	00402025 	move	a0,v0
8001554c:	0c0052b1 	jal	80014ac4 <page_alloc>
80015550:	00000000 	nop
80015554:	1040000d 	beqz	v0,8001558c <physical_memory_manage_check+0x30c>
80015558:	00000000 	nop
/home/git/21371068/kern/pmap.c:363 (discriminator 1)
8001555c:	3c028002 	lui	v0,0x8002
80015560:	24428f24 	addiu	v0,v0,-28892
80015564:	afa20010 	sw	v0,16(sp)
80015568:	3c028002 	lui	v0,0x8002
8001556c:	24478eec 	addiu	a3,v0,-28948
80015570:	3c028002 	lui	v0,0x8002
80015574:	24469440 	addiu	a2,v0,-27584
80015578:	2405016b 	li	a1,363
8001557c:	3c028002 	lui	v0,0x8002
80015580:	24448e7c 	addiu	a0,v0,-29060
80015584:	0c004ff8 	jal	80013fe0 <_panic>
80015588:	00000000 	nop
/home/git/21371068/kern/pmap.c:364
  assert(pp0);
8001558c:	8fc20034 	lw	v0,52(s8)
80015590:	00000000 	nop
80015594:	1440000d 	bnez	v0,800155cc <physical_memory_manage_check+0x34c>
80015598:	00000000 	nop
/home/git/21371068/kern/pmap.c:364 (discriminator 1)
8001559c:	3c028002 	lui	v0,0x8002
800155a0:	24428f6c 	addiu	v0,v0,-28820
800155a4:	afa20010 	sw	v0,16(sp)
800155a8:	3c028002 	lui	v0,0x8002
800155ac:	24478eec 	addiu	a3,v0,-28948
800155b0:	3c028002 	lui	v0,0x8002
800155b4:	24469440 	addiu	a2,v0,-27584
800155b8:	2405016c 	li	a1,364
800155bc:	3c028002 	lui	v0,0x8002
800155c0:	24448e7c 	addiu	a0,v0,-29060
800155c4:	0c004ff8 	jal	80013fe0 <_panic>
800155c8:	00000000 	nop
/home/git/21371068/kern/pmap.c:367

  // pp0 should not change
  assert(temp == (int *)page2kva(pp0));
800155cc:	8fc20034 	lw	v0,52(s8)
800155d0:	00000000 	nop
800155d4:	00402025 	move	a0,v0
800155d8:	0c0050ea 	jal	800143a8 <page2kva>
800155dc:	00000000 	nop
800155e0:	00401825 	move	v1,v0
800155e4:	8fc20024 	lw	v0,36(s8)
800155e8:	00000000 	nop
800155ec:	1043000d 	beq	v0,v1,80015624 <physical_memory_manage_check+0x3a4>
800155f0:	00000000 	nop
/home/git/21371068/kern/pmap.c:367 (discriminator 1)
800155f4:	3c028002 	lui	v0,0x8002
800155f8:	24428fe8 	addiu	v0,v0,-28696
800155fc:	afa20010 	sw	v0,16(sp)
80015600:	3c028002 	lui	v0,0x8002
80015604:	24478eec 	addiu	a3,v0,-28948
80015608:	3c028002 	lui	v0,0x8002
8001560c:	24469440 	addiu	a2,v0,-27584
80015610:	2405016f 	li	a1,367
80015614:	3c028002 	lui	v0,0x8002
80015618:	24448e7c 	addiu	a0,v0,-29060
8001561c:	0c004ff8 	jal	80013fe0 <_panic>
80015620:	00000000 	nop
/home/git/21371068/kern/pmap.c:369
  // pp0 should be zero
  assert(*temp == 0);
80015624:	8fc20024 	lw	v0,36(s8)
80015628:	00000000 	nop
8001562c:	8c420000 	lw	v0,0(v0)
80015630:	00000000 	nop
80015634:	1040000d 	beqz	v0,8001566c <physical_memory_manage_check+0x3ec>
80015638:	00000000 	nop
/home/git/21371068/kern/pmap.c:369 (discriminator 1)
8001563c:	3c028002 	lui	v0,0x8002
80015640:	24429008 	addiu	v0,v0,-28664
80015644:	afa20010 	sw	v0,16(sp)
80015648:	3c028002 	lui	v0,0x8002
8001564c:	24478eec 	addiu	a3,v0,-28948
80015650:	3c028002 	lui	v0,0x8002
80015654:	24469440 	addiu	a2,v0,-27584
80015658:	24050171 	li	a1,369
8001565c:	3c028002 	lui	v0,0x8002
80015660:	24448e7c 	addiu	a0,v0,-29060
80015664:	0c004ff8 	jal	80013fe0 <_panic>
80015668:	00000000 	nop
/home/git/21371068/kern/pmap.c:371

  page_free_list = fl;
8001566c:	3c02800d 	lui	v0,0x800d
80015670:	8fc30040 	lw	v1,64(s8)
80015674:	00000000 	nop
80015678:	ac43e02c 	sw	v1,-8148(v0)
/home/git/21371068/kern/pmap.c:372
  page_free(pp0);
8001567c:	8fc20034 	lw	v0,52(s8)
80015680:	00000000 	nop
80015684:	00402025 	move	a0,v0
80015688:	0c0052eb 	jal	80014bac <page_free>
8001568c:	00000000 	nop
/home/git/21371068/kern/pmap.c:373
  page_free(pp1);
80015690:	8fc20038 	lw	v0,56(s8)
80015694:	00000000 	nop
80015698:	00402025 	move	a0,v0
8001569c:	0c0052eb 	jal	80014bac <page_free>
800156a0:	00000000 	nop
/home/git/21371068/kern/pmap.c:374
  page_free(pp2);
800156a4:	8fc2003c 	lw	v0,60(s8)
800156a8:	00000000 	nop
800156ac:	00402025 	move	a0,v0
800156b0:	0c0052eb 	jal	80014bac <page_free>
800156b4:	00000000 	nop
/home/git/21371068/kern/pmap.c:377
  struct Page_list test_free;
  struct Page *test_pages;
  test_pages = (struct Page *)alloc(10 * sizeof(struct Page), BY2PG, 1);
800156b8:	24060001 	li	a2,1
800156bc:	24051000 	li	a1,4096
800156c0:	24040078 	li	a0,120
800156c4:	0c005194 	jal	80014650 <alloc>
800156c8:	00000000 	nop
800156cc:	afc20028 	sw	v0,40(s8)
/home/git/21371068/kern/pmap.c:378
  LIST_INIT(&test_free);
800156d0:	afc00044 	sw	zero,68(s8)
/home/git/21371068/kern/pmap.c:380
  // LIST_FIRST(&test_free) = &test_pages[0];
  int i, j = 0;
800156d4:	afc0001c 	sw	zero,28(s8)
/home/git/21371068/kern/pmap.c:382
  struct Page *p, *q;
  for (i = 9; i >= 0; i--) {
800156d8:	24020009 	li	v0,9
800156dc:	afc20018 	sw	v0,24(s8)
800156e0:	10000048 	b	80015804 <physical_memory_manage_check+0x584>
800156e4:	00000000 	nop
/home/git/21371068/kern/pmap.c:383
    test_pages[i].pp_ref = i;
800156e8:	8fc30018 	lw	v1,24(s8)
800156ec:	00000000 	nop
800156f0:	00601025 	move	v0,v1
800156f4:	00021040 	sll	v0,v0,0x1
800156f8:	00431021 	addu	v0,v0,v1
800156fc:	00021080 	sll	v0,v0,0x2
80015700:	00401825 	move	v1,v0
80015704:	8fc20028 	lw	v0,40(s8)
80015708:	00000000 	nop
8001570c:	00431021 	addu	v0,v0,v1
80015710:	8fc30018 	lw	v1,24(s8)
80015714:	00000000 	nop
80015718:	3063ffff 	andi	v1,v1,0xffff
8001571c:	a4430008 	sh	v1,8(v0)
/home/git/21371068/kern/pmap.c:386
    // test_pages[i].pp_link=NULL;
    // printk("0x%x  0x%x\n",&test_pages[i], test_pages[i].pp_link.le_next);
    LIST_INSERT_HEAD(&test_free, &test_pages[i], pp_link);
80015720:	8fc30018 	lw	v1,24(s8)
80015724:	00000000 	nop
80015728:	00601025 	move	v0,v1
8001572c:	00021040 	sll	v0,v0,0x1
80015730:	00431021 	addu	v0,v0,v1
80015734:	00021080 	sll	v0,v0,0x2
80015738:	00401825 	move	v1,v0
8001573c:	8fc20028 	lw	v0,40(s8)
80015740:	00000000 	nop
80015744:	00431021 	addu	v0,v0,v1
80015748:	8fc30044 	lw	v1,68(s8)
8001574c:	00000000 	nop
80015750:	ac430000 	sw	v1,0(v0)
80015754:	8c420000 	lw	v0,0(v0)
80015758:	00000000 	nop
8001575c:	1040000e 	beqz	v0,80015798 <physical_memory_manage_check+0x518>
80015760:	00000000 	nop
/home/git/21371068/kern/pmap.c:386 (discriminator 1)
80015764:	8fc30018 	lw	v1,24(s8)
80015768:	00000000 	nop
8001576c:	00601025 	move	v0,v1
80015770:	00021040 	sll	v0,v0,0x1
80015774:	00431021 	addu	v0,v0,v1
80015778:	00021080 	sll	v0,v0,0x2
8001577c:	00401825 	move	v1,v0
80015780:	8fc20028 	lw	v0,40(s8)
80015784:	00000000 	nop
80015788:	00431821 	addu	v1,v0,v1
8001578c:	8fc20044 	lw	v0,68(s8)
80015790:	00000000 	nop
80015794:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/pmap.c:386 (discriminator 3)
80015798:	8fc30018 	lw	v1,24(s8)
8001579c:	00000000 	nop
800157a0:	00601025 	move	v0,v1
800157a4:	00021040 	sll	v0,v0,0x1
800157a8:	00431021 	addu	v0,v0,v1
800157ac:	00021080 	sll	v0,v0,0x2
800157b0:	00401825 	move	v1,v0
800157b4:	8fc20028 	lw	v0,40(s8)
800157b8:	00000000 	nop
800157bc:	00431021 	addu	v0,v0,v1
800157c0:	afc20044 	sw	v0,68(s8)
800157c4:	8fc30018 	lw	v1,24(s8)
800157c8:	00000000 	nop
800157cc:	00601025 	move	v0,v1
800157d0:	00021040 	sll	v0,v0,0x1
800157d4:	00431021 	addu	v0,v0,v1
800157d8:	00021080 	sll	v0,v0,0x2
800157dc:	00401825 	move	v1,v0
800157e0:	8fc20028 	lw	v0,40(s8)
800157e4:	00000000 	nop
800157e8:	00431021 	addu	v0,v0,v1
800157ec:	27c30044 	addiu	v1,s8,68
800157f0:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/pmap.c:382 (discriminator 3)
  for (i = 9; i >= 0; i--) {
800157f4:	8fc20018 	lw	v0,24(s8)
800157f8:	00000000 	nop
800157fc:	2442ffff 	addiu	v0,v0,-1
80015800:	afc20018 	sw	v0,24(s8)
/home/git/21371068/kern/pmap.c:382 (discriminator 2)
80015804:	8fc20018 	lw	v0,24(s8)
80015808:	00000000 	nop
8001580c:	0441ffb6 	bgez	v0,800156e8 <physical_memory_manage_check+0x468>
80015810:	00000000 	nop
/home/git/21371068/kern/pmap.c:389
    // printk("0x%x  0x%x\n",&test_pages[i], test_pages[i].pp_link.le_next);
  }
  p = LIST_FIRST(&test_free);
80015814:	8fc20044 	lw	v0,68(s8)
80015818:	00000000 	nop
8001581c:	afc20020 	sw	v0,32(s8)
/home/git/21371068/kern/pmap.c:390
  int answer1[] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};
80015820:	3c028002 	lui	v0,0x8002
80015824:	27c40048 	addiu	a0,s8,72
80015828:	24429084 	addiu	v0,v0,-28540
8001582c:	24030028 	li	v1,40
80015830:	00603025 	move	a2,v1
80015834:	00402825 	move	a1,v0
80015838:	0c0044d8 	jal	80011360 <memcpy>
8001583c:	00000000 	nop
/home/git/21371068/kern/pmap.c:391
  assert(p != NULL);
80015840:	8fc20020 	lw	v0,32(s8)
80015844:	00000000 	nop
80015848:	14400030 	bnez	v0,8001590c <physical_memory_manage_check+0x68c>
8001584c:	00000000 	nop
/home/git/21371068/kern/pmap.c:391 (discriminator 1)
80015850:	3c028002 	lui	v0,0x8002
80015854:	24429014 	addiu	v0,v0,-28652
80015858:	afa20010 	sw	v0,16(sp)
8001585c:	3c028002 	lui	v0,0x8002
80015860:	24478eec 	addiu	a3,v0,-28948
80015864:	3c028002 	lui	v0,0x8002
80015868:	24469440 	addiu	a2,v0,-27584
8001586c:	24050187 	li	a1,391
80015870:	3c028002 	lui	v0,0x8002
80015874:	24448e7c 	addiu	a0,v0,-29060
80015878:	0c004ff8 	jal	80013fe0 <_panic>
8001587c:	00000000 	nop
/home/git/21371068/kern/pmap.c:392 (discriminator 1)
  while (p != NULL) {
80015880:	10000022 	b	8001590c <physical_memory_manage_check+0x68c>
80015884:	00000000 	nop
/home/git/21371068/kern/pmap.c:394
    // printk("%d %d\n",p->pp_ref,answer1[j]);
    assert(p->pp_ref == answer1[j++]);
80015888:	8fc20020 	lw	v0,32(s8)
8001588c:	00000000 	nop
80015890:	94420008 	lhu	v0,8(v0)
80015894:	00000000 	nop
80015898:	00402025 	move	a0,v0
8001589c:	8fc2001c 	lw	v0,28(s8)
800158a0:	00000000 	nop
800158a4:	24430001 	addiu	v1,v0,1
800158a8:	afc3001c 	sw	v1,28(s8)
800158ac:	00021080 	sll	v0,v0,0x2
800158b0:	27c30018 	addiu	v1,s8,24
800158b4:	00621021 	addu	v0,v1,v0
800158b8:	8c420030 	lw	v0,48(v0)
800158bc:	00000000 	nop
800158c0:	1082000d 	beq	a0,v0,800158f8 <physical_memory_manage_check+0x678>
800158c4:	00000000 	nop
/home/git/21371068/kern/pmap.c:394 (discriminator 1)
800158c8:	3c028002 	lui	v0,0x8002
800158cc:	24429020 	addiu	v0,v0,-28640
800158d0:	afa20010 	sw	v0,16(sp)
800158d4:	3c028002 	lui	v0,0x8002
800158d8:	24478eec 	addiu	a3,v0,-28948
800158dc:	3c028002 	lui	v0,0x8002
800158e0:	24469440 	addiu	a2,v0,-27584
800158e4:	2405018a 	li	a1,394
800158e8:	3c028002 	lui	v0,0x8002
800158ec:	24448e7c 	addiu	a0,v0,-29060
800158f0:	0c004ff8 	jal	80013fe0 <_panic>
800158f4:	00000000 	nop
/home/git/21371068/kern/pmap.c:397
    // printk("ptr: 0x%x v:
    // %d\n",(p->pp_link).le_next,((p->pp_link).le_next)->pp_ref);
    p = LIST_NEXT(p, pp_link);
800158f8:	8fc20020 	lw	v0,32(s8)
800158fc:	00000000 	nop
80015900:	8c420000 	lw	v0,0(v0)
80015904:	00000000 	nop
80015908:	afc20020 	sw	v0,32(s8)
/home/git/21371068/kern/pmap.c:392
  while (p != NULL) {
8001590c:	8fc20020 	lw	v0,32(s8)
80015910:	00000000 	nop
80015914:	1440ffdc 	bnez	v0,80015888 <physical_memory_manage_check+0x608>
80015918:	00000000 	nop
/home/git/21371068/kern/pmap.c:400
  }
  // insert_after test
  int answer2[] = {0, 1, 2, 3, 4, 20, 5, 6, 7, 8, 9};
8001591c:	3c028002 	lui	v0,0x8002
80015920:	27c40070 	addiu	a0,s8,112
80015924:	244290ac 	addiu	v0,v0,-28500
80015928:	2403002c 	li	v1,44
8001592c:	00603025 	move	a2,v1
80015930:	00402825 	move	a1,v0
80015934:	0c0044d8 	jal	80011360 <memcpy>
80015938:	00000000 	nop
/home/git/21371068/kern/pmap.c:401
  q = (struct Page *)alloc(sizeof(struct Page), BY2PG, 1);
8001593c:	24060001 	li	a2,1
80015940:	24051000 	li	a1,4096
80015944:	2404000c 	li	a0,12
80015948:	0c005194 	jal	80014650 <alloc>
8001594c:	00000000 	nop
80015950:	afc2002c 	sw	v0,44(s8)
/home/git/21371068/kern/pmap.c:402
  q->pp_ref = 20;
80015954:	8fc2002c 	lw	v0,44(s8)
80015958:	24030014 	li	v1,20
8001595c:	a4430008 	sh	v1,8(v0)
/home/git/21371068/kern/pmap.c:405

  // printk("---%d\n",test_pages[4].pp_ref);
  LIST_INSERT_AFTER(&test_pages[4], q, pp_link);
80015960:	8fc20028 	lw	v0,40(s8)
80015964:	00000000 	nop
80015968:	24420030 	addiu	v0,v0,48
8001596c:	8c430000 	lw	v1,0(v0)
80015970:	8fc2002c 	lw	v0,44(s8)
80015974:	00000000 	nop
80015978:	ac430000 	sw	v1,0(v0)
8001597c:	8fc2002c 	lw	v0,44(s8)
80015980:	00000000 	nop
80015984:	8c420000 	lw	v0,0(v0)
80015988:	00000000 	nop
8001598c:	10400008 	beqz	v0,800159b0 <physical_memory_manage_check+0x730>
80015990:	00000000 	nop
/home/git/21371068/kern/pmap.c:405 (discriminator 1)
80015994:	8fc20028 	lw	v0,40(s8)
80015998:	00000000 	nop
8001599c:	24420030 	addiu	v0,v0,48
800159a0:	8c420000 	lw	v0,0(v0)
800159a4:	8fc3002c 	lw	v1,44(s8)
800159a8:	00000000 	nop
800159ac:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/pmap.c:405 (discriminator 3)
800159b0:	8fc20028 	lw	v0,40(s8)
800159b4:	00000000 	nop
800159b8:	24420030 	addiu	v0,v0,48
800159bc:	8fc3002c 	lw	v1,44(s8)
800159c0:	00000000 	nop
800159c4:	ac430000 	sw	v1,0(v0)
800159c8:	8fc20028 	lw	v0,40(s8)
800159cc:	00000000 	nop
800159d0:	24420030 	addiu	v0,v0,48
800159d4:	00401825 	move	v1,v0
800159d8:	8fc2002c 	lw	v0,44(s8)
800159dc:	00000000 	nop
800159e0:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/pmap.c:407 (discriminator 3)
  // printk("---%d\n",LIST_NEXT(&test_pages[4],pp_link)->pp_ref);
  p = LIST_FIRST(&test_free);
800159e4:	8fc20044 	lw	v0,68(s8)
800159e8:	00000000 	nop
800159ec:	afc20020 	sw	v0,32(s8)
/home/git/21371068/kern/pmap.c:408 (discriminator 3)
  j = 0;
800159f0:	afc0001c 	sw	zero,28(s8)
/home/git/21371068/kern/pmap.c:410 (discriminator 3)
  // printk("into test\n");
  while (p != NULL) {
800159f4:	10000022 	b	80015a80 <physical_memory_manage_check+0x800>
800159f8:	00000000 	nop
/home/git/21371068/kern/pmap.c:412
    //      printk("%d %d\n",p->pp_ref,answer2[j]);
    assert(p->pp_ref == answer2[j++]);
800159fc:	8fc20020 	lw	v0,32(s8)
80015a00:	00000000 	nop
80015a04:	94420008 	lhu	v0,8(v0)
80015a08:	00000000 	nop
80015a0c:	00402025 	move	a0,v0
80015a10:	8fc2001c 	lw	v0,28(s8)
80015a14:	00000000 	nop
80015a18:	24430001 	addiu	v1,v0,1
80015a1c:	afc3001c 	sw	v1,28(s8)
80015a20:	00021080 	sll	v0,v0,0x2
80015a24:	27c30018 	addiu	v1,s8,24
80015a28:	00621021 	addu	v0,v1,v0
80015a2c:	8c420058 	lw	v0,88(v0)
80015a30:	00000000 	nop
80015a34:	1082000d 	beq	a0,v0,80015a6c <physical_memory_manage_check+0x7ec>
80015a38:	00000000 	nop
/home/git/21371068/kern/pmap.c:412 (discriminator 1)
80015a3c:	3c028002 	lui	v0,0x8002
80015a40:	2442903c 	addiu	v0,v0,-28612
80015a44:	afa20010 	sw	v0,16(sp)
80015a48:	3c028002 	lui	v0,0x8002
80015a4c:	24478eec 	addiu	a3,v0,-28948
80015a50:	3c028002 	lui	v0,0x8002
80015a54:	24469440 	addiu	a2,v0,-27584
80015a58:	2405019c 	li	a1,412
80015a5c:	3c028002 	lui	v0,0x8002
80015a60:	24448e7c 	addiu	a0,v0,-29060
80015a64:	0c004ff8 	jal	80013fe0 <_panic>
80015a68:	00000000 	nop
/home/git/21371068/kern/pmap.c:413
    p = LIST_NEXT(p, pp_link);
80015a6c:	8fc20020 	lw	v0,32(s8)
80015a70:	00000000 	nop
80015a74:	8c420000 	lw	v0,0(v0)
80015a78:	00000000 	nop
80015a7c:	afc20020 	sw	v0,32(s8)
/home/git/21371068/kern/pmap.c:410
  while (p != NULL) {
80015a80:	8fc20020 	lw	v0,32(s8)
80015a84:	00000000 	nop
80015a88:	1440ffdc 	bnez	v0,800159fc <physical_memory_manage_check+0x77c>
80015a8c:	00000000 	nop
/home/git/21371068/kern/pmap.c:416
  }

  printk("physical_memory_manage_check() succeeded\n");
80015a90:	3c028002 	lui	v0,0x8002
80015a94:	24449058 	addiu	a0,v0,-28584
80015a98:	0c005a6d 	jal	800169b4 <printk>
80015a9c:	00000000 	nop
/home/git/21371068/kern/pmap.c:417
}
80015aa0:	00000000 	nop
80015aa4:	03c0e825 	move	sp,s8
80015aa8:	8fbf00a4 	lw	ra,164(sp)
80015aac:	8fbe00a0 	lw	s8,160(sp)
80015ab0:	27bd00a8 	addiu	sp,sp,168
80015ab4:	03e00008 	jr	ra
80015ab8:	00000000 	nop

80015abc <page_check>:
page_check():
/home/git/21371068/kern/pmap.c:419

void page_check(void) {
80015abc:	27bdffc0 	addiu	sp,sp,-64
80015ac0:	afbf003c 	sw	ra,60(sp)
80015ac4:	afbe0038 	sw	s8,56(sp)
80015ac8:	afb00034 	sw	s0,52(sp)
80015acc:	03a0f025 	move	s8,sp
/home/git/21371068/kern/pmap.c:420
  Pde *boot_pgdir = alloc(BY2PG, BY2PG, 1);
80015ad0:	24060001 	li	a2,1
80015ad4:	24051000 	li	a1,4096
80015ad8:	24041000 	li	a0,4096
80015adc:	0c005194 	jal	80014650 <alloc>
80015ae0:	00000000 	nop
80015ae4:	afc20018 	sw	v0,24(s8)
/home/git/21371068/kern/pmap.c:425
  struct Page *pp, *pp0, *pp1, *pp2;
  struct Page_list fl;

  // should be able to allocate three pages
  pp0 = pp1 = pp2 = 0;
80015ae8:	afc00028 	sw	zero,40(s8)
80015aec:	8fc20028 	lw	v0,40(s8)
80015af0:	00000000 	nop
80015af4:	afc20024 	sw	v0,36(s8)
80015af8:	8fc20024 	lw	v0,36(s8)
80015afc:	00000000 	nop
80015b00:	afc20020 	sw	v0,32(s8)
/home/git/21371068/kern/pmap.c:426
  assert(page_alloc(&pp0) == 0);
80015b04:	27c20020 	addiu	v0,s8,32
80015b08:	00402025 	move	a0,v0
80015b0c:	0c0052b1 	jal	80014ac4 <page_alloc>
80015b10:	00000000 	nop
80015b14:	1040000d 	beqz	v0,80015b4c <page_check+0x90>
80015b18:	00000000 	nop
/home/git/21371068/kern/pmap.c:426 (discriminator 1)
80015b1c:	3c028002 	lui	v0,0x8002
80015b20:	24428f24 	addiu	v0,v0,-28892
80015b24:	afa20010 	sw	v0,16(sp)
80015b28:	3c028002 	lui	v0,0x8002
80015b2c:	24478eec 	addiu	a3,v0,-28948
80015b30:	3c028002 	lui	v0,0x8002
80015b34:	24469460 	addiu	a2,v0,-27552
80015b38:	240501aa 	li	a1,426
80015b3c:	3c028002 	lui	v0,0x8002
80015b40:	24448e7c 	addiu	a0,v0,-29060
80015b44:	0c004ff8 	jal	80013fe0 <_panic>
80015b48:	00000000 	nop
/home/git/21371068/kern/pmap.c:427
  assert(page_alloc(&pp1) == 0);
80015b4c:	27c20024 	addiu	v0,s8,36
80015b50:	00402025 	move	a0,v0
80015b54:	0c0052b1 	jal	80014ac4 <page_alloc>
80015b58:	00000000 	nop
80015b5c:	1040000d 	beqz	v0,80015b94 <page_check+0xd8>
80015b60:	00000000 	nop
/home/git/21371068/kern/pmap.c:427 (discriminator 1)
80015b64:	3c028002 	lui	v0,0x8002
80015b68:	24428f3c 	addiu	v0,v0,-28868
80015b6c:	afa20010 	sw	v0,16(sp)
80015b70:	3c028002 	lui	v0,0x8002
80015b74:	24478eec 	addiu	a3,v0,-28948
80015b78:	3c028002 	lui	v0,0x8002
80015b7c:	24469460 	addiu	a2,v0,-27552
80015b80:	240501ab 	li	a1,427
80015b84:	3c028002 	lui	v0,0x8002
80015b88:	24448e7c 	addiu	a0,v0,-29060
80015b8c:	0c004ff8 	jal	80013fe0 <_panic>
80015b90:	00000000 	nop
/home/git/21371068/kern/pmap.c:428
  assert(page_alloc(&pp2) == 0);
80015b94:	27c20028 	addiu	v0,s8,40
80015b98:	00402025 	move	a0,v0
80015b9c:	0c0052b1 	jal	80014ac4 <page_alloc>
80015ba0:	00000000 	nop
80015ba4:	1040000d 	beqz	v0,80015bdc <page_check+0x120>
80015ba8:	00000000 	nop
/home/git/21371068/kern/pmap.c:428 (discriminator 1)
80015bac:	3c028002 	lui	v0,0x8002
80015bb0:	24428f54 	addiu	v0,v0,-28844
80015bb4:	afa20010 	sw	v0,16(sp)
80015bb8:	3c028002 	lui	v0,0x8002
80015bbc:	24478eec 	addiu	a3,v0,-28948
80015bc0:	3c028002 	lui	v0,0x8002
80015bc4:	24469460 	addiu	a2,v0,-27552
80015bc8:	240501ac 	li	a1,428
80015bcc:	3c028002 	lui	v0,0x8002
80015bd0:	24448e7c 	addiu	a0,v0,-29060
80015bd4:	0c004ff8 	jal	80013fe0 <_panic>
80015bd8:	00000000 	nop
/home/git/21371068/kern/pmap.c:430

  assert(pp0);
80015bdc:	8fc20020 	lw	v0,32(s8)
80015be0:	00000000 	nop
80015be4:	1440000d 	bnez	v0,80015c1c <page_check+0x160>
80015be8:	00000000 	nop
/home/git/21371068/kern/pmap.c:430 (discriminator 1)
80015bec:	3c028002 	lui	v0,0x8002
80015bf0:	24428f6c 	addiu	v0,v0,-28820
80015bf4:	afa20010 	sw	v0,16(sp)
80015bf8:	3c028002 	lui	v0,0x8002
80015bfc:	24478eec 	addiu	a3,v0,-28948
80015c00:	3c028002 	lui	v0,0x8002
80015c04:	24469460 	addiu	a2,v0,-27552
80015c08:	240501ae 	li	a1,430
80015c0c:	3c028002 	lui	v0,0x8002
80015c10:	24448e7c 	addiu	a0,v0,-29060
80015c14:	0c004ff8 	jal	80013fe0 <_panic>
80015c18:	00000000 	nop
/home/git/21371068/kern/pmap.c:431
  assert(pp1 && pp1 != pp0);
80015c1c:	8fc20024 	lw	v0,36(s8)
80015c20:	00000000 	nop
80015c24:	10400006 	beqz	v0,80015c40 <page_check+0x184>
80015c28:	00000000 	nop
/home/git/21371068/kern/pmap.c:431 (discriminator 2)
80015c2c:	8fc30024 	lw	v1,36(s8)
80015c30:	8fc20020 	lw	v0,32(s8)
80015c34:	00000000 	nop
80015c38:	1462000d 	bne	v1,v0,80015c70 <page_check+0x1b4>
80015c3c:	00000000 	nop
/home/git/21371068/kern/pmap.c:431 (discriminator 3)
80015c40:	3c028002 	lui	v0,0x8002
80015c44:	24428f70 	addiu	v0,v0,-28816
80015c48:	afa20010 	sw	v0,16(sp)
80015c4c:	3c028002 	lui	v0,0x8002
80015c50:	24478eec 	addiu	a3,v0,-28948
80015c54:	3c028002 	lui	v0,0x8002
80015c58:	24469460 	addiu	a2,v0,-27552
80015c5c:	240501af 	li	a1,431
80015c60:	3c028002 	lui	v0,0x8002
80015c64:	24448e7c 	addiu	a0,v0,-29060
80015c68:	0c004ff8 	jal	80013fe0 <_panic>
80015c6c:	00000000 	nop
/home/git/21371068/kern/pmap.c:432
  assert(pp2 && pp2 != pp1 && pp2 != pp0);
80015c70:	8fc20028 	lw	v0,40(s8)
80015c74:	00000000 	nop
80015c78:	1040000b 	beqz	v0,80015ca8 <page_check+0x1ec>
80015c7c:	00000000 	nop
/home/git/21371068/kern/pmap.c:432 (discriminator 2)
80015c80:	8fc30028 	lw	v1,40(s8)
80015c84:	8fc20024 	lw	v0,36(s8)
80015c88:	00000000 	nop
80015c8c:	10620006 	beq	v1,v0,80015ca8 <page_check+0x1ec>
80015c90:	00000000 	nop
/home/git/21371068/kern/pmap.c:432 (discriminator 4)
80015c94:	8fc30028 	lw	v1,40(s8)
80015c98:	8fc20020 	lw	v0,32(s8)
80015c9c:	00000000 	nop
80015ca0:	1462000d 	bne	v1,v0,80015cd8 <page_check+0x21c>
80015ca4:	00000000 	nop
/home/git/21371068/kern/pmap.c:432 (discriminator 5)
80015ca8:	3c028002 	lui	v0,0x8002
80015cac:	24428f84 	addiu	v0,v0,-28796
80015cb0:	afa20010 	sw	v0,16(sp)
80015cb4:	3c028002 	lui	v0,0x8002
80015cb8:	24478eec 	addiu	a3,v0,-28948
80015cbc:	3c028002 	lui	v0,0x8002
80015cc0:	24469460 	addiu	a2,v0,-27552
80015cc4:	240501b0 	li	a1,432
80015cc8:	3c028002 	lui	v0,0x8002
80015ccc:	24448e7c 	addiu	a0,v0,-29060
80015cd0:	0c004ff8 	jal	80013fe0 <_panic>
80015cd4:	00000000 	nop
/home/git/21371068/kern/pmap.c:435

  // temporarily steal the rest of the free pages
  fl = page_free_list;
80015cd8:	3c02800d 	lui	v0,0x800d
80015cdc:	8c42e02c 	lw	v0,-8148(v0)
80015ce0:	00000000 	nop
80015ce4:	afc2002c 	sw	v0,44(s8)
/home/git/21371068/kern/pmap.c:437
  // now this page_free list must be empty!!!!
  LIST_INIT(&page_free_list);
80015ce8:	3c02800d 	lui	v0,0x800d
80015cec:	ac40e02c 	sw	zero,-8148(v0)
/home/git/21371068/kern/pmap.c:440

  // should be no free memory
  assert(page_alloc(&pp) == -E_NO_MEM);
80015cf0:	27c2001c 	addiu	v0,s8,28
80015cf4:	00402025 	move	a0,v0
80015cf8:	0c0052b1 	jal	80014ac4 <page_alloc>
80015cfc:	00000000 	nop
80015d00:	00401825 	move	v1,v0
80015d04:	2402fffc 	li	v0,-4
80015d08:	1062000d 	beq	v1,v0,80015d40 <page_check+0x284>
80015d0c:	00000000 	nop
/home/git/21371068/kern/pmap.c:440 (discriminator 1)
80015d10:	3c028002 	lui	v0,0x8002
80015d14:	24428fa4 	addiu	v0,v0,-28764
80015d18:	afa20010 	sw	v0,16(sp)
80015d1c:	3c028002 	lui	v0,0x8002
80015d20:	24478eec 	addiu	a3,v0,-28948
80015d24:	3c028002 	lui	v0,0x8002
80015d28:	24469460 	addiu	a2,v0,-27552
80015d2c:	240501b8 	li	a1,440
80015d30:	3c028002 	lui	v0,0x8002
80015d34:	24448e7c 	addiu	a0,v0,-29060
80015d38:	0c004ff8 	jal	80013fe0 <_panic>
80015d3c:	00000000 	nop
/home/git/21371068/kern/pmap.c:443

  // there is no free memory, so we can't allocate a page table
  assert(page_insert(boot_pgdir, 0, pp1, 0x0, 0) < 0);
80015d40:	8fc20024 	lw	v0,36(s8)
80015d44:	afa00010 	sw	zero,16(sp)
80015d48:	00003825 	move	a3,zero
80015d4c:	00403025 	move	a2,v0
80015d50:	00002825 	move	a1,zero
80015d54:	8fc40018 	lw	a0,24(s8)
80015d58:	0c005396 	jal	80014e58 <page_insert>
80015d5c:	00000000 	nop
80015d60:	0440000d 	bltz	v0,80015d98 <page_check+0x2dc>
80015d64:	00000000 	nop
/home/git/21371068/kern/pmap.c:443 (discriminator 1)
80015d68:	3c028002 	lui	v0,0x8002
80015d6c:	244290d8 	addiu	v0,v0,-28456
80015d70:	afa20010 	sw	v0,16(sp)
80015d74:	3c028002 	lui	v0,0x8002
80015d78:	24478eec 	addiu	a3,v0,-28948
80015d7c:	3c028002 	lui	v0,0x8002
80015d80:	24469460 	addiu	a2,v0,-27552
80015d84:	240501bb 	li	a1,443
80015d88:	3c028002 	lui	v0,0x8002
80015d8c:	24448e7c 	addiu	a0,v0,-29060
80015d90:	0c004ff8 	jal	80013fe0 <_panic>
80015d94:	00000000 	nop
/home/git/21371068/kern/pmap.c:446

  // free pp0 and try again: pp0 should be used for page table
  page_free(pp0);
80015d98:	8fc20020 	lw	v0,32(s8)
80015d9c:	00000000 	nop
80015da0:	00402025 	move	a0,v0
80015da4:	0c0052eb 	jal	80014bac <page_free>
80015da8:	00000000 	nop
/home/git/21371068/kern/pmap.c:447
  assert(page_insert(boot_pgdir, 0, pp1, 0x0, 0) == 0);
80015dac:	8fc20024 	lw	v0,36(s8)
80015db0:	afa00010 	sw	zero,16(sp)
80015db4:	00003825 	move	a3,zero
80015db8:	00403025 	move	a2,v0
80015dbc:	00002825 	move	a1,zero
80015dc0:	8fc40018 	lw	a0,24(s8)
80015dc4:	0c005396 	jal	80014e58 <page_insert>
80015dc8:	00000000 	nop
80015dcc:	1040000d 	beqz	v0,80015e04 <page_check+0x348>
80015dd0:	00000000 	nop
/home/git/21371068/kern/pmap.c:447 (discriminator 1)
80015dd4:	3c028002 	lui	v0,0x8002
80015dd8:	24429104 	addiu	v0,v0,-28412
80015ddc:	afa20010 	sw	v0,16(sp)
80015de0:	3c028002 	lui	v0,0x8002
80015de4:	24478eec 	addiu	a3,v0,-28948
80015de8:	3c028002 	lui	v0,0x8002
80015dec:	24469460 	addiu	a2,v0,-27552
80015df0:	240501bf 	li	a1,447
80015df4:	3c028002 	lui	v0,0x8002
80015df8:	24448e7c 	addiu	a0,v0,-29060
80015dfc:	0c004ff8 	jal	80013fe0 <_panic>
80015e00:	00000000 	nop
/home/git/21371068/kern/pmap.c:448
  assert(PTE_ADDR(boot_pgdir[0]) == page2pa(pp0));
80015e04:	8fc20018 	lw	v0,24(s8)
80015e08:	00000000 	nop
80015e0c:	8c430000 	lw	v1,0(v0)
80015e10:	2402f000 	li	v0,-4096
80015e14:	00628024 	and	s0,v1,v0
80015e18:	8fc20020 	lw	v0,32(s8)
80015e1c:	00000000 	nop
80015e20:	00402025 	move	a0,v0
80015e24:	0c0050b1 	jal	800142c4 <page2pa>
80015e28:	00000000 	nop
80015e2c:	1202000d 	beq	s0,v0,80015e64 <page_check+0x3a8>
80015e30:	00000000 	nop
/home/git/21371068/kern/pmap.c:448 (discriminator 1)
80015e34:	3c028002 	lui	v0,0x8002
80015e38:	24429134 	addiu	v0,v0,-28364
80015e3c:	afa20010 	sw	v0,16(sp)
80015e40:	3c028002 	lui	v0,0x8002
80015e44:	24478eec 	addiu	a3,v0,-28948
80015e48:	3c028002 	lui	v0,0x8002
80015e4c:	24469460 	addiu	a2,v0,-27552
80015e50:	240501c0 	li	a1,448
80015e54:	3c028002 	lui	v0,0x8002
80015e58:	24448e7c 	addiu	a0,v0,-29060
80015e5c:	0c004ff8 	jal	80013fe0 <_panic>
80015e60:	00000000 	nop
/home/git/21371068/kern/pmap.c:450

  printk("va2pa(boot_pgdir, 0x0) is %x\n", va2pa(boot_pgdir, 0x0));
80015e64:	00002825 	move	a1,zero
80015e68:	8fc40018 	lw	a0,24(s8)
80015e6c:	0c005114 	jal	80014450 <va2pa>
80015e70:	00000000 	nop
80015e74:	00402825 	move	a1,v0
80015e78:	3c028002 	lui	v0,0x8002
80015e7c:	2444915c 	addiu	a0,v0,-28324
80015e80:	0c005a6d 	jal	800169b4 <printk>
80015e84:	00000000 	nop
/home/git/21371068/kern/pmap.c:451
  printk("page2pa(pp1) is %x\n", page2pa(pp1));
80015e88:	8fc20024 	lw	v0,36(s8)
80015e8c:	00000000 	nop
80015e90:	00402025 	move	a0,v0
80015e94:	0c0050b1 	jal	800142c4 <page2pa>
80015e98:	00000000 	nop
80015e9c:	00402825 	move	a1,v0
80015ea0:	3c028002 	lui	v0,0x8002
80015ea4:	2444917c 	addiu	a0,v0,-28292
80015ea8:	0c005a6d 	jal	800169b4 <printk>
80015eac:	00000000 	nop
/home/git/21371068/kern/pmap.c:453
  //	printk("pp1->pp_ref is %d\n",pp1->pp_ref);
  assert(va2pa(boot_pgdir, 0x0) == page2pa(pp1));
80015eb0:	00002825 	move	a1,zero
80015eb4:	8fc40018 	lw	a0,24(s8)
80015eb8:	0c005114 	jal	80014450 <va2pa>
80015ebc:	00000000 	nop
80015ec0:	00408025 	move	s0,v0
80015ec4:	8fc20024 	lw	v0,36(s8)
80015ec8:	00000000 	nop
80015ecc:	00402025 	move	a0,v0
80015ed0:	0c0050b1 	jal	800142c4 <page2pa>
80015ed4:	00000000 	nop
80015ed8:	1202000d 	beq	s0,v0,80015f10 <page_check+0x454>
80015edc:	00000000 	nop
/home/git/21371068/kern/pmap.c:453 (discriminator 1)
80015ee0:	3c028002 	lui	v0,0x8002
80015ee4:	24429190 	addiu	v0,v0,-28272
80015ee8:	afa20010 	sw	v0,16(sp)
80015eec:	3c028002 	lui	v0,0x8002
80015ef0:	24478eec 	addiu	a3,v0,-28948
80015ef4:	3c028002 	lui	v0,0x8002
80015ef8:	24469460 	addiu	a2,v0,-27552
80015efc:	240501c5 	li	a1,453
80015f00:	3c028002 	lui	v0,0x8002
80015f04:	24448e7c 	addiu	a0,v0,-29060
80015f08:	0c004ff8 	jal	80013fe0 <_panic>
80015f0c:	00000000 	nop
/home/git/21371068/kern/pmap.c:454
  assert(pp1->pp_ref == 1);
80015f10:	8fc20024 	lw	v0,36(s8)
80015f14:	00000000 	nop
80015f18:	94430008 	lhu	v1,8(v0)
80015f1c:	24020001 	li	v0,1
80015f20:	1062000d 	beq	v1,v0,80015f58 <page_check+0x49c>
80015f24:	00000000 	nop
/home/git/21371068/kern/pmap.c:454 (discriminator 1)
80015f28:	3c028002 	lui	v0,0x8002
80015f2c:	244291b8 	addiu	v0,v0,-28232
80015f30:	afa20010 	sw	v0,16(sp)
80015f34:	3c028002 	lui	v0,0x8002
80015f38:	24478eec 	addiu	a3,v0,-28948
80015f3c:	3c028002 	lui	v0,0x8002
80015f40:	24469460 	addiu	a2,v0,-27552
80015f44:	240501c6 	li	a1,454
80015f48:	3c028002 	lui	v0,0x8002
80015f4c:	24448e7c 	addiu	a0,v0,-29060
80015f50:	0c004ff8 	jal	80013fe0 <_panic>
80015f54:	00000000 	nop
/home/git/21371068/kern/pmap.c:458

  // should be able to map pp2 at BY2PG because pp0 is already allocated for
  // page table
  assert(page_insert(boot_pgdir, 0, pp2, BY2PG, 0) == 0);
80015f58:	8fc20028 	lw	v0,40(s8)
80015f5c:	afa00010 	sw	zero,16(sp)
80015f60:	24071000 	li	a3,4096
80015f64:	00403025 	move	a2,v0
80015f68:	00002825 	move	a1,zero
80015f6c:	8fc40018 	lw	a0,24(s8)
80015f70:	0c005396 	jal	80014e58 <page_insert>
80015f74:	00000000 	nop
80015f78:	1040000d 	beqz	v0,80015fb0 <page_check+0x4f4>
80015f7c:	00000000 	nop
/home/git/21371068/kern/pmap.c:458 (discriminator 1)
80015f80:	3c028002 	lui	v0,0x8002
80015f84:	244291cc 	addiu	v0,v0,-28212
80015f88:	afa20010 	sw	v0,16(sp)
80015f8c:	3c028002 	lui	v0,0x8002
80015f90:	24478eec 	addiu	a3,v0,-28948
80015f94:	3c028002 	lui	v0,0x8002
80015f98:	24469460 	addiu	a2,v0,-27552
80015f9c:	240501ca 	li	a1,458
80015fa0:	3c028002 	lui	v0,0x8002
80015fa4:	24448e7c 	addiu	a0,v0,-29060
80015fa8:	0c004ff8 	jal	80013fe0 <_panic>
80015fac:	00000000 	nop
/home/git/21371068/kern/pmap.c:459
  assert(va2pa(boot_pgdir, BY2PG) == page2pa(pp2));
80015fb0:	24051000 	li	a1,4096
80015fb4:	8fc40018 	lw	a0,24(s8)
80015fb8:	0c005114 	jal	80014450 <va2pa>
80015fbc:	00000000 	nop
80015fc0:	00408025 	move	s0,v0
80015fc4:	8fc20028 	lw	v0,40(s8)
80015fc8:	00000000 	nop
80015fcc:	00402025 	move	a0,v0
80015fd0:	0c0050b1 	jal	800142c4 <page2pa>
80015fd4:	00000000 	nop
80015fd8:	1202000d 	beq	s0,v0,80016010 <page_check+0x554>
80015fdc:	00000000 	nop
/home/git/21371068/kern/pmap.c:459 (discriminator 1)
80015fe0:	3c028002 	lui	v0,0x8002
80015fe4:	244291fc 	addiu	v0,v0,-28164
80015fe8:	afa20010 	sw	v0,16(sp)
80015fec:	3c028002 	lui	v0,0x8002
80015ff0:	24478eec 	addiu	a3,v0,-28948
80015ff4:	3c028002 	lui	v0,0x8002
80015ff8:	24469460 	addiu	a2,v0,-27552
80015ffc:	240501cb 	li	a1,459
80016000:	3c028002 	lui	v0,0x8002
80016004:	24448e7c 	addiu	a0,v0,-29060
80016008:	0c004ff8 	jal	80013fe0 <_panic>
8001600c:	00000000 	nop
/home/git/21371068/kern/pmap.c:460
  assert(pp2->pp_ref == 1);
80016010:	8fc20028 	lw	v0,40(s8)
80016014:	00000000 	nop
80016018:	94430008 	lhu	v1,8(v0)
8001601c:	24020001 	li	v0,1
80016020:	1062000d 	beq	v1,v0,80016058 <page_check+0x59c>
80016024:	00000000 	nop
/home/git/21371068/kern/pmap.c:460 (discriminator 1)
80016028:	3c028002 	lui	v0,0x8002
8001602c:	24429228 	addiu	v0,v0,-28120
80016030:	afa20010 	sw	v0,16(sp)
80016034:	3c028002 	lui	v0,0x8002
80016038:	24478eec 	addiu	a3,v0,-28948
8001603c:	3c028002 	lui	v0,0x8002
80016040:	24469460 	addiu	a2,v0,-27552
80016044:	240501cc 	li	a1,460
80016048:	3c028002 	lui	v0,0x8002
8001604c:	24448e7c 	addiu	a0,v0,-29060
80016050:	0c004ff8 	jal	80013fe0 <_panic>
80016054:	00000000 	nop
/home/git/21371068/kern/pmap.c:463

  // should be no free memory
  assert(page_alloc(&pp) == -E_NO_MEM);
80016058:	27c2001c 	addiu	v0,s8,28
8001605c:	00402025 	move	a0,v0
80016060:	0c0052b1 	jal	80014ac4 <page_alloc>
80016064:	00000000 	nop
80016068:	00401825 	move	v1,v0
8001606c:	2402fffc 	li	v0,-4
80016070:	1062000d 	beq	v1,v0,800160a8 <page_check+0x5ec>
80016074:	00000000 	nop
/home/git/21371068/kern/pmap.c:463 (discriminator 1)
80016078:	3c028002 	lui	v0,0x8002
8001607c:	24428fa4 	addiu	v0,v0,-28764
80016080:	afa20010 	sw	v0,16(sp)
80016084:	3c028002 	lui	v0,0x8002
80016088:	24478eec 	addiu	a3,v0,-28948
8001608c:	3c028002 	lui	v0,0x8002
80016090:	24469460 	addiu	a2,v0,-27552
80016094:	240501cf 	li	a1,463
80016098:	3c028002 	lui	v0,0x8002
8001609c:	24448e7c 	addiu	a0,v0,-29060
800160a0:	0c004ff8 	jal	80013fe0 <_panic>
800160a4:	00000000 	nop
/home/git/21371068/kern/pmap.c:465

  printk("start page_insert\n");
800160a8:	3c028002 	lui	v0,0x8002
800160ac:	2444923c 	addiu	a0,v0,-28100
800160b0:	0c005a6d 	jal	800169b4 <printk>
800160b4:	00000000 	nop
/home/git/21371068/kern/pmap.c:467
  // should be able to map pp2 at BY2PG because it's already there
  assert(page_insert(boot_pgdir, 0, pp2, BY2PG, 0) == 0);
800160b8:	8fc20028 	lw	v0,40(s8)
800160bc:	afa00010 	sw	zero,16(sp)
800160c0:	24071000 	li	a3,4096
800160c4:	00403025 	move	a2,v0
800160c8:	00002825 	move	a1,zero
800160cc:	8fc40018 	lw	a0,24(s8)
800160d0:	0c005396 	jal	80014e58 <page_insert>
800160d4:	00000000 	nop
800160d8:	1040000d 	beqz	v0,80016110 <page_check+0x654>
800160dc:	00000000 	nop
/home/git/21371068/kern/pmap.c:467 (discriminator 1)
800160e0:	3c028002 	lui	v0,0x8002
800160e4:	244291cc 	addiu	v0,v0,-28212
800160e8:	afa20010 	sw	v0,16(sp)
800160ec:	3c028002 	lui	v0,0x8002
800160f0:	24478eec 	addiu	a3,v0,-28948
800160f4:	3c028002 	lui	v0,0x8002
800160f8:	24469460 	addiu	a2,v0,-27552
800160fc:	240501d3 	li	a1,467
80016100:	3c028002 	lui	v0,0x8002
80016104:	24448e7c 	addiu	a0,v0,-29060
80016108:	0c004ff8 	jal	80013fe0 <_panic>
8001610c:	00000000 	nop
/home/git/21371068/kern/pmap.c:468
  assert(va2pa(boot_pgdir, BY2PG) == page2pa(pp2));
80016110:	24051000 	li	a1,4096
80016114:	8fc40018 	lw	a0,24(s8)
80016118:	0c005114 	jal	80014450 <va2pa>
8001611c:	00000000 	nop
80016120:	00408025 	move	s0,v0
80016124:	8fc20028 	lw	v0,40(s8)
80016128:	00000000 	nop
8001612c:	00402025 	move	a0,v0
80016130:	0c0050b1 	jal	800142c4 <page2pa>
80016134:	00000000 	nop
80016138:	1202000d 	beq	s0,v0,80016170 <page_check+0x6b4>
8001613c:	00000000 	nop
/home/git/21371068/kern/pmap.c:468 (discriminator 1)
80016140:	3c028002 	lui	v0,0x8002
80016144:	244291fc 	addiu	v0,v0,-28164
80016148:	afa20010 	sw	v0,16(sp)
8001614c:	3c028002 	lui	v0,0x8002
80016150:	24478eec 	addiu	a3,v0,-28948
80016154:	3c028002 	lui	v0,0x8002
80016158:	24469460 	addiu	a2,v0,-27552
8001615c:	240501d4 	li	a1,468
80016160:	3c028002 	lui	v0,0x8002
80016164:	24448e7c 	addiu	a0,v0,-29060
80016168:	0c004ff8 	jal	80013fe0 <_panic>
8001616c:	00000000 	nop
/home/git/21371068/kern/pmap.c:469
  assert(pp2->pp_ref == 1);
80016170:	8fc20028 	lw	v0,40(s8)
80016174:	00000000 	nop
80016178:	94430008 	lhu	v1,8(v0)
8001617c:	24020001 	li	v0,1
80016180:	1062000d 	beq	v1,v0,800161b8 <page_check+0x6fc>
80016184:	00000000 	nop
/home/git/21371068/kern/pmap.c:469 (discriminator 1)
80016188:	3c028002 	lui	v0,0x8002
8001618c:	24429228 	addiu	v0,v0,-28120
80016190:	afa20010 	sw	v0,16(sp)
80016194:	3c028002 	lui	v0,0x8002
80016198:	24478eec 	addiu	a3,v0,-28948
8001619c:	3c028002 	lui	v0,0x8002
800161a0:	24469460 	addiu	a2,v0,-27552
800161a4:	240501d5 	li	a1,469
800161a8:	3c028002 	lui	v0,0x8002
800161ac:	24448e7c 	addiu	a0,v0,-29060
800161b0:	0c004ff8 	jal	80013fe0 <_panic>
800161b4:	00000000 	nop
/home/git/21371068/kern/pmap.c:473

  // pp2 should NOT be on the free list
  // could happen in ref counts are handled sloppily in page_insert
  assert(page_alloc(&pp) == -E_NO_MEM);
800161b8:	27c2001c 	addiu	v0,s8,28
800161bc:	00402025 	move	a0,v0
800161c0:	0c0052b1 	jal	80014ac4 <page_alloc>
800161c4:	00000000 	nop
800161c8:	00401825 	move	v1,v0
800161cc:	2402fffc 	li	v0,-4
800161d0:	1062000d 	beq	v1,v0,80016208 <page_check+0x74c>
800161d4:	00000000 	nop
/home/git/21371068/kern/pmap.c:473 (discriminator 1)
800161d8:	3c028002 	lui	v0,0x8002
800161dc:	24428fa4 	addiu	v0,v0,-28764
800161e0:	afa20010 	sw	v0,16(sp)
800161e4:	3c028002 	lui	v0,0x8002
800161e8:	24478eec 	addiu	a3,v0,-28948
800161ec:	3c028002 	lui	v0,0x8002
800161f0:	24469460 	addiu	a2,v0,-27552
800161f4:	240501d9 	li	a1,473
800161f8:	3c028002 	lui	v0,0x8002
800161fc:	24448e7c 	addiu	a0,v0,-29060
80016200:	0c004ff8 	jal	80013fe0 <_panic>
80016204:	00000000 	nop
/home/git/21371068/kern/pmap.c:476

  // should not be able to map at PDMAP because need free page for page table
  assert(page_insert(boot_pgdir, 0, pp0, PDMAP, 0) < 0);
80016208:	8fc20020 	lw	v0,32(s8)
8001620c:	afa00010 	sw	zero,16(sp)
80016210:	3c070040 	lui	a3,0x40
80016214:	00403025 	move	a2,v0
80016218:	00002825 	move	a1,zero
8001621c:	8fc40018 	lw	a0,24(s8)
80016220:	0c005396 	jal	80014e58 <page_insert>
80016224:	00000000 	nop
80016228:	0440000d 	bltz	v0,80016260 <page_check+0x7a4>
8001622c:	00000000 	nop
/home/git/21371068/kern/pmap.c:476 (discriminator 1)
80016230:	3c028002 	lui	v0,0x8002
80016234:	24429250 	addiu	v0,v0,-28080
80016238:	afa20010 	sw	v0,16(sp)
8001623c:	3c028002 	lui	v0,0x8002
80016240:	24478eec 	addiu	a3,v0,-28948
80016244:	3c028002 	lui	v0,0x8002
80016248:	24469460 	addiu	a2,v0,-27552
8001624c:	240501dc 	li	a1,476
80016250:	3c028002 	lui	v0,0x8002
80016254:	24448e7c 	addiu	a0,v0,-29060
80016258:	0c004ff8 	jal	80013fe0 <_panic>
8001625c:	00000000 	nop
/home/git/21371068/kern/pmap.c:479

  // insert pp1 at BY2PG (replacing pp2)
  assert(page_insert(boot_pgdir, 0, pp1, BY2PG, 0) == 0);
80016260:	8fc20024 	lw	v0,36(s8)
80016264:	afa00010 	sw	zero,16(sp)
80016268:	24071000 	li	a3,4096
8001626c:	00403025 	move	a2,v0
80016270:	00002825 	move	a1,zero
80016274:	8fc40018 	lw	a0,24(s8)
80016278:	0c005396 	jal	80014e58 <page_insert>
8001627c:	00000000 	nop
80016280:	1040000d 	beqz	v0,800162b8 <page_check+0x7fc>
80016284:	00000000 	nop
/home/git/21371068/kern/pmap.c:479 (discriminator 1)
80016288:	3c028002 	lui	v0,0x8002
8001628c:	24429280 	addiu	v0,v0,-28032
80016290:	afa20010 	sw	v0,16(sp)
80016294:	3c028002 	lui	v0,0x8002
80016298:	24478eec 	addiu	a3,v0,-28948
8001629c:	3c028002 	lui	v0,0x8002
800162a0:	24469460 	addiu	a2,v0,-27552
800162a4:	240501df 	li	a1,479
800162a8:	3c028002 	lui	v0,0x8002
800162ac:	24448e7c 	addiu	a0,v0,-29060
800162b0:	0c004ff8 	jal	80013fe0 <_panic>
800162b4:	00000000 	nop
/home/git/21371068/kern/pmap.c:482

  // should have pp1 at both 0 and BY2PG, pp2 nowhere, ...
  assert(va2pa(boot_pgdir, 0x0) == page2pa(pp1));
800162b8:	00002825 	move	a1,zero
800162bc:	8fc40018 	lw	a0,24(s8)
800162c0:	0c005114 	jal	80014450 <va2pa>
800162c4:	00000000 	nop
800162c8:	00408025 	move	s0,v0
800162cc:	8fc20024 	lw	v0,36(s8)
800162d0:	00000000 	nop
800162d4:	00402025 	move	a0,v0
800162d8:	0c0050b1 	jal	800142c4 <page2pa>
800162dc:	00000000 	nop
800162e0:	1202000d 	beq	s0,v0,80016318 <page_check+0x85c>
800162e4:	00000000 	nop
/home/git/21371068/kern/pmap.c:482 (discriminator 1)
800162e8:	3c028002 	lui	v0,0x8002
800162ec:	24429190 	addiu	v0,v0,-28272
800162f0:	afa20010 	sw	v0,16(sp)
800162f4:	3c028002 	lui	v0,0x8002
800162f8:	24478eec 	addiu	a3,v0,-28948
800162fc:	3c028002 	lui	v0,0x8002
80016300:	24469460 	addiu	a2,v0,-27552
80016304:	240501e2 	li	a1,482
80016308:	3c028002 	lui	v0,0x8002
8001630c:	24448e7c 	addiu	a0,v0,-29060
80016310:	0c004ff8 	jal	80013fe0 <_panic>
80016314:	00000000 	nop
/home/git/21371068/kern/pmap.c:483
  assert(va2pa(boot_pgdir, BY2PG) == page2pa(pp1));
80016318:	24051000 	li	a1,4096
8001631c:	8fc40018 	lw	a0,24(s8)
80016320:	0c005114 	jal	80014450 <va2pa>
80016324:	00000000 	nop
80016328:	00408025 	move	s0,v0
8001632c:	8fc20024 	lw	v0,36(s8)
80016330:	00000000 	nop
80016334:	00402025 	move	a0,v0
80016338:	0c0050b1 	jal	800142c4 <page2pa>
8001633c:	00000000 	nop
80016340:	1202000d 	beq	s0,v0,80016378 <page_check+0x8bc>
80016344:	00000000 	nop
/home/git/21371068/kern/pmap.c:483 (discriminator 1)
80016348:	3c028002 	lui	v0,0x8002
8001634c:	244292b0 	addiu	v0,v0,-27984
80016350:	afa20010 	sw	v0,16(sp)
80016354:	3c028002 	lui	v0,0x8002
80016358:	24478eec 	addiu	a3,v0,-28948
8001635c:	3c028002 	lui	v0,0x8002
80016360:	24469460 	addiu	a2,v0,-27552
80016364:	240501e3 	li	a1,483
80016368:	3c028002 	lui	v0,0x8002
8001636c:	24448e7c 	addiu	a0,v0,-29060
80016370:	0c004ff8 	jal	80013fe0 <_panic>
80016374:	00000000 	nop
/home/git/21371068/kern/pmap.c:485
  // ... and ref counts should reflect this
  assert(pp1->pp_ref == 2);
80016378:	8fc20024 	lw	v0,36(s8)
8001637c:	00000000 	nop
80016380:	94430008 	lhu	v1,8(v0)
80016384:	24020002 	li	v0,2
80016388:	1062000d 	beq	v1,v0,800163c0 <page_check+0x904>
8001638c:	00000000 	nop
/home/git/21371068/kern/pmap.c:485 (discriminator 1)
80016390:	3c028002 	lui	v0,0x8002
80016394:	244292dc 	addiu	v0,v0,-27940
80016398:	afa20010 	sw	v0,16(sp)
8001639c:	3c028002 	lui	v0,0x8002
800163a0:	24478eec 	addiu	a3,v0,-28948
800163a4:	3c028002 	lui	v0,0x8002
800163a8:	24469460 	addiu	a2,v0,-27552
800163ac:	240501e5 	li	a1,485
800163b0:	3c028002 	lui	v0,0x8002
800163b4:	24448e7c 	addiu	a0,v0,-29060
800163b8:	0c004ff8 	jal	80013fe0 <_panic>
800163bc:	00000000 	nop
/home/git/21371068/kern/pmap.c:486
  printk("pp2->pp_ref %d\n", pp2->pp_ref);
800163c0:	8fc20028 	lw	v0,40(s8)
800163c4:	00000000 	nop
800163c8:	94420008 	lhu	v0,8(v0)
800163cc:	00000000 	nop
800163d0:	00402825 	move	a1,v0
800163d4:	3c028002 	lui	v0,0x8002
800163d8:	244492f0 	addiu	a0,v0,-27920
800163dc:	0c005a6d 	jal	800169b4 <printk>
800163e0:	00000000 	nop
/home/git/21371068/kern/pmap.c:487
  assert(pp2->pp_ref == 0);
800163e4:	8fc20028 	lw	v0,40(s8)
800163e8:	00000000 	nop
800163ec:	94420008 	lhu	v0,8(v0)
800163f0:	00000000 	nop
800163f4:	1040000d 	beqz	v0,8001642c <page_check+0x970>
800163f8:	00000000 	nop
/home/git/21371068/kern/pmap.c:487 (discriminator 1)
800163fc:	3c028002 	lui	v0,0x8002
80016400:	24429300 	addiu	v0,v0,-27904
80016404:	afa20010 	sw	v0,16(sp)
80016408:	3c028002 	lui	v0,0x8002
8001640c:	24478eec 	addiu	a3,v0,-28948
80016410:	3c028002 	lui	v0,0x8002
80016414:	24469460 	addiu	a2,v0,-27552
80016418:	240501e7 	li	a1,487
8001641c:	3c028002 	lui	v0,0x8002
80016420:	24448e7c 	addiu	a0,v0,-29060
80016424:	0c004ff8 	jal	80013fe0 <_panic>
80016428:	00000000 	nop
/home/git/21371068/kern/pmap.c:488
  printk("end page_insert\n");
8001642c:	3c028002 	lui	v0,0x8002
80016430:	24449314 	addiu	a0,v0,-27884
80016434:	0c005a6d 	jal	800169b4 <printk>
80016438:	00000000 	nop
/home/git/21371068/kern/pmap.c:491

  // pp2 should be returned by page_alloc
  assert(page_alloc(&pp) == 0 && pp == pp2);
8001643c:	27c2001c 	addiu	v0,s8,28
80016440:	00402025 	move	a0,v0
80016444:	0c0052b1 	jal	80014ac4 <page_alloc>
80016448:	00000000 	nop
8001644c:	14400006 	bnez	v0,80016468 <page_check+0x9ac>
80016450:	00000000 	nop
/home/git/21371068/kern/pmap.c:491 (discriminator 2)
80016454:	8fc3001c 	lw	v1,28(s8)
80016458:	8fc20028 	lw	v0,40(s8)
8001645c:	00000000 	nop
80016460:	1062000d 	beq	v1,v0,80016498 <page_check+0x9dc>
80016464:	00000000 	nop
/home/git/21371068/kern/pmap.c:491 (discriminator 3)
80016468:	3c028002 	lui	v0,0x8002
8001646c:	24429328 	addiu	v0,v0,-27864
80016470:	afa20010 	sw	v0,16(sp)
80016474:	3c028002 	lui	v0,0x8002
80016478:	24478eec 	addiu	a3,v0,-28948
8001647c:	3c028002 	lui	v0,0x8002
80016480:	24469460 	addiu	a2,v0,-27552
80016484:	240501eb 	li	a1,491
80016488:	3c028002 	lui	v0,0x8002
8001648c:	24448e7c 	addiu	a0,v0,-29060
80016490:	0c004ff8 	jal	80013fe0 <_panic>
80016494:	00000000 	nop
/home/git/21371068/kern/pmap.c:494

  // unmapping pp1 at 0 should keep pp1 at BY2PG
  page_remove(boot_pgdir, 0, 0x0);
80016498:	00003025 	move	a2,zero
8001649c:	00002825 	move	a1,zero
800164a0:	8fc40018 	lw	a0,24(s8)
800164a4:	0c005464 	jal	80015190 <page_remove>
800164a8:	00000000 	nop
/home/git/21371068/kern/pmap.c:495
  assert(va2pa(boot_pgdir, 0x0) == ~0);
800164ac:	00002825 	move	a1,zero
800164b0:	8fc40018 	lw	a0,24(s8)
800164b4:	0c005114 	jal	80014450 <va2pa>
800164b8:	00000000 	nop
800164bc:	00401825 	move	v1,v0
800164c0:	2402ffff 	li	v0,-1
800164c4:	1062000d 	beq	v1,v0,800164fc <page_check+0xa40>
800164c8:	00000000 	nop
/home/git/21371068/kern/pmap.c:495 (discriminator 1)
800164cc:	3c028002 	lui	v0,0x8002
800164d0:	2442934c 	addiu	v0,v0,-27828
800164d4:	afa20010 	sw	v0,16(sp)
800164d8:	3c028002 	lui	v0,0x8002
800164dc:	24478eec 	addiu	a3,v0,-28948
800164e0:	3c028002 	lui	v0,0x8002
800164e4:	24469460 	addiu	a2,v0,-27552
800164e8:	240501ef 	li	a1,495
800164ec:	3c028002 	lui	v0,0x8002
800164f0:	24448e7c 	addiu	a0,v0,-29060
800164f4:	0c004ff8 	jal	80013fe0 <_panic>
800164f8:	00000000 	nop
/home/git/21371068/kern/pmap.c:496
  assert(va2pa(boot_pgdir, BY2PG) == page2pa(pp1));
800164fc:	24051000 	li	a1,4096
80016500:	8fc40018 	lw	a0,24(s8)
80016504:	0c005114 	jal	80014450 <va2pa>
80016508:	00000000 	nop
8001650c:	00408025 	move	s0,v0
80016510:	8fc20024 	lw	v0,36(s8)
80016514:	00000000 	nop
80016518:	00402025 	move	a0,v0
8001651c:	0c0050b1 	jal	800142c4 <page2pa>
80016520:	00000000 	nop
80016524:	1202000d 	beq	s0,v0,8001655c <page_check+0xaa0>
80016528:	00000000 	nop
/home/git/21371068/kern/pmap.c:496 (discriminator 1)
8001652c:	3c028002 	lui	v0,0x8002
80016530:	244292b0 	addiu	v0,v0,-27984
80016534:	afa20010 	sw	v0,16(sp)
80016538:	3c028002 	lui	v0,0x8002
8001653c:	24478eec 	addiu	a3,v0,-28948
80016540:	3c028002 	lui	v0,0x8002
80016544:	24469460 	addiu	a2,v0,-27552
80016548:	240501f0 	li	a1,496
8001654c:	3c028002 	lui	v0,0x8002
80016550:	24448e7c 	addiu	a0,v0,-29060
80016554:	0c004ff8 	jal	80013fe0 <_panic>
80016558:	00000000 	nop
/home/git/21371068/kern/pmap.c:497
  assert(pp1->pp_ref == 1);
8001655c:	8fc20024 	lw	v0,36(s8)
80016560:	00000000 	nop
80016564:	94430008 	lhu	v1,8(v0)
80016568:	24020001 	li	v0,1
8001656c:	1062000d 	beq	v1,v0,800165a4 <page_check+0xae8>
80016570:	00000000 	nop
/home/git/21371068/kern/pmap.c:497 (discriminator 1)
80016574:	3c028002 	lui	v0,0x8002
80016578:	244291b8 	addiu	v0,v0,-28232
8001657c:	afa20010 	sw	v0,16(sp)
80016580:	3c028002 	lui	v0,0x8002
80016584:	24478eec 	addiu	a3,v0,-28948
80016588:	3c028002 	lui	v0,0x8002
8001658c:	24469460 	addiu	a2,v0,-27552
80016590:	240501f1 	li	a1,497
80016594:	3c028002 	lui	v0,0x8002
80016598:	24448e7c 	addiu	a0,v0,-29060
8001659c:	0c004ff8 	jal	80013fe0 <_panic>
800165a0:	00000000 	nop
/home/git/21371068/kern/pmap.c:498
  assert(pp2->pp_ref == 0);
800165a4:	8fc20028 	lw	v0,40(s8)
800165a8:	00000000 	nop
800165ac:	94420008 	lhu	v0,8(v0)
800165b0:	00000000 	nop
800165b4:	1040000d 	beqz	v0,800165ec <page_check+0xb30>
800165b8:	00000000 	nop
/home/git/21371068/kern/pmap.c:498 (discriminator 1)
800165bc:	3c028002 	lui	v0,0x8002
800165c0:	24429300 	addiu	v0,v0,-27904
800165c4:	afa20010 	sw	v0,16(sp)
800165c8:	3c028002 	lui	v0,0x8002
800165cc:	24478eec 	addiu	a3,v0,-28948
800165d0:	3c028002 	lui	v0,0x8002
800165d4:	24469460 	addiu	a2,v0,-27552
800165d8:	240501f2 	li	a1,498
800165dc:	3c028002 	lui	v0,0x8002
800165e0:	24448e7c 	addiu	a0,v0,-29060
800165e4:	0c004ff8 	jal	80013fe0 <_panic>
800165e8:	00000000 	nop
/home/git/21371068/kern/pmap.c:501

  // unmapping pp1 at BY2PG should free it
  page_remove(boot_pgdir, 0, BY2PG);
800165ec:	24061000 	li	a2,4096
800165f0:	00002825 	move	a1,zero
800165f4:	8fc40018 	lw	a0,24(s8)
800165f8:	0c005464 	jal	80015190 <page_remove>
800165fc:	00000000 	nop
/home/git/21371068/kern/pmap.c:502
  assert(va2pa(boot_pgdir, 0x0) == ~0);
80016600:	00002825 	move	a1,zero
80016604:	8fc40018 	lw	a0,24(s8)
80016608:	0c005114 	jal	80014450 <va2pa>
8001660c:	00000000 	nop
80016610:	00401825 	move	v1,v0
80016614:	2402ffff 	li	v0,-1
80016618:	1062000d 	beq	v1,v0,80016650 <page_check+0xb94>
8001661c:	00000000 	nop
/home/git/21371068/kern/pmap.c:502 (discriminator 1)
80016620:	3c028002 	lui	v0,0x8002
80016624:	2442934c 	addiu	v0,v0,-27828
80016628:	afa20010 	sw	v0,16(sp)
8001662c:	3c028002 	lui	v0,0x8002
80016630:	24478eec 	addiu	a3,v0,-28948
80016634:	3c028002 	lui	v0,0x8002
80016638:	24469460 	addiu	a2,v0,-27552
8001663c:	240501f6 	li	a1,502
80016640:	3c028002 	lui	v0,0x8002
80016644:	24448e7c 	addiu	a0,v0,-29060
80016648:	0c004ff8 	jal	80013fe0 <_panic>
8001664c:	00000000 	nop
/home/git/21371068/kern/pmap.c:503
  assert(va2pa(boot_pgdir, BY2PG) == ~0);
80016650:	24051000 	li	a1,4096
80016654:	8fc40018 	lw	a0,24(s8)
80016658:	0c005114 	jal	80014450 <va2pa>
8001665c:	00000000 	nop
80016660:	00401825 	move	v1,v0
80016664:	2402ffff 	li	v0,-1
80016668:	1062000d 	beq	v1,v0,800166a0 <page_check+0xbe4>
8001666c:	00000000 	nop
/home/git/21371068/kern/pmap.c:503 (discriminator 1)
80016670:	3c028002 	lui	v0,0x8002
80016674:	2442936c 	addiu	v0,v0,-27796
80016678:	afa20010 	sw	v0,16(sp)
8001667c:	3c028002 	lui	v0,0x8002
80016680:	24478eec 	addiu	a3,v0,-28948
80016684:	3c028002 	lui	v0,0x8002
80016688:	24469460 	addiu	a2,v0,-27552
8001668c:	240501f7 	li	a1,503
80016690:	3c028002 	lui	v0,0x8002
80016694:	24448e7c 	addiu	a0,v0,-29060
80016698:	0c004ff8 	jal	80013fe0 <_panic>
8001669c:	00000000 	nop
/home/git/21371068/kern/pmap.c:504
  assert(pp1->pp_ref == 0);
800166a0:	8fc20024 	lw	v0,36(s8)
800166a4:	00000000 	nop
800166a8:	94420008 	lhu	v0,8(v0)
800166ac:	00000000 	nop
800166b0:	1040000d 	beqz	v0,800166e8 <page_check+0xc2c>
800166b4:	00000000 	nop
/home/git/21371068/kern/pmap.c:504 (discriminator 1)
800166b8:	3c028002 	lui	v0,0x8002
800166bc:	2442938c 	addiu	v0,v0,-27764
800166c0:	afa20010 	sw	v0,16(sp)
800166c4:	3c028002 	lui	v0,0x8002
800166c8:	24478eec 	addiu	a3,v0,-28948
800166cc:	3c028002 	lui	v0,0x8002
800166d0:	24469460 	addiu	a2,v0,-27552
800166d4:	240501f8 	li	a1,504
800166d8:	3c028002 	lui	v0,0x8002
800166dc:	24448e7c 	addiu	a0,v0,-29060
800166e0:	0c004ff8 	jal	80013fe0 <_panic>
800166e4:	00000000 	nop
/home/git/21371068/kern/pmap.c:505
  assert(pp2->pp_ref == 0);
800166e8:	8fc20028 	lw	v0,40(s8)
800166ec:	00000000 	nop
800166f0:	94420008 	lhu	v0,8(v0)
800166f4:	00000000 	nop
800166f8:	1040000d 	beqz	v0,80016730 <page_check+0xc74>
800166fc:	00000000 	nop
/home/git/21371068/kern/pmap.c:505 (discriminator 1)
80016700:	3c028002 	lui	v0,0x8002
80016704:	24429300 	addiu	v0,v0,-27904
80016708:	afa20010 	sw	v0,16(sp)
8001670c:	3c028002 	lui	v0,0x8002
80016710:	24478eec 	addiu	a3,v0,-28948
80016714:	3c028002 	lui	v0,0x8002
80016718:	24469460 	addiu	a2,v0,-27552
8001671c:	240501f9 	li	a1,505
80016720:	3c028002 	lui	v0,0x8002
80016724:	24448e7c 	addiu	a0,v0,-29060
80016728:	0c004ff8 	jal	80013fe0 <_panic>
8001672c:	00000000 	nop
/home/git/21371068/kern/pmap.c:508

  // so it should be returned by page_alloc
  assert(page_alloc(&pp) == 0 && pp == pp1);
80016730:	27c2001c 	addiu	v0,s8,28
80016734:	00402025 	move	a0,v0
80016738:	0c0052b1 	jal	80014ac4 <page_alloc>
8001673c:	00000000 	nop
80016740:	14400006 	bnez	v0,8001675c <page_check+0xca0>
80016744:	00000000 	nop
/home/git/21371068/kern/pmap.c:508 (discriminator 2)
80016748:	8fc3001c 	lw	v1,28(s8)
8001674c:	8fc20024 	lw	v0,36(s8)
80016750:	00000000 	nop
80016754:	1062000d 	beq	v1,v0,8001678c <page_check+0xcd0>
80016758:	00000000 	nop
/home/git/21371068/kern/pmap.c:508 (discriminator 3)
8001675c:	3c028002 	lui	v0,0x8002
80016760:	244293a0 	addiu	v0,v0,-27744
80016764:	afa20010 	sw	v0,16(sp)
80016768:	3c028002 	lui	v0,0x8002
8001676c:	24478eec 	addiu	a3,v0,-28948
80016770:	3c028002 	lui	v0,0x8002
80016774:	24469460 	addiu	a2,v0,-27552
80016778:	240501fc 	li	a1,508
8001677c:	3c028002 	lui	v0,0x8002
80016780:	24448e7c 	addiu	a0,v0,-29060
80016784:	0c004ff8 	jal	80013fe0 <_panic>
80016788:	00000000 	nop
/home/git/21371068/kern/pmap.c:511

  // should be no free memory
  assert(page_alloc(&pp) == -E_NO_MEM);
8001678c:	27c2001c 	addiu	v0,s8,28
80016790:	00402025 	move	a0,v0
80016794:	0c0052b1 	jal	80014ac4 <page_alloc>
80016798:	00000000 	nop
8001679c:	00401825 	move	v1,v0
800167a0:	2402fffc 	li	v0,-4
800167a4:	1062000d 	beq	v1,v0,800167dc <page_check+0xd20>
800167a8:	00000000 	nop
/home/git/21371068/kern/pmap.c:511 (discriminator 1)
800167ac:	3c028002 	lui	v0,0x8002
800167b0:	24428fa4 	addiu	v0,v0,-28764
800167b4:	afa20010 	sw	v0,16(sp)
800167b8:	3c028002 	lui	v0,0x8002
800167bc:	24478eec 	addiu	a3,v0,-28948
800167c0:	3c028002 	lui	v0,0x8002
800167c4:	24469460 	addiu	a2,v0,-27552
800167c8:	240501ff 	li	a1,511
800167cc:	3c028002 	lui	v0,0x8002
800167d0:	24448e7c 	addiu	a0,v0,-29060
800167d4:	0c004ff8 	jal	80013fe0 <_panic>
800167d8:	00000000 	nop
/home/git/21371068/kern/pmap.c:514

  // forcibly take pp0 back
  assert(PTE_ADDR(boot_pgdir[0]) == page2pa(pp0));
800167dc:	8fc20018 	lw	v0,24(s8)
800167e0:	00000000 	nop
800167e4:	8c430000 	lw	v1,0(v0)
800167e8:	2402f000 	li	v0,-4096
800167ec:	00628024 	and	s0,v1,v0
800167f0:	8fc20020 	lw	v0,32(s8)
800167f4:	00000000 	nop
800167f8:	00402025 	move	a0,v0
800167fc:	0c0050b1 	jal	800142c4 <page2pa>
80016800:	00000000 	nop
80016804:	1202000d 	beq	s0,v0,8001683c <page_check+0xd80>
80016808:	00000000 	nop
/home/git/21371068/kern/pmap.c:514 (discriminator 1)
8001680c:	3c028002 	lui	v0,0x8002
80016810:	24429134 	addiu	v0,v0,-28364
80016814:	afa20010 	sw	v0,16(sp)
80016818:	3c028002 	lui	v0,0x8002
8001681c:	24478eec 	addiu	a3,v0,-28948
80016820:	3c028002 	lui	v0,0x8002
80016824:	24469460 	addiu	a2,v0,-27552
80016828:	24050202 	li	a1,514
8001682c:	3c028002 	lui	v0,0x8002
80016830:	24448e7c 	addiu	a0,v0,-29060
80016834:	0c004ff8 	jal	80013fe0 <_panic>
80016838:	00000000 	nop
/home/git/21371068/kern/pmap.c:515
  boot_pgdir[0] = 0;
8001683c:	8fc20018 	lw	v0,24(s8)
80016840:	00000000 	nop
80016844:	ac400000 	sw	zero,0(v0)
/home/git/21371068/kern/pmap.c:516
  assert(pp0->pp_ref == 1);
80016848:	8fc20020 	lw	v0,32(s8)
8001684c:	00000000 	nop
80016850:	94430008 	lhu	v1,8(v0)
80016854:	24020001 	li	v0,1
80016858:	1062000d 	beq	v1,v0,80016890 <page_check+0xdd4>
8001685c:	00000000 	nop
/home/git/21371068/kern/pmap.c:516 (discriminator 1)
80016860:	3c028002 	lui	v0,0x8002
80016864:	244293c4 	addiu	v0,v0,-27708
80016868:	afa20010 	sw	v0,16(sp)
8001686c:	3c028002 	lui	v0,0x8002
80016870:	24478eec 	addiu	a3,v0,-28948
80016874:	3c028002 	lui	v0,0x8002
80016878:	24469460 	addiu	a2,v0,-27552
8001687c:	24050204 	li	a1,516
80016880:	3c028002 	lui	v0,0x8002
80016884:	24448e7c 	addiu	a0,v0,-29060
80016888:	0c004ff8 	jal	80013fe0 <_panic>
8001688c:	00000000 	nop
/home/git/21371068/kern/pmap.c:517
  pp0->pp_ref = 0;
80016890:	8fc20020 	lw	v0,32(s8)
80016894:	00000000 	nop
80016898:	a4400008 	sh	zero,8(v0)
/home/git/21371068/kern/pmap.c:520

  // give free list back
  page_free_list = fl;
8001689c:	3c02800d 	lui	v0,0x800d
800168a0:	8fc3002c 	lw	v1,44(s8)
800168a4:	00000000 	nop
800168a8:	ac43e02c 	sw	v1,-8148(v0)
/home/git/21371068/kern/pmap.c:523

  // free the pages we took
  page_free(pp0);
800168ac:	8fc20020 	lw	v0,32(s8)
800168b0:	00000000 	nop
800168b4:	00402025 	move	a0,v0
800168b8:	0c0052eb 	jal	80014bac <page_free>
800168bc:	00000000 	nop
/home/git/21371068/kern/pmap.c:524
  page_free(pp1);
800168c0:	8fc20024 	lw	v0,36(s8)
800168c4:	00000000 	nop
800168c8:	00402025 	move	a0,v0
800168cc:	0c0052eb 	jal	80014bac <page_free>
800168d0:	00000000 	nop
/home/git/21371068/kern/pmap.c:525
  page_free(pp2);
800168d4:	8fc20028 	lw	v0,40(s8)
800168d8:	00000000 	nop
800168dc:	00402025 	move	a0,v0
800168e0:	0c0052eb 	jal	80014bac <page_free>
800168e4:	00000000 	nop
/home/git/21371068/kern/pmap.c:527

  printk("page_check() succeeded!\n");
800168e8:	3c028002 	lui	v0,0x8002
800168ec:	244493d8 	addiu	a0,v0,-27688
800168f0:	0c005a6d 	jal	800169b4 <printk>
800168f4:	00000000 	nop
/home/git/21371068/kern/pmap.c:528
}
800168f8:	00000000 	nop
800168fc:	03c0e825 	move	sp,s8
80016900:	8fbf003c 	lw	ra,60(sp)
80016904:	8fbe0038 	lw	s8,56(sp)
80016908:	8fb00034 	lw	s0,52(sp)
8001690c:	27bd0040 	addiu	sp,sp,64
80016910:	03e00008 	jr	ra
80016914:	00000000 	nop
	...

80016920 <outputk>:
outputk():
/home/git/21371068/kern/printk.c:6
#include <drivers/dev_cons.h>
#include <print.h>
#include <printk.h>
#include <trap.h>

void outputk(void *data, const char *buf, size_t len) {
80016920:	27bdffe0 	addiu	sp,sp,-32
80016924:	afbf001c 	sw	ra,28(sp)
80016928:	afbe0018 	sw	s8,24(sp)
8001692c:	03a0f025 	move	s8,sp
80016930:	afc40020 	sw	a0,32(s8)
80016934:	afc50024 	sw	a1,36(s8)
80016938:	afc60028 	sw	a2,40(s8)
/home/git/21371068/kern/printk.c:7
	for (int i = 0; i < len; i++) {
8001693c:	afc00010 	sw	zero,16(s8)
80016940:	1000000e 	b	8001697c <outputk+0x5c>
80016944:	00000000 	nop
/home/git/21371068/kern/printk.c:8 (discriminator 3)
		printcharc(buf[i]);
80016948:	8fc20010 	lw	v0,16(s8)
8001694c:	8fc30024 	lw	v1,36(s8)
80016950:	00000000 	nop
80016954:	00621021 	addu	v0,v1,v0
80016958:	80420000 	lb	v0,0(v0)
8001695c:	00000000 	nop
80016960:	00402025 	move	a0,v0
80016964:	0c004684 	jal	80011a10 <printcharc>
80016968:	00000000 	nop
/home/git/21371068/kern/printk.c:7 (discriminator 3)
	for (int i = 0; i < len; i++) {
8001696c:	8fc20010 	lw	v0,16(s8)
80016970:	00000000 	nop
80016974:	24420001 	addiu	v0,v0,1
80016978:	afc20010 	sw	v0,16(s8)
/home/git/21371068/kern/printk.c:7 (discriminator 1)
8001697c:	8fc20010 	lw	v0,16(s8)
80016980:	8fc30028 	lw	v1,40(s8)
80016984:	00000000 	nop
80016988:	0043102b 	sltu	v0,v0,v1
8001698c:	1440ffee 	bnez	v0,80016948 <outputk+0x28>
80016990:	00000000 	nop
	...
/home/git/21371068/kern/printk.c:10
	}
}
8001699c:	03c0e825 	move	sp,s8
800169a0:	8fbf001c 	lw	ra,28(sp)
800169a4:	8fbe0018 	lw	s8,24(sp)
800169a8:	27bd0020 	addiu	sp,sp,32
800169ac:	03e00008 	jr	ra
800169b0:	00000000 	nop

800169b4 <printk>:
printk():
/home/git/21371068/kern/printk.c:12

void printk(const char *fmt, ...) {
800169b4:	27bdffe0 	addiu	sp,sp,-32
800169b8:	afbf001c 	sw	ra,28(sp)
800169bc:	afbe0018 	sw	s8,24(sp)
800169c0:	03a0f025 	move	s8,sp
800169c4:	afc40020 	sw	a0,32(s8)
800169c8:	afc50024 	sw	a1,36(s8)
800169cc:	afc60028 	sw	a2,40(s8)
800169d0:	afc7002c 	sw	a3,44(s8)
/home/git/21371068/kern/printk.c:14
	va_list ap;
	va_start(ap, fmt);
800169d4:	27c20024 	addiu	v0,s8,36
800169d8:	afc20010 	sw	v0,16(s8)
/home/git/21371068/kern/printk.c:15
	vprintfmt(outputk, NULL, fmt, ap);
800169dc:	8fc20010 	lw	v0,16(s8)
800169e0:	00000000 	nop
800169e4:	00403825 	move	a3,v0
800169e8:	8fc60020 	lw	a2,32(s8)
800169ec:	00002825 	move	a1,zero
800169f0:	3c028001 	lui	v0,0x8001
800169f4:	24446920 	addiu	a0,v0,26912
800169f8:	0c004104 	jal	80010410 <vprintfmt>
800169fc:	00000000 	nop
/home/git/21371068/kern/printk.c:17
	va_end(ap);
}
80016a00:	00000000 	nop
80016a04:	03c0e825 	move	sp,s8
80016a08:	8fbf001c 	lw	ra,28(sp)
80016a0c:	8fbe0018 	lw	s8,24(sp)
80016a10:	27bd0020 	addiu	sp,sp,32
80016a14:	03e00008 	jr	ra
80016a18:	00000000 	nop

80016a1c <print_tf>:
print_tf():
/home/git/21371068/kern/printk.c:19

void print_tf(struct Trapframe *tf) {
80016a1c:	27bdffe0 	addiu	sp,sp,-32
80016a20:	afbf001c 	sw	ra,28(sp)
80016a24:	afbe0018 	sw	s8,24(sp)
80016a28:	03a0f025 	move	s8,sp
80016a2c:	afc40020 	sw	a0,32(s8)
/home/git/21371068/kern/printk.c:20
	for (int i = 0; i < sizeof(tf->regs) / sizeof(tf->regs[0]); i++) {
80016a30:	afc00010 	sw	zero,16(s8)
80016a34:	10000012 	b	80016a80 <print_tf+0x64>
80016a38:	00000000 	nop
/home/git/21371068/kern/printk.c:21 (discriminator 3)
		printk("$%2d = %08x\n", i, tf->regs[i]);
80016a3c:	8fc30020 	lw	v1,32(s8)
80016a40:	8fc20010 	lw	v0,16(s8)
80016a44:	00000000 	nop
80016a48:	00021080 	sll	v0,v0,0x2
80016a4c:	00621021 	addu	v0,v1,v0
80016a50:	8c420000 	lw	v0,0(v0)
80016a54:	00000000 	nop
80016a58:	00403025 	move	a2,v0
80016a5c:	8fc50010 	lw	a1,16(s8)
80016a60:	3c028002 	lui	v0,0x8002
80016a64:	24449480 	addiu	a0,v0,-27520
80016a68:	0c005a6d 	jal	800169b4 <printk>
80016a6c:	00000000 	nop
/home/git/21371068/kern/printk.c:20 (discriminator 3)
	for (int i = 0; i < sizeof(tf->regs) / sizeof(tf->regs[0]); i++) {
80016a70:	8fc20010 	lw	v0,16(s8)
80016a74:	00000000 	nop
80016a78:	24420001 	addiu	v0,v0,1
80016a7c:	afc20010 	sw	v0,16(s8)
/home/git/21371068/kern/printk.c:20 (discriminator 1)
80016a80:	8fc20010 	lw	v0,16(s8)
80016a84:	00000000 	nop
80016a88:	2c420020 	sltiu	v0,v0,32
80016a8c:	1440ffeb 	bnez	v0,80016a3c <print_tf+0x20>
80016a90:	00000000 	nop
/home/git/21371068/kern/printk.c:23
	}
	printk("HI  = %08x\n", tf->hi);
80016a94:	8fc20020 	lw	v0,32(s8)
80016a98:	00000000 	nop
80016a9c:	8c420084 	lw	v0,132(v0)
80016aa0:	00000000 	nop
80016aa4:	00402825 	move	a1,v0
80016aa8:	3c028002 	lui	v0,0x8002
80016aac:	24449490 	addiu	a0,v0,-27504
80016ab0:	0c005a6d 	jal	800169b4 <printk>
80016ab4:	00000000 	nop
/home/git/21371068/kern/printk.c:24
	printk("LO  = %08x\n\n", tf->lo);
80016ab8:	8fc20020 	lw	v0,32(s8)
80016abc:	00000000 	nop
80016ac0:	8c420088 	lw	v0,136(v0)
80016ac4:	00000000 	nop
80016ac8:	00402825 	move	a1,v0
80016acc:	3c028002 	lui	v0,0x8002
80016ad0:	2444949c 	addiu	a0,v0,-27492
80016ad4:	0c005a6d 	jal	800169b4 <printk>
80016ad8:	00000000 	nop
/home/git/21371068/kern/printk.c:25
	printk("CP0.SR    = %08x\n", tf->cp0_status);
80016adc:	8fc20020 	lw	v0,32(s8)
80016ae0:	00000000 	nop
80016ae4:	8c420080 	lw	v0,128(v0)
80016ae8:	00000000 	nop
80016aec:	00402825 	move	a1,v0
80016af0:	3c028002 	lui	v0,0x8002
80016af4:	244494ac 	addiu	a0,v0,-27476
80016af8:	0c005a6d 	jal	800169b4 <printk>
80016afc:	00000000 	nop
/home/git/21371068/kern/printk.c:26
	printk("CP0.BadV  = %08x\n", tf->cp0_badvaddr);
80016b00:	8fc20020 	lw	v0,32(s8)
80016b04:	00000000 	nop
80016b08:	8c42008c 	lw	v0,140(v0)
80016b0c:	00000000 	nop
80016b10:	00402825 	move	a1,v0
80016b14:	3c028002 	lui	v0,0x8002
80016b18:	244494c0 	addiu	a0,v0,-27456
80016b1c:	0c005a6d 	jal	800169b4 <printk>
80016b20:	00000000 	nop
/home/git/21371068/kern/printk.c:27
	printk("CP0.Cause = %08x\n", tf->cp0_cause);
80016b24:	8fc20020 	lw	v0,32(s8)
80016b28:	00000000 	nop
80016b2c:	8c420090 	lw	v0,144(v0)
80016b30:	00000000 	nop
80016b34:	00402825 	move	a1,v0
80016b38:	3c028002 	lui	v0,0x8002
80016b3c:	244494d4 	addiu	a0,v0,-27436
80016b40:	0c005a6d 	jal	800169b4 <printk>
80016b44:	00000000 	nop
/home/git/21371068/kern/printk.c:28
	printk("CP0.EPC   = %08x\n", tf->cp0_epc);
80016b48:	8fc20020 	lw	v0,32(s8)
80016b4c:	00000000 	nop
80016b50:	8c420094 	lw	v0,148(v0)
80016b54:	00000000 	nop
80016b58:	00402825 	move	a1,v0
80016b5c:	3c028002 	lui	v0,0x8002
80016b60:	244494e8 	addiu	a0,v0,-27416
80016b64:	0c005a6d 	jal	800169b4 <printk>
80016b68:	00000000 	nop
/home/git/21371068/kern/printk.c:29
}
80016b6c:	00000000 	nop
80016b70:	03c0e825 	move	sp,s8
80016b74:	8fbf001c 	lw	ra,28(sp)
80016b78:	8fbe0018 	lw	s8,24(sp)
80016b7c:	27bd0020 	addiu	sp,sp,32
80016b80:	03e00008 	jr	ra
80016b84:	00000000 	nop
	...

80016b90 <schedule>:
schedule():
/home/git/21371068/kern/sched.c:17
 * Hints:
 *   1. The variable 'count' used for counting slices should be defined as 'static'.
 *   2. Use variable 'env_sched_list', which contains and only contains all runnable envs.
 *   3. You shouldn't use any 'return' statement because this function is 'noreturn'.
 */
void schedule(int yield) {
80016b90:	27bdffe0 	addiu	sp,sp,-32
80016b94:	afbf001c 	sw	ra,28(sp)
80016b98:	afbe0018 	sw	s8,24(sp)
80016b9c:	03a0f025 	move	s8,sp
80016ba0:	afc40020 	sw	a0,32(s8)
/home/git/21371068/kern/sched.c:19
	static int count = 0; // remaining time slices of current env
	struct Env *e = curenv;
80016ba4:	3c02800d 	lui	v0,0x800d
80016ba8:	8c42e000 	lw	v0,-8192(v0)
80016bac:	00000000 	nop
80016bb0:	afc20010 	sw	v0,16(s8)
/home/git/21371068/kern/sched.c:38
	 *
	 * You may want to use macros below:
	 *   'TAILQ_FIRST', 'TAILQ_REMOVE', 'TAILQ_INSERT_TAIL'
	 */
	/* Exercise 3.12: Your code here. */
	if (yield != 0 || count == 0 || e == NULL || e->env_status != ENV_RUNNABLE) {
80016bb4:	8fc20020 	lw	v0,32(s8)
80016bb8:	00000000 	nop
80016bbc:	14400010 	bnez	v0,80016c00 <schedule+0x70>
80016bc0:	00000000 	nop
/home/git/21371068/kern/sched.c:38 (discriminator 1)
80016bc4:	3c02800d 	lui	v0,0x800d
80016bc8:	8c42e040 	lw	v0,-8128(v0)
80016bcc:	00000000 	nop
80016bd0:	1040000b 	beqz	v0,80016c00 <schedule+0x70>
80016bd4:	00000000 	nop
/home/git/21371068/kern/sched.c:38 (discriminator 2)
80016bd8:	8fc20010 	lw	v0,16(s8)
80016bdc:	00000000 	nop
80016be0:	10400007 	beqz	v0,80016c00 <schedule+0x70>
80016be4:	00000000 	nop
/home/git/21371068/kern/sched.c:38 (discriminator 3)
80016be8:	8fc20010 	lw	v0,16(s8)
80016bec:	00000000 	nop
80016bf0:	8c4300ac 	lw	v1,172(v0)
80016bf4:	24020001 	li	v0,1
80016bf8:	1062005b 	beq	v1,v0,80016d68 <schedule+0x1d8>
80016bfc:	00000000 	nop
/home/git/21371068/kern/sched.c:39
		if (e != NULL) {
80016c00:	8fc20010 	lw	v0,16(s8)
80016c04:	00000000 	nop
80016c08:	1040001f 	beqz	v0,80016c88 <schedule+0xf8>
80016c0c:	00000000 	nop
/home/git/21371068/kern/sched.c:40
			TAILQ_REMOVE(&env_sched_list, e, env_sched_link);
80016c10:	8fc20010 	lw	v0,16(s8)
80016c14:	00000000 	nop
80016c18:	8c4200b4 	lw	v0,180(v0)
80016c1c:	00000000 	nop
80016c20:	1040000b 	beqz	v0,80016c50 <schedule+0xc0>
80016c24:	00000000 	nop
/home/git/21371068/kern/sched.c:40 (discriminator 1)
80016c28:	8fc20010 	lw	v0,16(s8)
80016c2c:	00000000 	nop
80016c30:	8c4200b4 	lw	v0,180(v0)
80016c34:	8fc30010 	lw	v1,16(s8)
80016c38:	00000000 	nop
80016c3c:	8c6300b8 	lw	v1,184(v1)
80016c40:	00000000 	nop
80016c44:	ac4300b8 	sw	v1,184(v0)
80016c48:	10000007 	b	80016c68 <schedule+0xd8>
80016c4c:	00000000 	nop
/home/git/21371068/kern/sched.c:40 (discriminator 2)
80016c50:	8fc20010 	lw	v0,16(s8)
80016c54:	00000000 	nop
80016c58:	8c4300b8 	lw	v1,184(v0)
80016c5c:	3c02800d 	lui	v0,0x800d
80016c60:	2442e004 	addiu	v0,v0,-8188
80016c64:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/sched.c:40 (discriminator 4)
80016c68:	8fc20010 	lw	v0,16(s8)
80016c6c:	00000000 	nop
80016c70:	8c4200b8 	lw	v0,184(v0)
80016c74:	8fc30010 	lw	v1,16(s8)
80016c78:	00000000 	nop
80016c7c:	8c6300b4 	lw	v1,180(v1)
80016c80:	00000000 	nop
80016c84:	ac430000 	sw	v1,0(v0)
/home/git/21371068/kern/sched.c:42
		}
		if (e != NULL && e->env_status == ENV_RUNNABLE) {
80016c88:	8fc20010 	lw	v0,16(s8)
80016c8c:	00000000 	nop
80016c90:	1040001c 	beqz	v0,80016d04 <schedule+0x174>
80016c94:	00000000 	nop
/home/git/21371068/kern/sched.c:42 (discriminator 1)
80016c98:	8fc20010 	lw	v0,16(s8)
80016c9c:	00000000 	nop
80016ca0:	8c4300ac 	lw	v1,172(v0)
80016ca4:	24020001 	li	v0,1
80016ca8:	14620016 	bne	v1,v0,80016d04 <schedule+0x174>
80016cac:	00000000 	nop
/home/git/21371068/kern/sched.c:43
			TAILQ_INSERT_TAIL(&env_sched_list, e, env_sched_link);
80016cb0:	8fc20010 	lw	v0,16(s8)
80016cb4:	00000000 	nop
80016cb8:	ac4000b4 	sw	zero,180(v0)
80016cbc:	3c02800d 	lui	v0,0x800d
80016cc0:	2442e004 	addiu	v0,v0,-8188
80016cc4:	8c430004 	lw	v1,4(v0)
80016cc8:	8fc20010 	lw	v0,16(s8)
80016ccc:	00000000 	nop
80016cd0:	ac4300b8 	sw	v1,184(v0)
80016cd4:	3c02800d 	lui	v0,0x800d
80016cd8:	2442e004 	addiu	v0,v0,-8188
80016cdc:	8c420004 	lw	v0,4(v0)
80016ce0:	8fc30010 	lw	v1,16(s8)
80016ce4:	00000000 	nop
80016ce8:	ac430000 	sw	v1,0(v0)
80016cec:	8fc20010 	lw	v0,16(s8)
80016cf0:	00000000 	nop
80016cf4:	244300b4 	addiu	v1,v0,180
80016cf8:	3c02800d 	lui	v0,0x800d
80016cfc:	2442e004 	addiu	v0,v0,-8188
80016d00:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/sched.c:45
		}
		if (TAILQ_EMPTY(&env_sched_list)) {
80016d04:	3c02800d 	lui	v0,0x800d
80016d08:	8c42e004 	lw	v0,-8188(v0)
80016d0c:	00000000 	nop
80016d10:	1440000a 	bnez	v0,80016d3c <schedule+0x1ac>
80016d14:	00000000 	nop
/home/git/21371068/kern/sched.c:46
			panic("schedule: no runnable envs");
80016d18:	3c028002 	lui	v0,0x8002
80016d1c:	24479500 	addiu	a3,v0,-27392
80016d20:	3c028002 	lui	v0,0x8002
80016d24:	24469524 	addiu	a2,v0,-27356
80016d28:	2405002e 	li	a1,46
80016d2c:	3c028002 	lui	v0,0x8002
80016d30:	2444951c 	addiu	a0,v0,-27364
80016d34:	0c004ff8 	jal	80013fe0 <_panic>
80016d38:	00000000 	nop
/home/git/21371068/kern/sched.c:48
		}
		e = TAILQ_FIRST(&env_sched_list);
80016d3c:	3c02800d 	lui	v0,0x800d
80016d40:	8c42e004 	lw	v0,-8188(v0)
80016d44:	00000000 	nop
80016d48:	afc20010 	sw	v0,16(s8)
/home/git/21371068/kern/sched.c:49
		count = e->env_pri;
80016d4c:	8fc20010 	lw	v0,16(s8)
80016d50:	00000000 	nop
80016d54:	8c4200bc 	lw	v0,188(v0)
80016d58:	00000000 	nop
80016d5c:	00401825 	move	v1,v0
80016d60:	3c02800d 	lui	v0,0x800d
80016d64:	ac43e040 	sw	v1,-8128(v0)
/home/git/21371068/kern/sched.c:51
	}
	count--;
80016d68:	3c02800d 	lui	v0,0x800d
80016d6c:	8c42e040 	lw	v0,-8128(v0)
80016d70:	00000000 	nop
80016d74:	2443ffff 	addiu	v1,v0,-1
80016d78:	3c02800d 	lui	v0,0x800d
80016d7c:	ac43e040 	sw	v1,-8128(v0)
/home/git/21371068/kern/sched.c:52
	env_run(e);
80016d80:	8fc40010 	lw	a0,16(s8)
80016d84:	0c004c90 	jal	80013240 <env_run>
80016d88:	00000000 	nop
80016d8c:	00000000 	nop

80016d90 <sys_putchar>:
sys_putchar():
/home/git/21371068/kern/syscall_all.c:17
 * 	This function is used to print a character on screen.
 *
 * Pre-Condition:
 * 	`c` is the character you want to print.
 */
void sys_putchar(int c) {
80016d90:	27bdffe8 	addiu	sp,sp,-24
80016d94:	afbf0014 	sw	ra,20(sp)
80016d98:	afbe0010 	sw	s8,16(sp)
80016d9c:	03a0f025 	move	s8,sp
80016da0:	afc40018 	sw	a0,24(s8)
/home/git/21371068/kern/syscall_all.c:18
	printcharc((char)c);
80016da4:	8fc20018 	lw	v0,24(s8)
80016da8:	00000000 	nop
80016dac:	00021600 	sll	v0,v0,0x18
80016db0:	00021603 	sra	v0,v0,0x18
80016db4:	00402025 	move	a0,v0
80016db8:	0c004684 	jal	80011a10 <printcharc>
80016dbc:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:19
	return;
80016dc0:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:20
}
80016dc4:	03c0e825 	move	sp,s8
80016dc8:	8fbf0014 	lw	ra,20(sp)
80016dcc:	8fbe0010 	lw	s8,16(sp)
80016dd0:	27bd0018 	addiu	sp,sp,24
80016dd4:	03e00008 	jr	ra
80016dd8:	00000000 	nop

80016ddc <sys_print_cons>:
sys_print_cons():
/home/git/21371068/kern/syscall_all.c:28
 * 	This function is used to print a string of bytes on screen.
 *
 * Pre-Condition:
 * 	`s` is base address of the string, and `num` is length of the string.
 */
int sys_print_cons(const void *s, u_int num) {
80016ddc:	27bdffe0 	addiu	sp,sp,-32
80016de0:	afbf001c 	sw	ra,28(sp)
80016de4:	afbe0018 	sw	s8,24(sp)
80016de8:	03a0f025 	move	s8,sp
80016dec:	afc40020 	sw	a0,32(s8)
80016df0:	afc50024 	sw	a1,36(s8)
/home/git/21371068/kern/syscall_all.c:29
	if (((u_int)s + num) > UTOP || ((u_int)s) >= UTOP || (s > s + num)) {
80016df4:	8fc30020 	lw	v1,32(s8)
80016df8:	8fc20024 	lw	v0,36(s8)
80016dfc:	00000000 	nop
80016e00:	00621821 	addu	v1,v1,v0
80016e04:	3c027f40 	lui	v0,0x7f40
80016e08:	34420001 	ori	v0,v0,0x1
80016e0c:	0062102b 	sltu	v0,v1,v0
80016e10:	1040000a 	beqz	v0,80016e3c <sys_print_cons+0x60>
80016e14:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:29 (discriminator 1)
80016e18:	8fc30020 	lw	v1,32(s8)
80016e1c:	3c027f40 	lui	v0,0x7f40
80016e20:	0062102b 	sltu	v0,v1,v0
80016e24:	10400005 	beqz	v0,80016e3c <sys_print_cons+0x60>
80016e28:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:29 (discriminator 2)
80016e2c:	8fc20024 	lw	v0,36(s8)
80016e30:	00000000 	nop
80016e34:	04410004 	bgez	v0,80016e48 <sys_print_cons+0x6c>
80016e38:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:30
		return -E_INVAL;
80016e3c:	2402fffd 	li	v0,-3
80016e40:	10000018 	b	80016ea4 <sys_print_cons+0xc8>
80016e44:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:33
	}
	u_int i;
	for (i = 0; i < num; i++) {
80016e48:	afc00010 	sw	zero,16(s8)
80016e4c:	1000000e 	b	80016e88 <sys_print_cons+0xac>
80016e50:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:34 (discriminator 3)
		printcharc(((char *)s)[i]);
80016e54:	8fc30020 	lw	v1,32(s8)
80016e58:	8fc20010 	lw	v0,16(s8)
80016e5c:	00000000 	nop
80016e60:	00621021 	addu	v0,v1,v0
80016e64:	80420000 	lb	v0,0(v0)
80016e68:	00000000 	nop
80016e6c:	00402025 	move	a0,v0
80016e70:	0c004684 	jal	80011a10 <printcharc>
80016e74:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:33 (discriminator 3)
	for (i = 0; i < num; i++) {
80016e78:	8fc20010 	lw	v0,16(s8)
80016e7c:	00000000 	nop
80016e80:	24420001 	addiu	v0,v0,1
80016e84:	afc20010 	sw	v0,16(s8)
/home/git/21371068/kern/syscall_all.c:33 (discriminator 1)
80016e88:	8fc30010 	lw	v1,16(s8)
80016e8c:	8fc20024 	lw	v0,36(s8)
80016e90:	00000000 	nop
80016e94:	0062102b 	sltu	v0,v1,v0
80016e98:	1440ffee 	bnez	v0,80016e54 <sys_print_cons+0x78>
80016e9c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:36
	}
	return 0;
80016ea0:	00001025 	move	v0,zero
/home/git/21371068/kern/syscall_all.c:37
}
80016ea4:	03c0e825 	move	sp,s8
80016ea8:	8fbf001c 	lw	ra,28(sp)
80016eac:	8fbe0018 	lw	s8,24(sp)
80016eb0:	27bd0020 	addiu	sp,sp,32
80016eb4:	03e00008 	jr	ra
80016eb8:	00000000 	nop

80016ebc <sys_getenvid>:
sys_getenvid():
/home/git/21371068/kern/syscall_all.c:45
 *	This function provides the environment id of current process.
 *
 * Post-Condition:
 * 	return the current environment id
 */
u_int sys_getenvid(void) {
80016ebc:	27bdfff8 	addiu	sp,sp,-8
80016ec0:	afbe0004 	sw	s8,4(sp)
80016ec4:	03a0f025 	move	s8,sp
/home/git/21371068/kern/syscall_all.c:46
	return curenv->env_id;
80016ec8:	3c02800d 	lui	v0,0x800d
80016ecc:	8c42e000 	lw	v0,-8192(v0)
80016ed0:	00000000 	nop
80016ed4:	8c4200a0 	lw	v0,160(v0)
/home/git/21371068/kern/syscall_all.c:47
}
80016ed8:	03c0e825 	move	sp,s8
80016edc:	8fbe0004 	lw	s8,4(sp)
80016ee0:	27bd0008 	addiu	sp,sp,8
80016ee4:	03e00008 	jr	ra
80016ee8:	00000000 	nop

80016eec <sys_yield>:
sys_yield():
/home/git/21371068/kern/syscall_all.c:59
 *
 * Hint:
 *   This function will never return.
 */
// void sys_yield(void);
void __attribute__((noreturn)) sys_yield(void) {
80016eec:	27bdffe8 	addiu	sp,sp,-24
80016ef0:	afbf0014 	sw	ra,20(sp)
80016ef4:	afbe0010 	sw	s8,16(sp)
80016ef8:	03a0f025 	move	s8,sp
/home/git/21371068/kern/syscall_all.c:62
	// Hint: Just use 'schedule' with 'yield' set.
	/* Exercise 4.7: Your code here. */
	schedule(1);
80016efc:	24040001 	li	a0,1
80016f00:	0c005ae4 	jal	80016b90 <schedule>
80016f04:	00000000 	nop

80016f08 <sys_env_destroy>:
sys_env_destroy():
/home/git/21371068/kern/syscall_all.c:77
 *
 * Post-Condition:
 *  Returns 0 on success.
 *  Returns the original error if underlying calls fail.
 */
int sys_env_destroy(u_int envid) {
80016f08:	27bdffe0 	addiu	sp,sp,-32
80016f0c:	afbf001c 	sw	ra,28(sp)
80016f10:	afbe0018 	sw	s8,24(sp)
80016f14:	03a0f025 	move	s8,sp
80016f18:	afc40020 	sw	a0,32(s8)
/home/git/21371068/kern/syscall_all.c:79
	struct Env *e;
	try(envid2env(envid, &e, 1));
80016f1c:	27c20014 	addiu	v0,s8,20
80016f20:	24060001 	li	a2,1
80016f24:	00402825 	move	a1,v0
80016f28:	8fc40020 	lw	a0,32(s8)
80016f2c:	0c004873 	jal	800121cc <envid2env>
80016f30:	00000000 	nop
80016f34:	afc20010 	sw	v0,16(s8)
80016f38:	8fc20010 	lw	v0,16(s8)
80016f3c:	00000000 	nop
80016f40:	10400004 	beqz	v0,80016f54 <sys_env_destroy+0x4c>
80016f44:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:79 (discriminator 1)
80016f48:	8fc20010 	lw	v0,16(s8)
80016f4c:	10000015 	b	80016fa4 <sys_env_destroy+0x9c>
80016f50:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:81

	printk("[%08x] destroying %08x\n", curenv->env_id, e->env_id);
80016f54:	3c02800d 	lui	v0,0x800d
80016f58:	8c42e000 	lw	v0,-8192(v0)
80016f5c:	00000000 	nop
80016f60:	8c4300a0 	lw	v1,160(v0)
80016f64:	8fc20014 	lw	v0,20(s8)
80016f68:	00000000 	nop
80016f6c:	8c4200a0 	lw	v0,160(v0)
80016f70:	00000000 	nop
80016f74:	00403025 	move	a2,v0
80016f78:	00602825 	move	a1,v1
80016f7c:	3c028002 	lui	v0,0x8002
80016f80:	24449530 	addiu	a0,v0,-27344
80016f84:	0c005a6d 	jal	800169b4 <printk>
80016f88:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:82
	env_destroy(e);
80016f8c:	8fc20014 	lw	v0,20(s8)
80016f90:	00000000 	nop
80016f94:	00402025 	move	a0,v0
80016f98:	0c004c68 	jal	800131a0 <env_destroy>
80016f9c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:83
	return 0;
80016fa0:	00001025 	move	v0,zero
/home/git/21371068/kern/syscall_all.c:84 (discriminator 1)
}
80016fa4:	03c0e825 	move	sp,s8
80016fa8:	8fbf001c 	lw	ra,28(sp)
80016fac:	8fbe0018 	lw	s8,24(sp)
80016fb0:	27bd0020 	addiu	sp,sp,32
80016fb4:	03e00008 	jr	ra
80016fb8:	00000000 	nop

80016fbc <sys_set_tlb_mod_entry>:
sys_set_tlb_mod_entry():
/home/git/21371068/kern/syscall_all.c:94
 * Post-Condition:
 *   The 'envid''s TLB Mod exception handler entry will be set to 'func'.
 *   Returns 0 on success.
 *   Returns the original error if underlying calls fail.
 */
int sys_set_tlb_mod_entry(u_int envid, u_int func) {
80016fbc:	27bdffe0 	addiu	sp,sp,-32
80016fc0:	afbf001c 	sw	ra,28(sp)
80016fc4:	afbe0018 	sw	s8,24(sp)
80016fc8:	03a0f025 	move	s8,sp
80016fcc:	afc40020 	sw	a0,32(s8)
80016fd0:	afc50024 	sw	a1,36(s8)
/home/git/21371068/kern/syscall_all.c:99
	struct Env *env;

	/* Step 1: Convert the envid to its corresponding 'struct Env *' using 'envid2env'. */
	/* Exercise 4.12: Your code here. (1/2) */
	try(envid2env(envid, &env, 1));
80016fd4:	27c20014 	addiu	v0,s8,20
80016fd8:	24060001 	li	a2,1
80016fdc:	00402825 	move	a1,v0
80016fe0:	8fc40020 	lw	a0,32(s8)
80016fe4:	0c004873 	jal	800121cc <envid2env>
80016fe8:	00000000 	nop
80016fec:	afc20010 	sw	v0,16(s8)
80016ff0:	8fc20010 	lw	v0,16(s8)
80016ff4:	00000000 	nop
80016ff8:	10400004 	beqz	v0,8001700c <sys_set_tlb_mod_entry+0x50>
80016ffc:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:99 (discriminator 1)
80017000:	8fc20010 	lw	v0,16(s8)
80017004:	10000006 	b	80017020 <sys_set_tlb_mod_entry+0x64>
80017008:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:102
	/* Step 2: Set its 'env_user_tlb_mod_entry' to 'func'. */
	/* Exercise 4.12: Your code here. (2/2) */
	env->env_user_tlb_mod_entry = func;
8001700c:	8fc20014 	lw	v0,20(s8)
80017010:	8fc30024 	lw	v1,36(s8)
80017014:	00000000 	nop
80017018:	ac4300d4 	sw	v1,212(v0)
/home/git/21371068/kern/syscall_all.c:103
	return 0;
8001701c:	00001025 	move	v0,zero
/home/git/21371068/kern/syscall_all.c:104 (discriminator 1)
}
80017020:	03c0e825 	move	sp,s8
80017024:	8fbf001c 	lw	ra,28(sp)
80017028:	8fbe0018 	lw	s8,24(sp)
8001702c:	27bd0020 	addiu	sp,sp,32
80017030:	03e00008 	jr	ra
80017034:	00000000 	nop

80017038 <is_illegal_va>:
is_illegal_va():
/home/git/21371068/kern/syscall_all.c:109

/* Overview:
 *   Check 'va' is illegal or not, according to include/mmu.h
 */
static inline int is_illegal_va(u_long va) {
80017038:	27bdfff8 	addiu	sp,sp,-8
8001703c:	afbe0004 	sw	s8,4(sp)
80017040:	03a0f025 	move	s8,sp
80017044:	afc40008 	sw	a0,8(s8)
/home/git/21371068/kern/syscall_all.c:110
	return va < UTEMP || va >= UTOP;
80017048:	8fc30008 	lw	v1,8(s8)
8001704c:	3c02003f 	lui	v0,0x3f
80017050:	3442e000 	ori	v0,v0,0xe000
80017054:	0062102b 	sltu	v0,v1,v0
80017058:	14400006 	bnez	v0,80017074 <is_illegal_va+0x3c>
8001705c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:110 (discriminator 2)
80017060:	8fc30008 	lw	v1,8(s8)
80017064:	3c027f40 	lui	v0,0x7f40
80017068:	0062102b 	sltu	v0,v1,v0
8001706c:	14400004 	bnez	v0,80017080 <is_illegal_va+0x48>
80017070:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:110 (discriminator 3)
80017074:	24020001 	li	v0,1
80017078:	10000002 	b	80017084 <is_illegal_va+0x4c>
8001707c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:110 (discriminator 4)
80017080:	00001025 	move	v0,zero
/home/git/21371068/kern/syscall_all.c:111 (discriminator 7)
}
80017084:	03c0e825 	move	sp,s8
80017088:	8fbe0004 	lw	s8,4(sp)
8001708c:	27bd0008 	addiu	sp,sp,8
80017090:	03e00008 	jr	ra
80017094:	00000000 	nop

80017098 <is_illegal_va_range>:
is_illegal_va_range():
/home/git/21371068/kern/syscall_all.c:113

static inline int is_illegal_va_range(u_long va, u_int len) {
80017098:	27bdfff8 	addiu	sp,sp,-8
8001709c:	afbe0004 	sw	s8,4(sp)
800170a0:	03a0f025 	move	s8,sp
800170a4:	afc40008 	sw	a0,8(s8)
800170a8:	afc5000c 	sw	a1,12(s8)
/home/git/21371068/kern/syscall_all.c:114
	if (len == 0) {
800170ac:	8fc2000c 	lw	v0,12(s8)
800170b0:	00000000 	nop
800170b4:	14400004 	bnez	v0,800170c8 <is_illegal_va_range+0x30>
800170b8:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:115
		return 0;
800170bc:	00001025 	move	v0,zero
800170c0:	1000001d 	b	80017138 <is_illegal_va_range+0xa0>
800170c4:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:117
	}
	return va + len < va || va < UTEMP || va + len > UTOP;
800170c8:	8fc30008 	lw	v1,8(s8)
800170cc:	8fc2000c 	lw	v0,12(s8)
800170d0:	00000000 	nop
800170d4:	00621021 	addu	v0,v1,v0
800170d8:	8fc30008 	lw	v1,8(s8)
800170dc:	00000000 	nop
800170e0:	0043102b 	sltu	v0,v0,v1
800170e4:	14400010 	bnez	v0,80017128 <is_illegal_va_range+0x90>
800170e8:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:117 (discriminator 2)
800170ec:	8fc30008 	lw	v1,8(s8)
800170f0:	3c02003f 	lui	v0,0x3f
800170f4:	3442e000 	ori	v0,v0,0xe000
800170f8:	0062102b 	sltu	v0,v1,v0
800170fc:	1440000a 	bnez	v0,80017128 <is_illegal_va_range+0x90>
80017100:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:117 (discriminator 4)
80017104:	8fc30008 	lw	v1,8(s8)
80017108:	8fc2000c 	lw	v0,12(s8)
8001710c:	00000000 	nop
80017110:	00621821 	addu	v1,v1,v0
80017114:	3c027f40 	lui	v0,0x7f40
80017118:	34420001 	ori	v0,v0,0x1
8001711c:	0062102b 	sltu	v0,v1,v0
80017120:	14400004 	bnez	v0,80017134 <is_illegal_va_range+0x9c>
80017124:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:117 (discriminator 5)
80017128:	24020001 	li	v0,1
8001712c:	10000002 	b	80017138 <is_illegal_va_range+0xa0>
80017130:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:117 (discriminator 6)
80017134:	00001025 	move	v0,zero
/home/git/21371068/kern/syscall_all.c:118
}
80017138:	03c0e825 	move	sp,s8
8001713c:	8fbe0004 	lw	s8,4(sp)
80017140:	27bd0008 	addiu	sp,sp,8
80017144:	03e00008 	jr	ra
80017148:	00000000 	nop

8001714c <sys_mem_alloc>:
sys_mem_alloc():
/home/git/21371068/kern/syscall_all.c:136
 *
 * Hint:
 *   You may want to use the following functions:
 *   'envid2env', 'page_alloc', 'page_insert', 'try' (macro)
 */
int sys_mem_alloc(u_int envid, u_int va, u_int perm) {
8001714c:	27bdffd0 	addiu	sp,sp,-48
80017150:	afbf002c 	sw	ra,44(sp)
80017154:	afbe0028 	sw	s8,40(sp)
80017158:	03a0f025 	move	s8,sp
8001715c:	afc40030 	sw	a0,48(s8)
80017160:	afc50034 	sw	a1,52(s8)
80017164:	afc60038 	sw	a2,56(s8)
/home/git/21371068/kern/syscall_all.c:142
	struct Env *env;
	struct Page *pp;

	/* Step 1: Check if 'va' is a legal user virtual address using 'is_illegal_va'. */
	/* Exercise 4.4: Your code here. (1/3) */
	if (is_illegal_va(va)) {
80017168:	8fc40034 	lw	a0,52(s8)
8001716c:	0c005c0e 	jal	80017038 <is_illegal_va>
80017170:	00000000 	nop
80017174:	10400004 	beqz	v0,80017188 <sys_mem_alloc+0x3c>
80017178:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:143
		return -E_INVAL;
8001717c:	2402fffd 	li	v0,-3
80017180:	10000028 	b	80017224 <sys_mem_alloc+0xd8>
80017184:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:149
	}
	/* except in function sys_ipc_try_send! */
	/* Step 2: Convert the envid to its corresponding 'struct Env *' using 'envid2env'. */
	/* Hint: **Always** validate the permission in syscalls! */
	/* Exercise 4.4: Your code here. (2/3) */
	if (0 != envid2env(envid, &env, 1)) {	// test 4-2: !envid2env() or 0 != envid2env())
80017188:	27c2001c 	addiu	v0,s8,28
8001718c:	24060001 	li	a2,1
80017190:	00402825 	move	a1,v0
80017194:	8fc40030 	lw	a0,48(s8)
80017198:	0c004873 	jal	800121cc <envid2env>
8001719c:	00000000 	nop
800171a0:	10400004 	beqz	v0,800171b4 <sys_mem_alloc+0x68>
800171a4:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:150
		return -E_BAD_ENV;
800171a8:	2402fffe 	li	v0,-2
800171ac:	1000001d 	b	80017224 <sys_mem_alloc+0xd8>
800171b0:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:154
	}
	/* Step 3: Allocate a physical page using 'page_alloc'. */
	/* Exercise 4.4: Your code here. (3/3) */
	try(page_alloc(&pp));
800171b4:	27c20020 	addiu	v0,s8,32
800171b8:	00402025 	move	a0,v0
800171bc:	0c0052b1 	jal	80014ac4 <page_alloc>
800171c0:	00000000 	nop
800171c4:	afc20018 	sw	v0,24(s8)
800171c8:	8fc20018 	lw	v0,24(s8)
800171cc:	00000000 	nop
800171d0:	10400004 	beqz	v0,800171e4 <sys_mem_alloc+0x98>
800171d4:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:154 (discriminator 1)
800171d8:	8fc20018 	lw	v0,24(s8)
800171dc:	10000011 	b	80017224 <sys_mem_alloc+0xd8>
800171e0:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:156
	/* Step 4: Map the allocated page at 'va' with permission 'perm' using 'page_insert'. */
	return page_insert(env->env_pgdir, env->env_asid, pp, va, perm);
800171e4:	8fc2001c 	lw	v0,28(s8)
800171e8:	00000000 	nop
800171ec:	8c4300b0 	lw	v1,176(v0)
800171f0:	8fc2001c 	lw	v0,28(s8)
800171f4:	00000000 	nop
800171f8:	8c4400a4 	lw	a0,164(v0)
800171fc:	8fc50020 	lw	a1,32(s8)
80017200:	8fc20038 	lw	v0,56(s8)
80017204:	00000000 	nop
80017208:	afa20010 	sw	v0,16(sp)
8001720c:	8fc70034 	lw	a3,52(s8)
80017210:	00a03025 	move	a2,a1
80017214:	00802825 	move	a1,a0
80017218:	00602025 	move	a0,v1
8001721c:	0c005396 	jal	80014e58 <page_insert>
80017220:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:157 (discriminator 1)
}
80017224:	03c0e825 	move	sp,s8
80017228:	8fbf002c 	lw	ra,44(sp)
8001722c:	8fbe0028 	lw	s8,40(sp)
80017230:	27bd0030 	addiu	sp,sp,48
80017234:	03e00008 	jr	ra
80017238:	00000000 	nop

8001723c <sys_mem_map>:
sys_mem_map():
/home/git/21371068/kern/syscall_all.c:173
 *
 * Hint:
 *   You may want to use the following functions:
 *   'envid2env', 'page_lookup', 'page_insert'
 */
int sys_mem_map(u_int srcid, u_int srcva, u_int dstid, u_int dstva, u_int perm) {
8001723c:	27bdffd0 	addiu	sp,sp,-48
80017240:	afbf002c 	sw	ra,44(sp)
80017244:	afbe0028 	sw	s8,40(sp)
80017248:	03a0f025 	move	s8,sp
8001724c:	afc40030 	sw	a0,48(s8)
80017250:	afc50034 	sw	a1,52(s8)
80017254:	afc60038 	sw	a2,56(s8)
80017258:	afc7003c 	sw	a3,60(s8)
/home/git/21371068/kern/syscall_all.c:181
	struct Page *pp;
	//printk("mem_map:va is %x\n", srcva);
	/* Step 1: Check if 'srcva' and 'dstva' are legal user virtual addresses using
	 * 'is_illegal_va'. */
	/* Exercise 4.5: Your code here. (1/4) */
	if (is_illegal_va(srcva) || is_illegal_va(dstva)) {
8001725c:	8fc40034 	lw	a0,52(s8)
80017260:	0c005c0e 	jal	80017038 <is_illegal_va>
80017264:	00000000 	nop
80017268:	14400006 	bnez	v0,80017284 <sys_mem_map+0x48>
8001726c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:181 (discriminator 1)
80017270:	8fc4003c 	lw	a0,60(s8)
80017274:	0c005c0e 	jal	80017038 <is_illegal_va>
80017278:	00000000 	nop
8001727c:	10400004 	beqz	v0,80017290 <sys_mem_map+0x54>
80017280:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:183
		// printk("invaild va: %x or %x\n", srcva, dstva);
		return -E_INVAL;
80017284:	2402fffd 	li	v0,-3
80017288:	10000036 	b	80017364 <sys_mem_map+0x128>
8001728c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:187
	}
	/* Step 2: Convert the 'srcid' to its corresponding 'struct Env *' using 'envid2env'. */
	/* Exercise 4.5: Your code here. (2/4) */
	if (envid2env(srcid, &srcenv, 1)) {
80017290:	27c2001c 	addiu	v0,s8,28
80017294:	24060001 	li	a2,1
80017298:	00402825 	move	a1,v0
8001729c:	8fc40030 	lw	a0,48(s8)
800172a0:	0c004873 	jal	800121cc <envid2env>
800172a4:	00000000 	nop
800172a8:	10400004 	beqz	v0,800172bc <sys_mem_map+0x80>
800172ac:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:189
		// printk("bad env2! envid2env(%x, &srcenv, 1)\n", srcid);
		return -E_BAD_ENV;
800172b0:	2402fffe 	li	v0,-2
800172b4:	1000002b 	b	80017364 <sys_mem_map+0x128>
800172b8:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:193
	}
	/* Step 3: Convert the 'dstid' to its corresponding 'struct Env *' using 'envid2env'. */
	/* Exercise 4.5: Your code here. (3/4) */
	if (envid2env(dstid, &dstenv, 1)) {
800172bc:	27c20020 	addiu	v0,s8,32
800172c0:	24060001 	li	a2,1
800172c4:	00402825 	move	a1,v0
800172c8:	8fc40038 	lw	a0,56(s8)
800172cc:	0c004873 	jal	800121cc <envid2env>
800172d0:	00000000 	nop
800172d4:	10400004 	beqz	v0,800172e8 <sys_mem_map+0xac>
800172d8:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:195
		// printk("bad env2! envid2env(%x, &dstenv, 1)\n", dstid);
		return -E_BAD_ENV;
800172dc:	2402fffe 	li	v0,-2
800172e0:	10000020 	b	80017364 <sys_mem_map+0x128>
800172e4:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:200
	}
	/* Step 4: Find the physical page mapped at 'srcva' in the address space of 'srcid'. */
	/* Return -E_INVAL if 'srcva' is not mapped. */
	/* Exercise 4.5: Your code here. (4/4) */
	if ((pp = page_lookup(srcenv->env_pgdir, srcva, NULL)) == NULL) {
800172e8:	8fc2001c 	lw	v0,28(s8)
800172ec:	00000000 	nop
800172f0:	8c4200b0 	lw	v0,176(v0)
800172f4:	00003025 	move	a2,zero
800172f8:	8fc50034 	lw	a1,52(s8)
800172fc:	00402025 	move	a0,v0
80017300:	0c005401 	jal	80015004 <page_lookup>
80017304:	00000000 	nop
80017308:	afc20018 	sw	v0,24(s8)
8001730c:	8fc20018 	lw	v0,24(s8)
80017310:	00000000 	nop
80017314:	14400004 	bnez	v0,80017328 <sys_mem_map+0xec>
80017318:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:201
		return -E_INVAL;
8001731c:	2402fffd 	li	v0,-3
80017320:	10000010 	b	80017364 <sys_mem_map+0x128>
80017324:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:205
	}
	/* Step 5: Map the physical page at 'dstva' in the address space of 'dstid'. */
	//printk("arrive\n");
	return page_insert(dstenv->env_pgdir, dstenv->env_asid, pp, dstva, perm);
80017328:	8fc20020 	lw	v0,32(s8)
8001732c:	00000000 	nop
80017330:	8c4300b0 	lw	v1,176(v0)
80017334:	8fc20020 	lw	v0,32(s8)
80017338:	00000000 	nop
8001733c:	8c4400a4 	lw	a0,164(v0)
80017340:	8fc20040 	lw	v0,64(s8)
80017344:	00000000 	nop
80017348:	afa20010 	sw	v0,16(sp)
8001734c:	8fc7003c 	lw	a3,60(s8)
80017350:	8fc60018 	lw	a2,24(s8)
80017354:	00802825 	move	a1,a0
80017358:	00602025 	move	a0,v1
8001735c:	0c005396 	jal	80014e58 <page_insert>
80017360:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:206 (discriminator 1)
}
80017364:	03c0e825 	move	sp,s8
80017368:	8fbf002c 	lw	ra,44(sp)
8001736c:	8fbe0028 	lw	s8,40(sp)
80017370:	27bd0030 	addiu	sp,sp,48
80017374:	03e00008 	jr	ra
80017378:	00000000 	nop

8001737c <sys_mem_unmap>:
sys_mem_unmap():
/home/git/21371068/kern/syscall_all.c:218
 *   Return 0 on success.
 *   Return -E_BAD_ENV: 'checkperm' of 'envid2env' fails for 'envid'.
 *   Return -E_INVAL:   'va' is illegal.
 *   Return the original error when underlying calls fail.
 */
int sys_mem_unmap(u_int envid, u_int va) {
8001737c:	27bdffe0 	addiu	sp,sp,-32
80017380:	afbf001c 	sw	ra,28(sp)
80017384:	afbe0018 	sw	s8,24(sp)
80017388:	03a0f025 	move	s8,sp
8001738c:	afc40020 	sw	a0,32(s8)
80017390:	afc50024 	sw	a1,36(s8)
/home/git/21371068/kern/syscall_all.c:223
	struct Env *e;

	/* Step 1: Check if 'va' is a legal user virtual address using 'is_illegal_va'. */
	/* Exercise 4.6: Your code here. (1/2) */
	if (is_illegal_va(va)) {
80017394:	8fc40024 	lw	a0,36(s8)
80017398:	0c005c0e 	jal	80017038 <is_illegal_va>
8001739c:	00000000 	nop
800173a0:	10400004 	beqz	v0,800173b4 <sys_mem_unmap+0x38>
800173a4:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:224
		return -E_INVAL;
800173a8:	2402fffd 	li	v0,-3
800173ac:	10000018 	b	80017410 <sys_mem_unmap+0x94>
800173b0:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:228
	}
	/* Step 2: Convert the envid to its corresponding 'struct Env *' using 'envid2env'. */
	/* Exercise 4.6: Your code here. (2/2) */
	if (envid2env(envid, &e, 1)) {
800173b4:	24060001 	li	a2,1
800173b8:	27c20010 	addiu	v0,s8,16
800173bc:	00402825 	move	a1,v0
800173c0:	8fc40020 	lw	a0,32(s8)
800173c4:	0c004873 	jal	800121cc <envid2env>
800173c8:	00000000 	nop
800173cc:	10400004 	beqz	v0,800173e0 <sys_mem_unmap+0x64>
800173d0:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:229
		return -E_BAD_ENV;
800173d4:	2402fffe 	li	v0,-2
800173d8:	1000000d 	b	80017410 <sys_mem_unmap+0x94>
800173dc:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:232
	}
	/* Step 3: Unmap the physical page at 'va' in the address space of 'envid'. */
	page_remove(e->env_pgdir, e->env_asid, va);
800173e0:	8fc20010 	lw	v0,16(s8)
800173e4:	00000000 	nop
800173e8:	8c4300b0 	lw	v1,176(v0)
800173ec:	8fc20010 	lw	v0,16(s8)
800173f0:	00000000 	nop
800173f4:	8c4200a4 	lw	v0,164(v0)
800173f8:	8fc60024 	lw	a2,36(s8)
800173fc:	00402825 	move	a1,v0
80017400:	00602025 	move	a0,v1
80017404:	0c005464 	jal	80015190 <page_remove>
80017408:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:233
	return 0;
8001740c:	00001025 	move	v0,zero
/home/git/21371068/kern/syscall_all.c:234 (discriminator 1)
}
80017410:	03c0e825 	move	sp,s8
80017414:	8fbf001c 	lw	ra,28(sp)
80017418:	8fbe0018 	lw	s8,24(sp)
8001741c:	27bd0020 	addiu	sp,sp,32
80017420:	03e00008 	jr	ra
80017424:	00000000 	nop

80017428 <sys_exofork>:
sys_exofork():
/home/git/21371068/kern/syscall_all.c:250
 *   Returns the original error if underlying calls fail.
 *
 * Hint:
 *   This syscall works as an essential step in user-space 'fork' and 'spawn'.
 */
int sys_exofork(void) {
80017428:	27bdffe0 	addiu	sp,sp,-32
8001742c:	afbf001c 	sw	ra,28(sp)
80017430:	afbe0018 	sw	s8,24(sp)
80017434:	03a0f025 	move	s8,sp
/home/git/21371068/kern/syscall_all.c:255
	struct Env *e;

	/* Step 1: Allocate a new env using 'env_alloc'. */
	/* Exercise 4.9: Your code here. (1/4) */
	try(env_alloc(&e, curenv->env_id));
80017438:	3c02800d 	lui	v0,0x800d
8001743c:	8c42e000 	lw	v0,-8192(v0)
80017440:	00000000 	nop
80017444:	8c4200a0 	lw	v0,160(v0)
80017448:	27c30014 	addiu	v1,s8,20
8001744c:	00402825 	move	a1,v0
80017450:	00602025 	move	a0,v1
80017454:	0c004a11 	jal	80012844 <env_alloc>
80017458:	00000000 	nop
8001745c:	afc20010 	sw	v0,16(s8)
80017460:	8fc20010 	lw	v0,16(s8)
80017464:	00000000 	nop
80017468:	10400004 	beqz	v0,8001747c <sys_exofork+0x54>
8001746c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:255 (discriminator 1)
80017470:	8fc20010 	lw	v0,16(s8)
80017474:	1000001a 	b	800174e0 <sys_exofork+0xb8>
80017478:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:258
	/* Step 2: Copy the current Trapframe below 'KSTACKTOP' to the new env's 'env_tf'. */
	/* Exercise 4.9: Your code here. (2/4) */
	e->env_tf = *((struct Trapframe *)KSTACKTOP - 1);
8001747c:	3c02803f 	lui	v0,0x803f
80017480:	3442ff68 	ori	v0,v0,0xff68
80017484:	8fc30014 	lw	v1,20(s8)
80017488:	00402025 	move	a0,v0
8001748c:	24020098 	li	v0,152
80017490:	00403025 	move	a2,v0
80017494:	00802825 	move	a1,a0
80017498:	00602025 	move	a0,v1
8001749c:	0c0044d8 	jal	80011360 <memcpy>
800174a0:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:262
	// e->env_tf = curenv->env_tf;
	/* Step 3: Set the new env's 'env_tf.regs[2]' to 0 to indicate the return value in child. */
	/* Exercise 4.9: Your code here. (3/4) */
	e->env_tf.regs[2] = 0;
800174a4:	8fc20014 	lw	v0,20(s8)
800174a8:	00000000 	nop
800174ac:	ac400008 	sw	zero,8(v0)
/home/git/21371068/kern/syscall_all.c:265
	/* Step 4: Set up the new env's 'env_status' and 'env_pri'.  */
	/* Exercise 4.9: Your code here. (4/4) */
	e->env_status = ENV_NOT_RUNNABLE;
800174b0:	8fc20014 	lw	v0,20(s8)
800174b4:	24030002 	li	v1,2
800174b8:	ac4300ac 	sw	v1,172(v0)
/home/git/21371068/kern/syscall_all.c:266
	e->env_pri = curenv->env_pri;
800174bc:	3c02800d 	lui	v0,0x800d
800174c0:	8c43e000 	lw	v1,-8192(v0)
800174c4:	8fc20014 	lw	v0,20(s8)
800174c8:	8c6300bc 	lw	v1,188(v1)
800174cc:	00000000 	nop
800174d0:	ac4300bc 	sw	v1,188(v0)
/home/git/21371068/kern/syscall_all.c:267
	return e->env_id;
800174d4:	8fc20014 	lw	v0,20(s8)
800174d8:	00000000 	nop
800174dc:	8c4200a0 	lw	v0,160(v0)
/home/git/21371068/kern/syscall_all.c:268 (discriminator 1)
}
800174e0:	03c0e825 	move	sp,s8
800174e4:	8fbf001c 	lw	ra,28(sp)
800174e8:	8fbe0018 	lw	s8,24(sp)
800174ec:	27bd0020 	addiu	sp,sp,32
800174f0:	03e00008 	jr	ra
800174f4:	00000000 	nop

800174f8 <sys_set_env_status>:
sys_set_env_status():
/home/git/21371068/kern/syscall_all.c:282
 *
 * Hint:
 *   The invariant that 'env_sched_list' contains and only contains all runnable envs should be
 *   maintained.
 */
int sys_set_env_status(u_int envid, u_int status) {
800174f8:	27bdffe0 	addiu	sp,sp,-32
800174fc:	afbf001c 	sw	ra,28(sp)
80017500:	afbe0018 	sw	s8,24(sp)
80017504:	03a0f025 	move	s8,sp
80017508:	afc40020 	sw	a0,32(s8)
8001750c:	afc50024 	sw	a1,36(s8)
/home/git/21371068/kern/syscall_all.c:287
	struct Env *env;

	/* Step 1: Check if 'status' is valid. */
	/* Exercise 4.14: Your code here. (1/3) */
	if (status != ENV_RUNNABLE && status != ENV_NOT_RUNNABLE) {
80017510:	8fc30024 	lw	v1,36(s8)
80017514:	24020001 	li	v0,1
80017518:	10620008 	beq	v1,v0,8001753c <sys_set_env_status+0x44>
8001751c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:287 (discriminator 1)
80017520:	8fc30024 	lw	v1,36(s8)
80017524:	24020002 	li	v0,2
80017528:	10620004 	beq	v1,v0,8001753c <sys_set_env_status+0x44>
8001752c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:288
		return -E_INVAL;
80017530:	2402fffd 	li	v0,-3
80017534:	1000002d 	b	800175ec <sys_set_env_status+0xf4>
80017538:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:292
	}
	/* Step 2: Convert the envid to its corresponding 'struct Env *' using 'envid2env'. */
	/* Exercise 4.14: Your code here. (2/3) */
	try(envid2env(envid, &env, 1));
8001753c:	27c20014 	addiu	v0,s8,20
80017540:	24060001 	li	a2,1
80017544:	00402825 	move	a1,v0
80017548:	8fc40020 	lw	a0,32(s8)
8001754c:	0c004873 	jal	800121cc <envid2env>
80017550:	00000000 	nop
80017554:	afc20010 	sw	v0,16(s8)
80017558:	8fc20010 	lw	v0,16(s8)
8001755c:	00000000 	nop
80017560:	10400004 	beqz	v0,80017574 <sys_set_env_status+0x7c>
80017564:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:292 (discriminator 1)
80017568:	8fc20010 	lw	v0,16(s8)
8001756c:	1000001f 	b	800175ec <sys_set_env_status+0xf4>
80017570:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:295
	/* Step 4: Update 'env_sched_list' if the 'env_status' of 'env' is being changed. */
	/* Exercise 4.14: Your code here. (3/3) */
	if (status == ENV_RUNNABLE) {
80017574:	8fc30024 	lw	v1,36(s8)
80017578:	24020001 	li	v0,1
8001757c:	14620016 	bne	v1,v0,800175d8 <sys_set_env_status+0xe0>
80017580:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:296
		TAILQ_INSERT_TAIL(&env_sched_list, env, env_sched_link);
80017584:	8fc20014 	lw	v0,20(s8)
80017588:	00000000 	nop
8001758c:	ac4000b4 	sw	zero,180(v0)
80017590:	8fc20014 	lw	v0,20(s8)
80017594:	3c03800d 	lui	v1,0x800d
80017598:	2463e004 	addiu	v1,v1,-8188
8001759c:	8c630004 	lw	v1,4(v1)
800175a0:	00000000 	nop
800175a4:	ac4300b8 	sw	v1,184(v0)
800175a8:	3c02800d 	lui	v0,0x800d
800175ac:	2442e004 	addiu	v0,v0,-8188
800175b0:	8c420004 	lw	v0,4(v0)
800175b4:	8fc30014 	lw	v1,20(s8)
800175b8:	00000000 	nop
800175bc:	ac430000 	sw	v1,0(v0)
800175c0:	8fc20014 	lw	v0,20(s8)
800175c4:	00000000 	nop
800175c8:	244300b4 	addiu	v1,v0,180
800175cc:	3c02800d 	lui	v0,0x800d
800175d0:	2442e004 	addiu	v0,v0,-8188
800175d4:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/syscall_all.c:299
	}
	/* Step 5: Set the 'env_status' of 'env'. */
	env->env_status = status;
800175d8:	8fc20014 	lw	v0,20(s8)
800175dc:	8fc30024 	lw	v1,36(s8)
800175e0:	00000000 	nop
800175e4:	ac4300ac 	sw	v1,172(v0)
/home/git/21371068/kern/syscall_all.c:300
	return 0;
800175e8:	00001025 	move	v0,zero
/home/git/21371068/kern/syscall_all.c:301 (discriminator 1)
}
800175ec:	03c0e825 	move	sp,s8
800175f0:	8fbf001c 	lw	ra,28(sp)
800175f4:	8fbe0018 	lw	s8,24(sp)
800175f8:	27bd0020 	addiu	sp,sp,32
800175fc:	03e00008 	jr	ra
80017600:	00000000 	nop

80017604 <sys_set_trapframe>:
sys_set_trapframe():
/home/git/21371068/kern/syscall_all.c:313
 *  Returns 0 on success (except when the 'envid' is the current env, so no value could be
 * returned).
 *  Returns -E_INVAL if the environment cannot be manipulated or 'tf' is invalid.
 *  Returns the original error if other underlying calls fail.
 */
int sys_set_trapframe(u_int envid, struct Trapframe *tf) {
80017604:	27bdffe0 	addiu	sp,sp,-32
80017608:	afbf001c 	sw	ra,28(sp)
8001760c:	afbe0018 	sw	s8,24(sp)
80017610:	03a0f025 	move	s8,sp
80017614:	afc40020 	sw	a0,32(s8)
80017618:	afc50024 	sw	a1,36(s8)
/home/git/21371068/kern/syscall_all.c:314
	if (is_illegal_va_range((u_long)tf, sizeof *tf)) {
8001761c:	8fc20024 	lw	v0,36(s8)
80017620:	24050098 	li	a1,152
80017624:	00402025 	move	a0,v0
80017628:	0c005c26 	jal	80017098 <is_illegal_va_range>
8001762c:	00000000 	nop
80017630:	10400004 	beqz	v0,80017644 <sys_set_trapframe+0x40>
80017634:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:315
		return -E_INVAL;
80017638:	2402fffd 	li	v0,-3
8001763c:	10000030 	b	80017700 <sys_set_trapframe+0xfc>
80017640:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:318
	}
	struct Env *env;
	try(envid2env(envid, &env, 1));
80017644:	27c20014 	addiu	v0,s8,20
80017648:	24060001 	li	a2,1
8001764c:	00402825 	move	a1,v0
80017650:	8fc40020 	lw	a0,32(s8)
80017654:	0c004873 	jal	800121cc <envid2env>
80017658:	00000000 	nop
8001765c:	afc20010 	sw	v0,16(s8)
80017660:	8fc20010 	lw	v0,16(s8)
80017664:	00000000 	nop
80017668:	10400004 	beqz	v0,8001767c <sys_set_trapframe+0x78>
8001766c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:318 (discriminator 1)
80017670:	8fc20010 	lw	v0,16(s8)
80017674:	10000022 	b	80017700 <sys_set_trapframe+0xfc>
80017678:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:319
	if (env == curenv) {
8001767c:	8fc30014 	lw	v1,20(s8)
80017680:	3c02800d 	lui	v0,0x800d
80017684:	8c42e000 	lw	v0,-8192(v0)
80017688:	00000000 	nop
8001768c:	14620011 	bne	v1,v0,800176d4 <sys_set_trapframe+0xd0>
80017690:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:320
		*((struct Trapframe *)KSTACKTOP - 1) = *tf;
80017694:	3c02803f 	lui	v0,0x803f
80017698:	3443ff68 	ori	v1,v0,0xff68
8001769c:	8fc20024 	lw	v0,36(s8)
800176a0:	00000000 	nop
800176a4:	00402025 	move	a0,v0
800176a8:	24020098 	li	v0,152
800176ac:	00403025 	move	a2,v0
800176b0:	00802825 	move	a1,a0
800176b4:	00602025 	move	a0,v1
800176b8:	0c0044d8 	jal	80011360 <memcpy>
800176bc:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:323
		// return `tf->regs[2]` instead of 0, because return value overrides regs[2] on
		// current trapframe.
		return tf->regs[2];
800176c0:	8fc20024 	lw	v0,36(s8)
800176c4:	00000000 	nop
800176c8:	8c420008 	lw	v0,8(v0)
800176cc:	1000000c 	b	80017700 <sys_set_trapframe+0xfc>
800176d0:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:325
	} else {
		env->env_tf = *tf;
800176d4:	8fc30014 	lw	v1,20(s8)
800176d8:	8fc20024 	lw	v0,36(s8)
800176dc:	00000000 	nop
800176e0:	00402025 	move	a0,v0
800176e4:	24020098 	li	v0,152
800176e8:	00403025 	move	a2,v0
800176ec:	00802825 	move	a1,a0
800176f0:	00602025 	move	a0,v1
800176f4:	0c0044d8 	jal	80011360 <memcpy>
800176f8:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:326
		return 0;
800176fc:	00001025 	move	v0,zero
/home/git/21371068/kern/syscall_all.c:328 (discriminator 1)
	}
}
80017700:	03c0e825 	move	sp,s8
80017704:	8fbf001c 	lw	ra,28(sp)
80017708:	8fbe0018 	lw	s8,24(sp)
8001770c:	27bd0020 	addiu	sp,sp,32
80017710:	03e00008 	jr	ra
80017714:	00000000 	nop

80017718 <sys_panic>:
sys_panic():
/home/git/21371068/kern/syscall_all.c:336
 * 	Kernel panic with message `msg`.
 *
 * Post-Condition:
 * 	This function will halt the system.
 */
void sys_panic(char *msg) {
80017718:	27bdffd8 	addiu	sp,sp,-40
8001771c:	afbf0024 	sw	ra,36(sp)
80017720:	afbe0020 	sw	s8,32(sp)
80017724:	03a0f025 	move	s8,sp
80017728:	afc40028 	sw	a0,40(s8)
/home/git/21371068/kern/syscall_all.c:337
	panic("%s", TRUP(msg));
8001772c:	8fc20028 	lw	v0,40(s8)
80017730:	00000000 	nop
80017734:	afc20018 	sw	v0,24(s8)
80017738:	8fc30018 	lw	v1,24(s8)
8001773c:	3c028000 	lui	v0,0x8000
80017740:	34420001 	ori	v0,v0,0x1
80017744:	0062102b 	sltu	v0,v1,v0
80017748:	10400004 	beqz	v0,8001775c <sys_panic+0x44>
8001774c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:337 (discriminator 1)
80017750:	8fc20018 	lw	v0,24(s8)
80017754:	10000002 	b	80017760 <sys_panic+0x48>
80017758:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:337 (discriminator 2)
8001775c:	3c028000 	lui	v0,0x8000
/home/git/21371068/kern/syscall_all.c:337 (discriminator 4)
80017760:	afa20010 	sw	v0,16(sp)
80017764:	3c028002 	lui	v0,0x8002
80017768:	24479548 	addiu	a3,v0,-27320
8001776c:	3c028002 	lui	v0,0x8002
80017770:	2446955c 	addiu	a2,v0,-27300
80017774:	24050151 	li	a1,337
80017778:	3c028002 	lui	v0,0x8002
8001777c:	2444954c 	addiu	a0,v0,-27316
80017780:	0c004ff8 	jal	80013fe0 <_panic>
80017784:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:338 (discriminator 4)
}
80017788:	00000000 	nop
8001778c:	03c0e825 	move	sp,s8
80017790:	8fbf0024 	lw	ra,36(sp)
80017794:	8fbe0020 	lw	s8,32(sp)
80017798:	27bd0028 	addiu	sp,sp,40
8001779c:	03e00008 	jr	ra
800177a0:	00000000 	nop

800177a4 <sys_ipc_recv>:
sys_ipc_recv():
/home/git/21371068/kern/syscall_all.c:348
 *
 * Post-Condition:
 *   Return 0 on success.
 *   Return -E_INVAL: 'dstva' is neither 0 nor a legal address.
 */
int sys_ipc_recv(u_int dstva) {
800177a4:	27bdffe8 	addiu	sp,sp,-24
800177a8:	afbf0014 	sw	ra,20(sp)
800177ac:	afbe0010 	sw	s8,16(sp)
800177b0:	03a0f025 	move	s8,sp
800177b4:	afc40018 	sw	a0,24(s8)
/home/git/21371068/kern/syscall_all.c:350
	/* Step 1: Check if 'dstva' is either zero or a legal address. */
	if (dstva != 0 && is_illegal_va(dstva)) {	// test 4-3: English "either or"
800177b8:	8fc20018 	lw	v0,24(s8)
800177bc:	00000000 	nop
800177c0:	10400009 	beqz	v0,800177e8 <sys_ipc_recv+0x44>
800177c4:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:350 (discriminator 1)
800177c8:	8fc40018 	lw	a0,24(s8)
800177cc:	0c005c0e 	jal	80017038 <is_illegal_va>
800177d0:	00000000 	nop
800177d4:	10400004 	beqz	v0,800177e8 <sys_ipc_recv+0x44>
800177d8:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:351
		return -E_INVAL;
800177dc:	2402fffd 	li	v0,-3
800177e0:	10000036 	b	800178bc <sys_ipc_recv+0x118>
800177e4:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:356
	}

	/* Step 2: Set 'curenv->env_ipc_recving' to 1. */
	/* Exercise 4.8: Your code here. (1/8) */
	curenv->env_ipc_recving = 1;
800177e8:	3c02800d 	lui	v0,0x800d
800177ec:	8c42e000 	lw	v0,-8192(v0)
800177f0:	24030001 	li	v1,1
800177f4:	ac4300c8 	sw	v1,200(v0)
/home/git/21371068/kern/syscall_all.c:359
	/* Step 3: Set the value of 'curenv->env_ipc_dstva'. */
	/* Exercise 4.8: Your code here. (2/8) */
	curenv->env_ipc_dstva = dstva;
800177f8:	3c02800d 	lui	v0,0x800d
800177fc:	8c42e000 	lw	v0,-8192(v0)
80017800:	8fc30018 	lw	v1,24(s8)
80017804:	00000000 	nop
80017808:	ac4300cc 	sw	v1,204(v0)
/home/git/21371068/kern/syscall_all.c:363
	/* Step 4: Set the status of 'curenv' to 'ENV_NOT_RUNNABLE' and remove it from
	 * 'env_sched_list'. */
	/* Exercise 4.8: Your code here. (3/8) */
	curenv->env_status = ENV_NOT_RUNNABLE;
8001780c:	3c02800d 	lui	v0,0x800d
80017810:	8c42e000 	lw	v0,-8192(v0)
80017814:	24030002 	li	v1,2
80017818:	ac4300ac 	sw	v1,172(v0)
/home/git/21371068/kern/syscall_all.c:364
	TAILQ_REMOVE(&env_sched_list, curenv, env_sched_link);
8001781c:	3c02800d 	lui	v0,0x800d
80017820:	8c42e000 	lw	v0,-8192(v0)
80017824:	00000000 	nop
80017828:	8c4200b4 	lw	v0,180(v0)
8001782c:	00000000 	nop
80017830:	1040000c 	beqz	v0,80017864 <sys_ipc_recv+0xc0>
80017834:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:364 (discriminator 1)
80017838:	3c02800d 	lui	v0,0x800d
8001783c:	8c43e000 	lw	v1,-8192(v0)
80017840:	3c02800d 	lui	v0,0x800d
80017844:	8c42e000 	lw	v0,-8192(v0)
80017848:	00000000 	nop
8001784c:	8c4200b4 	lw	v0,180(v0)
80017850:	8c6300b8 	lw	v1,184(v1)
80017854:	00000000 	nop
80017858:	ac4300b8 	sw	v1,184(v0)
8001785c:	10000008 	b	80017880 <sys_ipc_recv+0xdc>
80017860:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:364 (discriminator 2)
80017864:	3c02800d 	lui	v0,0x800d
80017868:	8c42e000 	lw	v0,-8192(v0)
8001786c:	00000000 	nop
80017870:	8c4300b8 	lw	v1,184(v0)
80017874:	3c02800d 	lui	v0,0x800d
80017878:	2442e004 	addiu	v0,v0,-8188
8001787c:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/syscall_all.c:364 (discriminator 4)
80017880:	3c02800d 	lui	v0,0x800d
80017884:	8c43e000 	lw	v1,-8192(v0)
80017888:	3c02800d 	lui	v0,0x800d
8001788c:	8c42e000 	lw	v0,-8192(v0)
80017890:	00000000 	nop
80017894:	8c4200b8 	lw	v0,184(v0)
80017898:	8c6300b4 	lw	v1,180(v1)
8001789c:	00000000 	nop
800178a0:	ac430000 	sw	v1,0(v0)
/home/git/21371068/kern/syscall_all.c:366 (discriminator 4)
	/* Step 5: Give up the CPU and block until a message is received. */
	((struct Trapframe *)KSTACKTOP - 1)->regs[2] = 0;
800178a4:	3c02803f 	lui	v0,0x803f
800178a8:	3442ff68 	ori	v0,v0,0xff68
800178ac:	ac400008 	sw	zero,8(v0)
/home/git/21371068/kern/syscall_all.c:367 (discriminator 4)
	schedule(1);
800178b0:	24040001 	li	a0,1
800178b4:	0c005ae4 	jal	80016b90 <schedule>
800178b8:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:368 (discriminator 1)
}
800178bc:	03c0e825 	move	sp,s8
800178c0:	8fbf0014 	lw	ra,20(sp)
800178c4:	8fbe0010 	lw	s8,16(sp)
800178c8:	27bd0018 	addiu	sp,sp,24
800178cc:	03e00008 	jr	ra
800178d0:	00000000 	nop

800178d4 <sys_ipc_try_send>:
sys_ipc_try_send():
/home/git/21371068/kern/syscall_all.c:386
 *
 *   Return -E_IPC_NOT_RECV if the target has not been waiting for an IPC message with
 *   'sys_ipc_recv'.
 *   Return the original error when underlying calls fail.
 */
int sys_ipc_try_send(u_int envid, u_int value, u_int srcva, u_int perm) {
800178d4:	27bdffd0 	addiu	sp,sp,-48
800178d8:	afbf002c 	sw	ra,44(sp)
800178dc:	afbe0028 	sw	s8,40(sp)
800178e0:	03a0f025 	move	s8,sp
800178e4:	afc40030 	sw	a0,48(s8)
800178e8:	afc50034 	sw	a1,52(s8)
800178ec:	afc60038 	sw	a2,56(s8)
800178f0:	afc7003c 	sw	a3,60(s8)
/home/git/21371068/kern/syscall_all.c:392
	struct Env *e;
	struct Page *p;

	/* Step 1: Check if 'srcva' is either zero or a legal address. */
	/* Exercise 4.8: Your code here. (4/8) */
	if (srcva != 0 && is_illegal_va(srcva)) {
800178f4:	8fc20038 	lw	v0,56(s8)
800178f8:	00000000 	nop
800178fc:	10400009 	beqz	v0,80017924 <sys_ipc_try_send+0x50>
80017900:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:392 (discriminator 1)
80017904:	8fc40038 	lw	a0,56(s8)
80017908:	0c005c0e 	jal	80017038 <is_illegal_va>
8001790c:	00000000 	nop
80017910:	10400004 	beqz	v0,80017924 <sys_ipc_try_send+0x50>
80017914:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:394
		// printk("srcva is bad! %x\n", srcva);
		return -E_INVAL;
80017918:	2402fffd 	li	v0,-3
8001791c:	10000075 	b	80017af4 <sys_ipc_try_send+0x220>
80017920:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:401
	/* Step 2: Convert 'envid' to 'struct Env *e'. */
	/* No-need to check the relationship, parallel env can transport messages. */
	/* This is the only syscall where the 'envid2env' should be used with 'checkperm' UNSET,
	 * because the target env is not restricted to 'curenv''s children. */
	/* Exercise 4.8: Your code here. (5/8) */
	if (0 != envid2env(envid, &e, 0)) {
80017924:	27c20020 	addiu	v0,s8,32
80017928:	00003025 	move	a2,zero
8001792c:	00402825 	move	a1,v0
80017930:	8fc40030 	lw	a0,48(s8)
80017934:	0c004873 	jal	800121cc <envid2env>
80017938:	00000000 	nop
8001793c:	10400004 	beqz	v0,80017950 <sys_ipc_try_send+0x7c>
80017940:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:403
		// printk("envid is bad! %x\n", envid);
		return -E_BAD_ENV;
80017944:	2402fffe 	li	v0,-2
80017948:	1000006a 	b	80017af4 <sys_ipc_try_send+0x220>
8001794c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:408
	}
	
	/* Step 3: Check if the target is waiting for a message. */
	/* Exercise 4.8: Your code here. (6/8) */
	if (e->env_ipc_recving == 0 || e->env_status != ENV_NOT_RUNNABLE) {
80017950:	8fc20020 	lw	v0,32(s8)
80017954:	00000000 	nop
80017958:	8c4200c8 	lw	v0,200(v0)
8001795c:	00000000 	nop
80017960:	10400007 	beqz	v0,80017980 <sys_ipc_try_send+0xac>
80017964:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:408 (discriminator 1)
80017968:	8fc20020 	lw	v0,32(s8)
8001796c:	00000000 	nop
80017970:	8c4300ac 	lw	v1,172(v0)
80017974:	24020002 	li	v0,2
80017978:	10620004 	beq	v1,v0,8001798c <sys_ipc_try_send+0xb8>
8001797c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:409
		return -E_IPC_NOT_RECV;
80017980:	2402fff9 	li	v0,-7
80017984:	1000005b 	b	80017af4 <sys_ipc_try_send+0x220>
80017988:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:412
	}
	/* Step 4: Set the target's ipc fields. */
	e->env_ipc_value = value;
8001798c:	8fc20020 	lw	v0,32(s8)
80017990:	8fc30034 	lw	v1,52(s8)
80017994:	00000000 	nop
80017998:	ac4300c0 	sw	v1,192(v0)
/home/git/21371068/kern/syscall_all.c:413
	e->env_ipc_from = curenv->env_id;
8001799c:	3c02800d 	lui	v0,0x800d
800179a0:	8c43e000 	lw	v1,-8192(v0)
800179a4:	8fc20020 	lw	v0,32(s8)
800179a8:	8c6300a0 	lw	v1,160(v1)
800179ac:	00000000 	nop
800179b0:	ac4300c4 	sw	v1,196(v0)
/home/git/21371068/kern/syscall_all.c:414
	e->env_ipc_perm = PTE_V | perm;
800179b4:	8fc20020 	lw	v0,32(s8)
800179b8:	8fc3003c 	lw	v1,60(s8)
800179bc:	00000000 	nop
800179c0:	34630200 	ori	v1,v1,0x200
800179c4:	ac4300d0 	sw	v1,208(v0)
/home/git/21371068/kern/syscall_all.c:415
	e->env_ipc_recving = 0;
800179c8:	8fc20020 	lw	v0,32(s8)
800179cc:	00000000 	nop
800179d0:	ac4000c8 	sw	zero,200(v0)
/home/git/21371068/kern/syscall_all.c:420

	/* Step 5: Set the target's status to 'ENV_RUNNABLE' again and insert it to the tail of
	 * 'env_sched_list'. */
	/* Exercise 4.8: Your code here. (7/8) */
	e->env_status = ENV_RUNNABLE;
800179d4:	8fc20020 	lw	v0,32(s8)
800179d8:	24030001 	li	v1,1
800179dc:	ac4300ac 	sw	v1,172(v0)
/home/git/21371068/kern/syscall_all.c:421
	TAILQ_INSERT_TAIL(&env_sched_list, e, env_sched_link);
800179e0:	8fc20020 	lw	v0,32(s8)
800179e4:	00000000 	nop
800179e8:	ac4000b4 	sw	zero,180(v0)
800179ec:	8fc20020 	lw	v0,32(s8)
800179f0:	3c03800d 	lui	v1,0x800d
800179f4:	2463e004 	addiu	v1,v1,-8188
800179f8:	8c630004 	lw	v1,4(v1)
800179fc:	00000000 	nop
80017a00:	ac4300b8 	sw	v1,184(v0)
80017a04:	3c02800d 	lui	v0,0x800d
80017a08:	2442e004 	addiu	v0,v0,-8188
80017a0c:	8c420004 	lw	v0,4(v0)
80017a10:	8fc30020 	lw	v1,32(s8)
80017a14:	00000000 	nop
80017a18:	ac430000 	sw	v1,0(v0)
80017a1c:	8fc20020 	lw	v0,32(s8)
80017a20:	00000000 	nop
80017a24:	244300b4 	addiu	v1,v0,180
80017a28:	3c02800d 	lui	v0,0x800d
80017a2c:	2442e004 	addiu	v0,v0,-8188
80017a30:	ac430004 	sw	v1,4(v0)
/home/git/21371068/kern/syscall_all.c:426
	/* Only link page while srcva != 0, to save running time */
	/* Step 6: If 'srcva' is not zero, map the page at 'srcva' in 'curenv' to 'e->env_ipc_dstva'
	 * in 'e'. */
	/* Return -E_INVAL if 'srcva' is not zero and not mapped in 'curenv'. */
	if (srcva != 0) {
80017a34:	8fc20038 	lw	v0,56(s8)
80017a38:	00000000 	nop
80017a3c:	1040002c 	beqz	v0,80017af0 <sys_ipc_try_send+0x21c>
80017a40:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:432
		/* Exercise 4.8: Your code here. (8/8) */
		// printk("4.8 is sys_mem_map(%x, %x, %x, %x, %x));\n", curenv->env_id, srcva, e->env_id, e->env_ipc_dstva, perm);
		// try(sys_mem_map(curenv->env_id, srcva, e->env_id, e->env_ipc_dstva, perm));
		// Test 4-5: do not use sys_mem_map() because it call function envid2env with perm == 1;
		// while two env communicating they may not have parent relatioinship
		p = page_lookup(curenv->env_pgdir, srcva, NULL);
80017a44:	3c02800d 	lui	v0,0x800d
80017a48:	8c42e000 	lw	v0,-8192(v0)
80017a4c:	00000000 	nop
80017a50:	8c4200b0 	lw	v0,176(v0)
80017a54:	00003025 	move	a2,zero
80017a58:	8fc50038 	lw	a1,56(s8)
80017a5c:	00402025 	move	a0,v0
80017a60:	0c005401 	jal	80015004 <page_lookup>
80017a64:	00000000 	nop
80017a68:	afc20018 	sw	v0,24(s8)
/home/git/21371068/kern/syscall_all.c:433
		if (NULL == p) {
80017a6c:	8fc20018 	lw	v0,24(s8)
80017a70:	00000000 	nop
80017a74:	14400004 	bnez	v0,80017a88 <sys_ipc_try_send+0x1b4>
80017a78:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:434
			return -E_INVAL;
80017a7c:	2402fffd 	li	v0,-3
80017a80:	1000001c 	b	80017af4 <sys_ipc_try_send+0x220>
80017a84:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:436
		} else {
			try(page_insert(e->env_pgdir, e->env_asid, p, e->env_ipc_dstva, perm));
80017a88:	8fc20020 	lw	v0,32(s8)
80017a8c:	00000000 	nop
80017a90:	8c4300b0 	lw	v1,176(v0)
80017a94:	8fc20020 	lw	v0,32(s8)
80017a98:	00000000 	nop
80017a9c:	8c4400a4 	lw	a0,164(v0)
80017aa0:	8fc20020 	lw	v0,32(s8)
80017aa4:	00000000 	nop
80017aa8:	8c4500cc 	lw	a1,204(v0)
80017aac:	8fc2003c 	lw	v0,60(s8)
80017ab0:	00000000 	nop
80017ab4:	afa20010 	sw	v0,16(sp)
80017ab8:	00a03825 	move	a3,a1
80017abc:	8fc60018 	lw	a2,24(s8)
80017ac0:	00802825 	move	a1,a0
80017ac4:	00602025 	move	a0,v1
80017ac8:	0c005396 	jal	80014e58 <page_insert>
80017acc:	00000000 	nop
80017ad0:	afc2001c 	sw	v0,28(s8)
80017ad4:	8fc2001c 	lw	v0,28(s8)
80017ad8:	00000000 	nop
80017adc:	10400004 	beqz	v0,80017af0 <sys_ipc_try_send+0x21c>
80017ae0:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:436 (discriminator 1)
80017ae4:	8fc2001c 	lw	v0,28(s8)
80017ae8:	10000002 	b	80017af4 <sys_ipc_try_send+0x220>
80017aec:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:439
		}
	}
	return 0;
80017af0:	00001025 	move	v0,zero
/home/git/21371068/kern/syscall_all.c:440 (discriminator 1)
}
80017af4:	03c0e825 	move	sp,s8
80017af8:	8fbf002c 	lw	ra,44(sp)
80017afc:	8fbe0028 	lw	s8,40(sp)
80017b00:	27bd0030 	addiu	sp,sp,48
80017b04:	03e00008 	jr	ra
80017b08:	00000000 	nop

80017b0c <sys_cgetc>:
sys_cgetc():
/home/git/21371068/kern/syscall_all.c:443

// XXX: kernel does busy waiting here, blocking all envs
int sys_cgetc(void) {
80017b0c:	27bdffe0 	addiu	sp,sp,-32
80017b10:	afbf001c 	sw	ra,28(sp)
80017b14:	afbe0018 	sw	s8,24(sp)
80017b18:	03a0f025 	move	s8,sp
/home/git/21371068/kern/syscall_all.c:445
	int ch;
	while ((ch = scancharc()) == 0) {
80017b1c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:445 (discriminator 1)
80017b20:	0c004693 	jal	80011a4c <scancharc>
80017b24:	00000000 	nop
80017b28:	afc20010 	sw	v0,16(s8)
80017b2c:	8fc20010 	lw	v0,16(s8)
80017b30:	00000000 	nop
80017b34:	1040fffa 	beqz	v0,80017b20 <sys_cgetc+0x14>
80017b38:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:447
	}
	return ch;
80017b3c:	8fc20010 	lw	v0,16(s8)
/home/git/21371068/kern/syscall_all.c:448
}
80017b40:	03c0e825 	move	sp,s8
80017b44:	8fbf001c 	lw	ra,28(sp)
80017b48:	8fbe0018 	lw	s8,24(sp)
80017b4c:	27bd0020 	addiu	sp,sp,32
80017b50:	03e00008 	jr	ra
80017b54:	00000000 	nop

80017b58 <sys_write_dev>:
sys_write_dev():
/home/git/21371068/kern/syscall_all.c:476
 *	|  console   | 0x10000000 | 0x20   | (dev_cons.h)
 *	|  IDE disk  | 0x13000000 | 0x4200 | (dev_disk.h)
 *	|    rtc     | 0x15000000 | 0x200  | (dev_rtc.h)
 *	* ---------------------------------*
 */
int sys_write_dev(u_int va, u_int pa, u_int len) {
80017b58:	27bdffe8 	addiu	sp,sp,-24
80017b5c:	afbf0014 	sw	ra,20(sp)
80017b60:	afbe0010 	sw	s8,16(sp)
80017b64:	03a0f025 	move	s8,sp
80017b68:	afc40018 	sw	a0,24(s8)
80017b6c:	afc5001c 	sw	a1,28(s8)
80017b70:	afc60020 	sw	a2,32(s8)
/home/git/21371068/kern/syscall_all.c:478
	/* Exercise 5.1: Your code here. (1/2) */
	if (is_illegal_va_range(va, len)) {
80017b74:	8fc50020 	lw	a1,32(s8)
80017b78:	8fc40018 	lw	a0,24(s8)
80017b7c:	0c005c26 	jal	80017098 <is_illegal_va_range>
80017b80:	00000000 	nop
80017b84:	10400004 	beqz	v0,80017b98 <sys_write_dev+0x40>
80017b88:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:479
		return -E_INVAL;
80017b8c:	2402fffd 	li	v0,-3
80017b90:	10000072 	b	80017d5c <sys_write_dev+0x204>
80017b94:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:482
	}

	if (pa < 0x10000000 || pa > 0x15000200) {
80017b98:	8fc3001c 	lw	v1,28(s8)
80017b9c:	3c021000 	lui	v0,0x1000
80017ba0:	0062102b 	sltu	v0,v1,v0
80017ba4:	14400007 	bnez	v0,80017bc4 <sys_write_dev+0x6c>
80017ba8:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:482 (discriminator 1)
80017bac:	8fc3001c 	lw	v1,28(s8)
80017bb0:	3c021500 	lui	v0,0x1500
80017bb4:	34420201 	ori	v0,v0,0x201
80017bb8:	0062102b 	sltu	v0,v1,v0
80017bbc:	14400004 	bnez	v0,80017bd0 <sys_write_dev+0x78>
80017bc0:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:483
		return -E_INVAL;
80017bc4:	2402fffd 	li	v0,-3
80017bc8:	10000064 	b	80017d5c <sys_write_dev+0x204>
80017bcc:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:487
	}

	// TEST 5-1: Forget to think about the illegal_pa in this part
	if ((pa >= 0x10000021 && pa < 0x13000000) || 
80017bd0:	8fc3001c 	lw	v1,28(s8)
80017bd4:	3c021000 	lui	v0,0x1000
80017bd8:	34420021 	ori	v0,v0,0x21
80017bdc:	0062102b 	sltu	v0,v1,v0
80017be0:	14400006 	bnez	v0,80017bfc <sys_write_dev+0xa4>
80017be4:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:487 (discriminator 1)
80017be8:	8fc3001c 	lw	v1,28(s8)
80017bec:	3c021300 	lui	v0,0x1300
80017bf0:	0062102b 	sltu	v0,v1,v0
80017bf4:	1440000c 	bnez	v0,80017c28 <sys_write_dev+0xd0>
80017bf8:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:487 (discriminator 3)
80017bfc:	8fc3001c 	lw	v1,28(s8)
80017c00:	3c021300 	lui	v0,0x1300
80017c04:	34424201 	ori	v0,v0,0x4201
80017c08:	0062102b 	sltu	v0,v1,v0
80017c0c:	14400009 	bnez	v0,80017c34 <sys_write_dev+0xdc>
80017c10:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:488
		(pa >= 0x13004201 && pa < 0x15000000)) {
80017c14:	8fc3001c 	lw	v1,28(s8)
80017c18:	3c021500 	lui	v0,0x1500
80017c1c:	0062102b 	sltu	v0,v1,v0
80017c20:	10400004 	beqz	v0,80017c34 <sys_write_dev+0xdc>
80017c24:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:489
		return -E_INVAL;
80017c28:	2402fffd 	li	v0,-3
80017c2c:	1000004b 	b	80017d5c <sys_write_dev+0x204>
80017c30:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:492
	}

	if ((pa >= 0x10000000 && pa <= 0x10000020 && (pa + len) > 0x10000020) ||
80017c34:	8fc3001c 	lw	v1,28(s8)
80017c38:	3c021000 	lui	v0,0x1000
80017c3c:	0062102b 	sltu	v0,v1,v0
80017c40:	14400010 	bnez	v0,80017c84 <sys_write_dev+0x12c>
80017c44:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:492 (discriminator 1)
80017c48:	8fc3001c 	lw	v1,28(s8)
80017c4c:	3c021000 	lui	v0,0x1000
80017c50:	34420021 	ori	v0,v0,0x21
80017c54:	0062102b 	sltu	v0,v1,v0
80017c58:	1040000a 	beqz	v0,80017c84 <sys_write_dev+0x12c>
80017c5c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:492 (discriminator 3)
80017c60:	8fc3001c 	lw	v1,28(s8)
80017c64:	8fc20020 	lw	v0,32(s8)
80017c68:	00000000 	nop
80017c6c:	00621821 	addu	v1,v1,v0
80017c70:	3c021000 	lui	v0,0x1000
80017c74:	34420021 	ori	v0,v0,0x21
80017c78:	0062102b 	sltu	v0,v1,v0
80017c7c:	10400029 	beqz	v0,80017d24 <sys_write_dev+0x1cc>
80017c80:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:492 (discriminator 5)
80017c84:	8fc3001c 	lw	v1,28(s8)
80017c88:	3c021300 	lui	v0,0x1300
80017c8c:	0062102b 	sltu	v0,v1,v0
80017c90:	14400010 	bnez	v0,80017cd4 <sys_write_dev+0x17c>
80017c94:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:493
	    (pa >= 0x13000000 && pa <= 0x13004200 && (pa + len) > 0x13004200) ||
80017c98:	8fc3001c 	lw	v1,28(s8)
80017c9c:	3c021300 	lui	v0,0x1300
80017ca0:	34424201 	ori	v0,v0,0x4201
80017ca4:	0062102b 	sltu	v0,v1,v0
80017ca8:	1040000a 	beqz	v0,80017cd4 <sys_write_dev+0x17c>
80017cac:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:493 (discriminator 1)
80017cb0:	8fc3001c 	lw	v1,28(s8)
80017cb4:	8fc20020 	lw	v0,32(s8)
80017cb8:	00000000 	nop
80017cbc:	00621821 	addu	v1,v1,v0
80017cc0:	3c021300 	lui	v0,0x1300
80017cc4:	34424201 	ori	v0,v0,0x4201
80017cc8:	0062102b 	sltu	v0,v1,v0
80017ccc:	10400015 	beqz	v0,80017d24 <sys_write_dev+0x1cc>
80017cd0:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:493 (discriminator 3)
80017cd4:	8fc3001c 	lw	v1,28(s8)
80017cd8:	3c021500 	lui	v0,0x1500
80017cdc:	0062102b 	sltu	v0,v1,v0
80017ce0:	14400013 	bnez	v0,80017d30 <sys_write_dev+0x1d8>
80017ce4:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:494
		(pa >= 0x15000000 && pa <= 0x15000200 && (pa + len) > 0x15000200)) {
80017ce8:	8fc3001c 	lw	v1,28(s8)
80017cec:	3c021500 	lui	v0,0x1500
80017cf0:	34420201 	ori	v0,v0,0x201
80017cf4:	0062102b 	sltu	v0,v1,v0
80017cf8:	1040000d 	beqz	v0,80017d30 <sys_write_dev+0x1d8>
80017cfc:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:494 (discriminator 1)
80017d00:	8fc3001c 	lw	v1,28(s8)
80017d04:	8fc20020 	lw	v0,32(s8)
80017d08:	00000000 	nop
80017d0c:	00621821 	addu	v1,v1,v0
80017d10:	3c021500 	lui	v0,0x1500
80017d14:	34420201 	ori	v0,v0,0x201
80017d18:	0062102b 	sltu	v0,v1,v0
80017d1c:	14400004 	bnez	v0,80017d30 <sys_write_dev+0x1d8>
80017d20:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:495
		return -E_INVAL;
80017d24:	2402fffd 	li	v0,-3
80017d28:	1000000c 	b	80017d5c <sys_write_dev+0x204>
80017d2c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:498
	}

	memcpy((void *) (KSEG1 + pa), (const void *) va, len);
80017d30:	8fc3001c 	lw	v1,28(s8)
80017d34:	3c02a000 	lui	v0,0xa000
80017d38:	00621021 	addu	v0,v1,v0
80017d3c:	00401825 	move	v1,v0
80017d40:	8fc20018 	lw	v0,24(s8)
80017d44:	8fc60020 	lw	a2,32(s8)
80017d48:	00402825 	move	a1,v0
80017d4c:	00602025 	move	a0,v1
80017d50:	0c0044d8 	jal	80011360 <memcpy>
80017d54:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:500

	return 0;
80017d58:	00001025 	move	v0,zero
/home/git/21371068/kern/syscall_all.c:501
}
80017d5c:	03c0e825 	move	sp,s8
80017d60:	8fbf0014 	lw	ra,20(sp)
80017d64:	8fbe0010 	lw	s8,16(sp)
80017d68:	27bd0018 	addiu	sp,sp,24
80017d6c:	03e00008 	jr	ra
80017d70:	00000000 	nop

80017d74 <sys_read_dev>:
sys_read_dev():
/home/git/21371068/kern/syscall_all.c:514
 *  Return 0 on success.
 *  Return -E_INVAL on bad address.
 *
 * Hint: You MUST use 'memcpy' to copy data after checking the validity.
 */
int sys_read_dev(u_int va, u_int pa, u_int len) {
80017d74:	27bdffe8 	addiu	sp,sp,-24
80017d78:	afbf0014 	sw	ra,20(sp)
80017d7c:	afbe0010 	sw	s8,16(sp)
80017d80:	03a0f025 	move	s8,sp
80017d84:	afc40018 	sw	a0,24(s8)
80017d88:	afc5001c 	sw	a1,28(s8)
80017d8c:	afc60020 	sw	a2,32(s8)
/home/git/21371068/kern/syscall_all.c:516
	/* Exercise 5.1: Your code here. (2/2) */
	if (is_illegal_va_range(va, len)) {
80017d90:	8fc50020 	lw	a1,32(s8)
80017d94:	8fc40018 	lw	a0,24(s8)
80017d98:	0c005c26 	jal	80017098 <is_illegal_va_range>
80017d9c:	00000000 	nop
80017da0:	10400004 	beqz	v0,80017db4 <sys_read_dev+0x40>
80017da4:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:517
		return -E_INVAL;
80017da8:	2402fffd 	li	v0,-3
80017dac:	10000070 	b	80017f70 <sys_read_dev+0x1fc>
80017db0:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:520
	}

	if (pa < 0x10000000 || pa > 0x15000200) {
80017db4:	8fc3001c 	lw	v1,28(s8)
80017db8:	3c021000 	lui	v0,0x1000
80017dbc:	0062102b 	sltu	v0,v1,v0
80017dc0:	14400007 	bnez	v0,80017de0 <sys_read_dev+0x6c>
80017dc4:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:520 (discriminator 1)
80017dc8:	8fc3001c 	lw	v1,28(s8)
80017dcc:	3c021500 	lui	v0,0x1500
80017dd0:	34420201 	ori	v0,v0,0x201
80017dd4:	0062102b 	sltu	v0,v1,v0
80017dd8:	14400004 	bnez	v0,80017dec <sys_read_dev+0x78>
80017ddc:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:521
		return -E_INVAL;
80017de0:	2402fffd 	li	v0,-3
80017de4:	10000062 	b	80017f70 <sys_read_dev+0x1fc>
80017de8:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:524
	}

	if ((pa >= 0x10000021 && pa < 0x13000000) ||
80017dec:	8fc3001c 	lw	v1,28(s8)
80017df0:	3c021000 	lui	v0,0x1000
80017df4:	34420021 	ori	v0,v0,0x21
80017df8:	0062102b 	sltu	v0,v1,v0
80017dfc:	14400006 	bnez	v0,80017e18 <sys_read_dev+0xa4>
80017e00:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:524 (discriminator 1)
80017e04:	8fc3001c 	lw	v1,28(s8)
80017e08:	3c021300 	lui	v0,0x1300
80017e0c:	0062102b 	sltu	v0,v1,v0
80017e10:	1440000c 	bnez	v0,80017e44 <sys_read_dev+0xd0>
80017e14:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:524 (discriminator 3)
80017e18:	8fc3001c 	lw	v1,28(s8)
80017e1c:	3c021300 	lui	v0,0x1300
80017e20:	34424201 	ori	v0,v0,0x4201
80017e24:	0062102b 	sltu	v0,v1,v0
80017e28:	14400009 	bnez	v0,80017e50 <sys_read_dev+0xdc>
80017e2c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:525
		(pa >= 0x13004201 && pa < 0x15000000)) {
80017e30:	8fc3001c 	lw	v1,28(s8)
80017e34:	3c021500 	lui	v0,0x1500
80017e38:	0062102b 	sltu	v0,v1,v0
80017e3c:	10400004 	beqz	v0,80017e50 <sys_read_dev+0xdc>
80017e40:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:526
		return -E_INVAL;
80017e44:	2402fffd 	li	v0,-3
80017e48:	10000049 	b	80017f70 <sys_read_dev+0x1fc>
80017e4c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:529
	}

	if ((pa >= 0x10000000 && pa <= 0x10000020 && (pa + len) > 0x10000020) ||
80017e50:	8fc3001c 	lw	v1,28(s8)
80017e54:	3c021000 	lui	v0,0x1000
80017e58:	0062102b 	sltu	v0,v1,v0
80017e5c:	14400010 	bnez	v0,80017ea0 <sys_read_dev+0x12c>
80017e60:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:529 (discriminator 1)
80017e64:	8fc3001c 	lw	v1,28(s8)
80017e68:	3c021000 	lui	v0,0x1000
80017e6c:	34420021 	ori	v0,v0,0x21
80017e70:	0062102b 	sltu	v0,v1,v0
80017e74:	1040000a 	beqz	v0,80017ea0 <sys_read_dev+0x12c>
80017e78:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:529 (discriminator 3)
80017e7c:	8fc3001c 	lw	v1,28(s8)
80017e80:	8fc20020 	lw	v0,32(s8)
80017e84:	00000000 	nop
80017e88:	00621821 	addu	v1,v1,v0
80017e8c:	3c021000 	lui	v0,0x1000
80017e90:	34420021 	ori	v0,v0,0x21
80017e94:	0062102b 	sltu	v0,v1,v0
80017e98:	10400029 	beqz	v0,80017f40 <sys_read_dev+0x1cc>
80017e9c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:529 (discriminator 5)
80017ea0:	8fc3001c 	lw	v1,28(s8)
80017ea4:	3c021300 	lui	v0,0x1300
80017ea8:	0062102b 	sltu	v0,v1,v0
80017eac:	14400010 	bnez	v0,80017ef0 <sys_read_dev+0x17c>
80017eb0:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:530
	    (pa >= 0x13000000 && pa <= 0x13004200 && (pa + len) > 0x13004200) ||
80017eb4:	8fc3001c 	lw	v1,28(s8)
80017eb8:	3c021300 	lui	v0,0x1300
80017ebc:	34424201 	ori	v0,v0,0x4201
80017ec0:	0062102b 	sltu	v0,v1,v0
80017ec4:	1040000a 	beqz	v0,80017ef0 <sys_read_dev+0x17c>
80017ec8:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:530 (discriminator 1)
80017ecc:	8fc3001c 	lw	v1,28(s8)
80017ed0:	8fc20020 	lw	v0,32(s8)
80017ed4:	00000000 	nop
80017ed8:	00621821 	addu	v1,v1,v0
80017edc:	3c021300 	lui	v0,0x1300
80017ee0:	34424201 	ori	v0,v0,0x4201
80017ee4:	0062102b 	sltu	v0,v1,v0
80017ee8:	10400015 	beqz	v0,80017f40 <sys_read_dev+0x1cc>
80017eec:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:530 (discriminator 3)
80017ef0:	8fc3001c 	lw	v1,28(s8)
80017ef4:	3c021500 	lui	v0,0x1500
80017ef8:	0062102b 	sltu	v0,v1,v0
80017efc:	14400013 	bnez	v0,80017f4c <sys_read_dev+0x1d8>
80017f00:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:531
		(pa >= 0x15000000 && pa <= 0x15000200 && (pa + len) > 0x15000200)) {
80017f04:	8fc3001c 	lw	v1,28(s8)
80017f08:	3c021500 	lui	v0,0x1500
80017f0c:	34420201 	ori	v0,v0,0x201
80017f10:	0062102b 	sltu	v0,v1,v0
80017f14:	1040000d 	beqz	v0,80017f4c <sys_read_dev+0x1d8>
80017f18:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:531 (discriminator 1)
80017f1c:	8fc3001c 	lw	v1,28(s8)
80017f20:	8fc20020 	lw	v0,32(s8)
80017f24:	00000000 	nop
80017f28:	00621821 	addu	v1,v1,v0
80017f2c:	3c021500 	lui	v0,0x1500
80017f30:	34420201 	ori	v0,v0,0x201
80017f34:	0062102b 	sltu	v0,v1,v0
80017f38:	14400004 	bnez	v0,80017f4c <sys_read_dev+0x1d8>
80017f3c:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:532
		return -E_INVAL;
80017f40:	2402fffd 	li	v0,-3
80017f44:	1000000a 	b	80017f70 <sys_read_dev+0x1fc>
80017f48:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:535
	}

	memcpy((void *) va, (const void *) (KSEG1 + pa), len);
80017f4c:	8fc40018 	lw	a0,24(s8)
80017f50:	8fc3001c 	lw	v1,28(s8)
80017f54:	3c02a000 	lui	v0,0xa000
80017f58:	00621021 	addu	v0,v1,v0
80017f5c:	8fc60020 	lw	a2,32(s8)
80017f60:	00402825 	move	a1,v0
80017f64:	0c0044d8 	jal	80011360 <memcpy>
80017f68:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:537

	return 0;
80017f6c:	00001025 	move	v0,zero
/home/git/21371068/kern/syscall_all.c:538
}
80017f70:	03c0e825 	move	sp,s8
80017f74:	8fbf0014 	lw	ra,20(sp)
80017f78:	8fbe0010 	lw	s8,16(sp)
80017f7c:	27bd0018 	addiu	sp,sp,24
80017f80:	03e00008 	jr	ra
80017f84:	00000000 	nop

80017f88 <do_syscall>:
do_syscall():
/home/git/21371068/kern/syscall_all.c:571
 *   Use sysno from $a0 to dispatch the syscall.
 *   The possible arguments are stored at $a1, $a2, $a3, [$sp + 16 bytes], [$sp + 20 bytes] in
 *   order.
 *   Number of arguments cannot exceed 5.
 */
void do_syscall(struct Trapframe *tf) {
80017f88:	27bdffc0 	addiu	sp,sp,-64
80017f8c:	afbf003c 	sw	ra,60(sp)
80017f90:	afbe0038 	sw	s8,56(sp)
80017f94:	03a0f025 	move	s8,sp
80017f98:	afc40040 	sw	a0,64(s8)
/home/git/21371068/kern/syscall_all.c:573
	int (*func)(u_int, u_int, u_int, u_int, u_int);
	int sysno = tf->regs[4];
80017f9c:	8fc20040 	lw	v0,64(s8)
80017fa0:	00000000 	nop
80017fa4:	8c420010 	lw	v0,16(v0)
80017fa8:	00000000 	nop
80017fac:	afc20018 	sw	v0,24(s8)
/home/git/21371068/kern/syscall_all.c:574
	if (sysno < 0 || sysno >= MAX_SYSNO) {
80017fb0:	8fc20018 	lw	v0,24(s8)
80017fb4:	00000000 	nop
80017fb8:	04400006 	bltz	v0,80017fd4 <do_syscall+0x4c>
80017fbc:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:574 (discriminator 1)
80017fc0:	8fc20018 	lw	v0,24(s8)
80017fc4:	00000000 	nop
80017fc8:	28420012 	slti	v0,v0,18
80017fcc:	14400006 	bnez	v0,80017fe8 <do_syscall+0x60>
80017fd0:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:575
		tf->regs[2] = -E_NO_SYS;
80017fd4:	8fc20040 	lw	v0,64(s8)
80017fd8:	2403fffb 	li	v1,-5
80017fdc:	ac430008 	sw	v1,8(v0)
/home/git/21371068/kern/syscall_all.c:576
		return;
80017fe0:	1000003f 	b	800180e0 <do_syscall+0x158>
80017fe4:	00000000 	nop
/home/git/21371068/kern/syscall_all.c:581
	}

	/* Step 1: Add the EPC in 'tf' by a word (size of an instruction). */
	/* Exercise 4.2: Your code here. (1/4) */
	tf->cp0_epc += 4;
80017fe8:	8fc20040 	lw	v0,64(s8)
80017fec:	00000000 	nop
80017ff0:	8c420094 	lw	v0,148(v0)
80017ff4:	00000000 	nop
80017ff8:	24430004 	addiu	v1,v0,4
80017ffc:	8fc20040 	lw	v0,64(s8)
80018000:	00000000 	nop
80018004:	ac430094 	sw	v1,148(v0)
/home/git/21371068/kern/syscall_all.c:584
	/* Step 2: Use 'sysno' to get 'func' from 'syscall_table'. */
	/* Exercise 4.2: Your code here. (2/4) */
	func = syscall_table[sysno];
80018008:	3c028002 	lui	v0,0x8002
8001800c:	8fc30018 	lw	v1,24(s8)
80018010:	00000000 	nop
80018014:	00031880 	sll	v1,v1,0x2
80018018:	244296a0 	addiu	v0,v0,-26976
8001801c:	00621021 	addu	v0,v1,v0
80018020:	8c420000 	lw	v0,0(v0)
80018024:	00000000 	nop
80018028:	afc2001c 	sw	v0,28(s8)
/home/git/21371068/kern/syscall_all.c:586
	/* Step 3: First 3 args are stored at $a1, $a2, $a3. */
	u_int arg1 = tf->regs[5];
8001802c:	8fc20040 	lw	v0,64(s8)
80018030:	00000000 	nop
80018034:	8c420014 	lw	v0,20(v0)
80018038:	00000000 	nop
8001803c:	afc20020 	sw	v0,32(s8)
/home/git/21371068/kern/syscall_all.c:587
	u_int arg2 = tf->regs[6];
80018040:	8fc20040 	lw	v0,64(s8)
80018044:	00000000 	nop
80018048:	8c420018 	lw	v0,24(v0)
8001804c:	00000000 	nop
80018050:	afc20024 	sw	v0,36(s8)
/home/git/21371068/kern/syscall_all.c:588
	u_int arg3 = tf->regs[7];
80018054:	8fc20040 	lw	v0,64(s8)
80018058:	00000000 	nop
8001805c:	8c42001c 	lw	v0,28(v0)
80018060:	00000000 	nop
80018064:	afc20028 	sw	v0,40(s8)
/home/git/21371068/kern/syscall_all.c:593

	/* Step 4: Last 2 args are stored in stack at [$sp + 16 bytes], [$sp + 20 bytes] */
	u_int arg4, arg5;
	/* Exercise 4.2: Your code here. (3/4) */
	arg4 = *((u_int *) (tf->regs[29] + 16));
80018068:	8fc20040 	lw	v0,64(s8)
8001806c:	00000000 	nop
80018070:	8c420074 	lw	v0,116(v0)
80018074:	00000000 	nop
80018078:	24420010 	addiu	v0,v0,16
8001807c:	8c420000 	lw	v0,0(v0)
80018080:	00000000 	nop
80018084:	afc2002c 	sw	v0,44(s8)
/home/git/21371068/kern/syscall_all.c:594
	arg5 = *((u_int *) (tf->regs[29] + 20));
80018088:	8fc20040 	lw	v0,64(s8)
8001808c:	00000000 	nop
80018090:	8c420074 	lw	v0,116(v0)
80018094:	00000000 	nop
80018098:	24420014 	addiu	v0,v0,20
8001809c:	8c420000 	lw	v0,0(v0)
800180a0:	00000000 	nop
800180a4:	afc20030 	sw	v0,48(s8)
/home/git/21371068/kern/syscall_all.c:598
	/* Step 5: Invoke 'func' with retrieved arguments and store its return value to $v0 in 'tf'.
	 */
	/* Exercise 4.2: Your code here. (4/4) */
		tf->regs[2] = func(arg1, arg2, arg3, arg4, arg5);
800180a8:	8fc20030 	lw	v0,48(s8)
800180ac:	00000000 	nop
800180b0:	afa20010 	sw	v0,16(sp)
800180b4:	8fc2001c 	lw	v0,28(s8)
800180b8:	8fc7002c 	lw	a3,44(s8)
800180bc:	8fc60028 	lw	a2,40(s8)
800180c0:	8fc50024 	lw	a1,36(s8)
800180c4:	8fc40020 	lw	a0,32(s8)
800180c8:	0040f809 	jalr	v0
800180cc:	00000000 	nop
800180d0:	00401825 	move	v1,v0
800180d4:	8fc20040 	lw	v0,64(s8)
800180d8:	00000000 	nop
800180dc:	ac430008 	sw	v1,8(v0)
/home/git/21371068/kern/syscall_all.c:599
}
800180e0:	03c0e825 	move	sp,s8
800180e4:	8fbf003c 	lw	ra,60(sp)
800180e8:	8fbe0038 	lw	s8,56(sp)
800180ec:	27bd0040 	addiu	sp,sp,64
800180f0:	03e00008 	jr	ra
800180f4:	00000000 	nop
	...

80018100 <tlb_out>:
tlb_out():
/home/git/21371068/kern/tlb_asm.S:5
#include <asm/asm.h>

LEAF(tlb_out)
.set noreorder
	mfc0    t0, CP0_ENTRYHI
80018100:	40085000 	mfc0	t0,c0_entryhi
/home/git/21371068/kern/tlb_asm.S:6
	mtc0    a0, CP0_ENTRYHI
80018104:	40845000 	mtc0	a0,c0_entryhi
/home/git/21371068/kern/tlb_asm.S:7
	nop
80018108:	00000000 	nop
/home/git/21371068/kern/tlb_asm.S:10
	/* Step 1: Use 'tlbp' to probe TLB entry */
	/* Exercise 2.8: Your code here. (1/2) */
    tlbp 
8001810c:	42000008 	tlbp
/home/git/21371068/kern/tlb_asm.S:11
	nop
80018110:	00000000 	nop
/home/git/21371068/kern/tlb_asm.S:13
	/* Step 2: Fetch the probe result from CP0.Index */
	mfc0    t1, CP0_INDEX
80018114:	40090000 	mfc0	t1,c0_index
80018118:	00000000 	nop
/home/git/21371068/kern/tlb_asm.S:15
.set reorder
	bltz    t1, NO_SUCH_ENTRY
8001811c:	05200005 	bltz	t1,80018134 <NO_SUCH_ENTRY>
80018120:	00000000 	nop
/home/git/21371068/kern/tlb_asm.S:17
.set noreorder
	mtc0    zero, CP0_ENTRYHI
80018124:	40805000 	mtc0	zero,c0_entryhi
/home/git/21371068/kern/tlb_asm.S:18
	mtc0    zero, CP0_ENTRYLO0
80018128:	40801000 	mtc0	zero,c0_entrylo
/home/git/21371068/kern/tlb_asm.S:19
	nop
8001812c:	00000000 	nop
/home/git/21371068/kern/tlb_asm.S:22
	/* Step 3: Use 'tlbwi' to write CP0.EntryHi/Lo into TLB at CP0.Index  */
	/* Exercise 2.8: Your code here. (2/2) */
    tlbwi
80018130:	42000002 	tlbwi

80018134 <NO_SUCH_ENTRY>:
/home/git/21371068/kern/tlb_asm.S:26
.set reorder

NO_SUCH_ENTRY:
	mtc0    t0, CP0_ENTRYHI
80018134:	40885000 	mtc0	t0,c0_entryhi
/home/git/21371068/kern/tlb_asm.S:27
	j       ra
80018138:	03e00008 	jr	ra
8001813c:	00000000 	nop

80018140 <do_tlb_refill>:
do_tlb_refill():
/home/git/21371068/kern/tlb_asm.S:35
.data
tlb_refill_ra:
.word 0
.text
NESTED(do_tlb_refill, 0, zero)
	mfc0    a0, CP0_BADVADDR
80018140:	40044000 	mfc0	a0,c0_badvaddr
/home/git/21371068/kern/tlb_asm.S:36
	mfc0    a1, CP0_ENTRYHI
80018144:	40055000 	mfc0	a1,c0_entryhi
80018148:	00000000 	nop
/home/git/21371068/kern/tlb_asm.S:37
	srl     a1, a1, 6
8001814c:	00052982 	srl	a1,a1,0x6
/home/git/21371068/kern/tlb_asm.S:38
	andi    a1, a1, 0b111111
80018150:	30a5003f 	andi	a1,a1,0x3f
/home/git/21371068/kern/tlb_asm.S:39
	sw      ra, tlb_refill_ra
80018154:	3c018002 	lui	at,0x8002
80018158:	ac3f96f0 	sw	ra,-26896(at)
/home/git/21371068/kern/tlb_asm.S:40
	jal     _do_tlb_refill
8001815c:	0c0060fb 	jal	800183ec <_do_tlb_refill>
80018160:	00000000 	nop
/home/git/21371068/kern/tlb_asm.S:41
	lw      ra, tlb_refill_ra
80018164:	3c1f8002 	lui	ra,0x8002
80018168:	8fff96f0 	lw	ra,-26896(ra)
/home/git/21371068/kern/tlb_asm.S:42
	mtc0    v0, CP0_ENTRYLO0
8001816c:	40821000 	mtc0	v0,c0_entrylo
/home/git/21371068/kern/tlb_asm.S:44
	// See <IDT R30xx Family Software Reference Manual> Chapter 6-8
	nop
80018170:	00000000 	nop
/home/git/21371068/kern/tlb_asm.S:47
	/* Hint: use 'tlbwr' to write CP0.EntryHi/Lo into a random tlb entry. */
	/* Exercise 2.10: Your code here. */
    tlbwr
80018174:	42000006 	tlbwr
/home/git/21371068/kern/tlb_asm.S:48
	jr      ra
80018178:	03e00008 	jr	ra
8001817c:	00000000 	nop

80018180 <passive_alloc>:
passive_alloc():
/home/git/21371068/kern/tlbex.c:4
#include <env.h>
#include <pmap.h>

static void passive_alloc(u_int va, Pde *pgdir, u_int asid) {
80018180:	27bdffd0 	addiu	sp,sp,-48
80018184:	afbf002c 	sw	ra,44(sp)
80018188:	afbe0028 	sw	s8,40(sp)
8001818c:	03a0f025 	move	s8,sp
80018190:	afc40030 	sw	a0,48(s8)
80018194:	afc50034 	sw	a1,52(s8)
80018198:	afc60038 	sw	a2,56(s8)
/home/git/21371068/kern/tlbex.c:5
  struct Page *p = NULL;
8001819c:	afc00020 	sw	zero,32(s8)
/home/git/21371068/kern/tlbex.c:7

  if (va < UTEMP) {
800181a0:	8fc30030 	lw	v1,48(s8)
800181a4:	3c02003f 	lui	v0,0x3f
800181a8:	3442e000 	ori	v0,v0,0xe000
800181ac:	0062102b 	sltu	v0,v1,v0
800181b0:	1040000d 	beqz	v0,800181e8 <passive_alloc+0x68>
800181b4:	00000000 	nop
/home/git/21371068/kern/tlbex.c:8
    panic("address too low at %x", va);
800181b8:	8fc20030 	lw	v0,48(s8)
800181bc:	00000000 	nop
800181c0:	afa20010 	sw	v0,16(sp)
800181c4:	3c028002 	lui	v0,0x8002
800181c8:	24479570 	addiu	a3,v0,-27280
800181cc:	3c028002 	lui	v0,0x8002
800181d0:	24469650 	addiu	a2,v0,-27056
800181d4:	24050008 	li	a1,8
800181d8:	3c028002 	lui	v0,0x8002
800181dc:	24449588 	addiu	a0,v0,-27256
800181e0:	0c004ff8 	jal	80013fe0 <_panic>
800181e4:	00000000 	nop
/home/git/21371068/kern/tlbex.c:11
  }

  if (va >= USTACKTOP && va < USTACKTOP + BY2PG) {
800181e8:	8fc30030 	lw	v1,48(s8)
800181ec:	3c027f3f 	lui	v0,0x7f3f
800181f0:	3442e000 	ori	v0,v0,0xe000
800181f4:	0062102b 	sltu	v0,v1,v0
800181f8:	14400010 	bnez	v0,8001823c <passive_alloc+0xbc>
800181fc:	00000000 	nop
/home/git/21371068/kern/tlbex.c:11 (discriminator 1)
80018200:	8fc30030 	lw	v1,48(s8)
80018204:	3c027f3f 	lui	v0,0x7f3f
80018208:	3442f000 	ori	v0,v0,0xf000
8001820c:	0062102b 	sltu	v0,v1,v0
80018210:	1040000a 	beqz	v0,8001823c <passive_alloc+0xbc>
80018214:	00000000 	nop
/home/git/21371068/kern/tlbex.c:12
    panic("invalid memory");
80018218:	3c028002 	lui	v0,0x8002
8001821c:	24479590 	addiu	a3,v0,-27248
80018220:	3c028002 	lui	v0,0x8002
80018224:	24469650 	addiu	a2,v0,-27056
80018228:	2405000c 	li	a1,12
8001822c:	3c028002 	lui	v0,0x8002
80018230:	24449588 	addiu	a0,v0,-27256
80018234:	0c004ff8 	jal	80013fe0 <_panic>
80018238:	00000000 	nop
/home/git/21371068/kern/tlbex.c:15
  }

  if (va >= UENVS && va < UPAGES) {
8001823c:	8fc30030 	lw	v1,48(s8)
80018240:	3c027f40 	lui	v0,0x7f40
80018244:	0062102b 	sltu	v0,v1,v0
80018248:	1440000f 	bnez	v0,80018288 <passive_alloc+0x108>
8001824c:	00000000 	nop
/home/git/21371068/kern/tlbex.c:15 (discriminator 1)
80018250:	8fc30030 	lw	v1,48(s8)
80018254:	3c027f80 	lui	v0,0x7f80
80018258:	0062102b 	sltu	v0,v1,v0
8001825c:	1040000a 	beqz	v0,80018288 <passive_alloc+0x108>
80018260:	00000000 	nop
/home/git/21371068/kern/tlbex.c:16
    panic("envs zone");
80018264:	3c028002 	lui	v0,0x8002
80018268:	244795a0 	addiu	a3,v0,-27232
8001826c:	3c028002 	lui	v0,0x8002
80018270:	24469650 	addiu	a2,v0,-27056
80018274:	24050010 	li	a1,16
80018278:	3c028002 	lui	v0,0x8002
8001827c:	24449588 	addiu	a0,v0,-27256
80018280:	0c004ff8 	jal	80013fe0 <_panic>
80018284:	00000000 	nop
/home/git/21371068/kern/tlbex.c:19
  }

  if (va >= UPAGES && va < UVPT) {
80018288:	8fc30030 	lw	v1,48(s8)
8001828c:	3c027f80 	lui	v0,0x7f80
80018290:	0062102b 	sltu	v0,v1,v0
80018294:	1440000f 	bnez	v0,800182d4 <passive_alloc+0x154>
80018298:	00000000 	nop
/home/git/21371068/kern/tlbex.c:19 (discriminator 1)
8001829c:	8fc30030 	lw	v1,48(s8)
800182a0:	3c027fc0 	lui	v0,0x7fc0
800182a4:	0062102b 	sltu	v0,v1,v0
800182a8:	1040000a 	beqz	v0,800182d4 <passive_alloc+0x154>
800182ac:	00000000 	nop
/home/git/21371068/kern/tlbex.c:20
    panic("pages zone");
800182b0:	3c028002 	lui	v0,0x8002
800182b4:	244795ac 	addiu	a3,v0,-27220
800182b8:	3c028002 	lui	v0,0x8002
800182bc:	24469650 	addiu	a2,v0,-27056
800182c0:	24050014 	li	a1,20
800182c4:	3c028002 	lui	v0,0x8002
800182c8:	24449588 	addiu	a0,v0,-27256
800182cc:	0c004ff8 	jal	80013fe0 <_panic>
800182d0:	00000000 	nop
/home/git/21371068/kern/tlbex.c:23
  }

  if (va >= ULIM) {
800182d4:	8fc20030 	lw	v0,48(s8)
800182d8:	00000000 	nop
800182dc:	0441000a 	bgez	v0,80018308 <passive_alloc+0x188>
800182e0:	00000000 	nop
/home/git/21371068/kern/tlbex.c:24
    panic("kernel address");
800182e4:	3c028002 	lui	v0,0x8002
800182e8:	244795b8 	addiu	a3,v0,-27208
800182ec:	3c028002 	lui	v0,0x8002
800182f0:	24469650 	addiu	a2,v0,-27056
800182f4:	24050018 	li	a1,24
800182f8:	3c028002 	lui	v0,0x8002
800182fc:	24449588 	addiu	a0,v0,-27256
80018300:	0c004ff8 	jal	80013fe0 <_panic>
80018304:	00000000 	nop
/home/git/21371068/kern/tlbex.c:27
  }

  panic_on(page_alloc(&p));
80018308:	27c20020 	addiu	v0,s8,32
8001830c:	00402025 	move	a0,v0
80018310:	0c0052b1 	jal	80014ac4 <page_alloc>
80018314:	00000000 	nop
80018318:	afc20018 	sw	v0,24(s8)
8001831c:	8fc20018 	lw	v0,24(s8)
80018320:	00000000 	nop
80018324:	1040000d 	beqz	v0,8001835c <passive_alloc+0x1dc>
80018328:	00000000 	nop
/home/git/21371068/kern/tlbex.c:27 (discriminator 1)
8001832c:	8fc20018 	lw	v0,24(s8)
80018330:	00000000 	nop
80018334:	afa20010 	sw	v0,16(sp)
80018338:	3c028002 	lui	v0,0x8002
8001833c:	244795c8 	addiu	a3,v0,-27192
80018340:	3c028002 	lui	v0,0x8002
80018344:	24469650 	addiu	a2,v0,-27056
80018348:	2405001b 	li	a1,27
8001834c:	3c028002 	lui	v0,0x8002
80018350:	24449588 	addiu	a0,v0,-27256
80018354:	0c004ff8 	jal	80013fe0 <_panic>
80018358:	00000000 	nop
/home/git/21371068/kern/tlbex.c:28
  panic_on(page_insert(pgdir, asid, p, PTE_ADDR(va), PTE_D));
8001835c:	8fc40020 	lw	a0,32(s8)
80018360:	8fc30030 	lw	v1,48(s8)
80018364:	2402f000 	li	v0,-4096
80018368:	00621824 	and	v1,v1,v0
8001836c:	24020400 	li	v0,1024
80018370:	afa20010 	sw	v0,16(sp)
80018374:	00603825 	move	a3,v1
80018378:	00803025 	move	a2,a0
8001837c:	8fc50038 	lw	a1,56(s8)
80018380:	8fc40034 	lw	a0,52(s8)
80018384:	0c005396 	jal	80014e58 <page_insert>
80018388:	00000000 	nop
8001838c:	afc2001c 	sw	v0,28(s8)
80018390:	8fc2001c 	lw	v0,28(s8)
80018394:	00000000 	nop
80018398:	1040000d 	beqz	v0,800183d0 <passive_alloc+0x250>
8001839c:	00000000 	nop
/home/git/21371068/kern/tlbex.c:28 (discriminator 1)
800183a0:	8fc2001c 	lw	v0,28(s8)
800183a4:	00000000 	nop
800183a8:	afa20010 	sw	v0,16(sp)
800183ac:	3c028002 	lui	v0,0x8002
800183b0:	244795e8 	addiu	a3,v0,-27160
800183b4:	3c028002 	lui	v0,0x8002
800183b8:	24469650 	addiu	a2,v0,-27056
800183bc:	2405001c 	li	a1,28
800183c0:	3c028002 	lui	v0,0x8002
800183c4:	24449588 	addiu	a0,v0,-27256
800183c8:	0c004ff8 	jal	80013fe0 <_panic>
800183cc:	00000000 	nop
/home/git/21371068/kern/tlbex.c:29
}
800183d0:	00000000 	nop
800183d4:	03c0e825 	move	sp,s8
800183d8:	8fbf002c 	lw	ra,44(sp)
800183dc:	8fbe0028 	lw	s8,40(sp)
800183e0:	27bd0030 	addiu	sp,sp,48
800183e4:	03e00008 	jr	ra
800183e8:	00000000 	nop

800183ec <_do_tlb_refill>:
_do_tlb_refill():
/home/git/21371068/kern/tlbex.c:34

/* Overview:
 *  Refill TLB.
 */
Pte _do_tlb_refill(u_long va, u_int asid) {
800183ec:	27bdffe0 	addiu	sp,sp,-32
800183f0:	afbf001c 	sw	ra,28(sp)
800183f4:	afbe0018 	sw	s8,24(sp)
800183f8:	03a0f025 	move	s8,sp
800183fc:	afc40020 	sw	a0,32(s8)
80018400:	afc50024 	sw	a1,36(s8)
/home/git/21371068/kern/tlbex.c:48
   * succeeds.
   */

  /* Exercise 2.9: Your code here. */
  // Page *pp = page_lookup(cur_pgdir, va, &pte);
  while (page_lookup(cur_pgdir, va, &pte) == NULL) {
80018404:	10000008 	b	80018428 <_do_tlb_refill+0x3c>
80018408:	00000000 	nop
/home/git/21371068/kern/tlbex.c:49
    passive_alloc(va, cur_pgdir, asid);
8001840c:	3c02800d 	lui	v0,0x800d
80018410:	8c42e024 	lw	v0,-8156(v0)
80018414:	8fc60024 	lw	a2,36(s8)
80018418:	00402825 	move	a1,v0
8001841c:	8fc40020 	lw	a0,32(s8)
80018420:	0c006060 	jal	80018180 <passive_alloc>
80018424:	00000000 	nop
/home/git/21371068/kern/tlbex.c:48
  while (page_lookup(cur_pgdir, va, &pte) == NULL) {
80018428:	3c02800d 	lui	v0,0x800d
8001842c:	8c42e024 	lw	v0,-8156(v0)
80018430:	27c30010 	addiu	v1,s8,16
80018434:	00603025 	move	a2,v1
80018438:	8fc50020 	lw	a1,32(s8)
8001843c:	00402025 	move	a0,v0
80018440:	0c005401 	jal	80015004 <page_lookup>
80018444:	00000000 	nop
80018448:	1040fff0 	beqz	v0,8001840c <_do_tlb_refill+0x20>
8001844c:	00000000 	nop
/home/git/21371068/kern/tlbex.c:52
  }
  // need to lookup one more time to renew pte.
  return *pte;
80018450:	8fc20010 	lw	v0,16(s8)
80018454:	00000000 	nop
80018458:	8c420000 	lw	v0,0(v0)
/home/git/21371068/kern/tlbex.c:53
}
8001845c:	03c0e825 	move	sp,s8
80018460:	8fbf001c 	lw	ra,28(sp)
80018464:	8fbe0018 	lw	s8,24(sp)
80018468:	27bd0020 	addiu	sp,sp,32
8001846c:	03e00008 	jr	ra
80018470:	00000000 	nop

80018474 <do_tlb_mod>:
do_tlb_mod():
/home/git/21371068/kern/tlbex.c:69
 *   'sys_set_user_tlb_mod_entry'.
 *
 *   The user entry should handle this TLB Mod exception and restore the
 * context.
 */
void do_tlb_mod(struct Trapframe *tf) {
80018474:	27bdff50 	addiu	sp,sp,-176
80018478:	afbf00ac 	sw	ra,172(sp)
8001847c:	afbe00a8 	sw	s8,168(sp)
80018480:	03a0f025 	move	s8,sp
80018484:	afc400b0 	sw	a0,176(s8)
/home/git/21371068/kern/tlbex.c:70
  struct Trapframe tmp_tf = *tf;
80018488:	8fc200b0 	lw	v0,176(s8)
8001848c:	27c40010 	addiu	a0,s8,16
80018490:	00401825 	move	v1,v0
80018494:	24020098 	li	v0,152
80018498:	00403025 	move	a2,v0
8001849c:	00602825 	move	a1,v1
800184a0:	0c0044d8 	jal	80011360 <memcpy>
800184a4:	00000000 	nop
/home/git/21371068/kern/tlbex.c:72

  if (tf->regs[29] < USTACKTOP || tf->regs[29] >= UXSTACKTOP) {
800184a8:	8fc200b0 	lw	v0,176(s8)
800184ac:	00000000 	nop
800184b0:	8c430074 	lw	v1,116(v0)
800184b4:	3c027f3f 	lui	v0,0x7f3f
800184b8:	3442e000 	ori	v0,v0,0xe000
800184bc:	0062102b 	sltu	v0,v1,v0
800184c0:	14400008 	bnez	v0,800184e4 <do_tlb_mod+0x70>
800184c4:	00000000 	nop
/home/git/21371068/kern/tlbex.c:72 (discriminator 1)
800184c8:	8fc200b0 	lw	v0,176(s8)
800184cc:	00000000 	nop
800184d0:	8c430074 	lw	v1,116(v0)
800184d4:	3c027f40 	lui	v0,0x7f40
800184d8:	0062102b 	sltu	v0,v1,v0
800184dc:	14400004 	bnez	v0,800184f0 <do_tlb_mod+0x7c>
800184e0:	00000000 	nop
/home/git/21371068/kern/tlbex.c:73
    tf->regs[29] = UXSTACKTOP;
800184e4:	8fc200b0 	lw	v0,176(s8)
800184e8:	3c037f40 	lui	v1,0x7f40
800184ec:	ac430074 	sw	v1,116(v0)
/home/git/21371068/kern/tlbex.c:75
  }
  tf->regs[29] -= sizeof(struct Trapframe);
800184f0:	8fc200b0 	lw	v0,176(s8)
800184f4:	00000000 	nop
800184f8:	8c420074 	lw	v0,116(v0)
800184fc:	00000000 	nop
80018500:	2443ff68 	addiu	v1,v0,-152
80018504:	8fc200b0 	lw	v0,176(s8)
80018508:	00000000 	nop
8001850c:	ac430074 	sw	v1,116(v0)
/home/git/21371068/kern/tlbex.c:76
  *(struct Trapframe *)tf->regs[29] = tmp_tf;
80018510:	8fc200b0 	lw	v0,176(s8)
80018514:	00000000 	nop
80018518:	8c420074 	lw	v0,116(v0)
8001851c:	00000000 	nop
80018520:	00401825 	move	v1,v0
80018524:	27c40010 	addiu	a0,s8,16
80018528:	24020098 	li	v0,152
8001852c:	00403025 	move	a2,v0
80018530:	00802825 	move	a1,a0
80018534:	00602025 	move	a0,v1
80018538:	0c0044d8 	jal	80011360 <memcpy>
8001853c:	00000000 	nop
/home/git/21371068/kern/tlbex.c:78

  if (curenv->env_user_tlb_mod_entry) {
80018540:	3c02800d 	lui	v0,0x800d
80018544:	8c42e000 	lw	v0,-8192(v0)
80018548:	00000000 	nop
8001854c:	8c4200d4 	lw	v0,212(v0)
80018550:	00000000 	nop
80018554:	10400018 	beqz	v0,800185b8 <do_tlb_mod+0x144>
80018558:	00000000 	nop
/home/git/21371068/kern/tlbex.c:79
    tf->regs[4] = tf->regs[29];
8001855c:	8fc200b0 	lw	v0,176(s8)
80018560:	00000000 	nop
80018564:	8c430074 	lw	v1,116(v0)
80018568:	8fc200b0 	lw	v0,176(s8)
8001856c:	00000000 	nop
80018570:	ac430010 	sw	v1,16(v0)
/home/git/21371068/kern/tlbex.c:80
    tf->regs[29] -= sizeof(tf->regs[4]);
80018574:	8fc200b0 	lw	v0,176(s8)
80018578:	00000000 	nop
8001857c:	8c420074 	lw	v0,116(v0)
80018580:	00000000 	nop
80018584:	2443fffc 	addiu	v1,v0,-4
80018588:	8fc200b0 	lw	v0,176(s8)
8001858c:	00000000 	nop
80018590:	ac430074 	sw	v1,116(v0)
/home/git/21371068/kern/tlbex.c:84
    // Hint: Set 'cp0_epc' in the context 'tf' to
    // 'curenv->env_user_tlb_mod_entry'.
    /* Exercise 4.11: Your code here. */
    tf->cp0_epc = curenv->env_user_tlb_mod_entry;
80018594:	3c02800d 	lui	v0,0x800d
80018598:	8c42e000 	lw	v0,-8192(v0)
8001859c:	00000000 	nop
800185a0:	8c4300d4 	lw	v1,212(v0)
800185a4:	8fc200b0 	lw	v0,176(s8)
800185a8:	00000000 	nop
800185ac:	ac430094 	sw	v1,148(v0)
/home/git/21371068/kern/tlbex.c:88
  } else {
    panic("TLB Mod but no user handler registered");
  }
}
800185b0:	1000000a 	b	800185dc <do_tlb_mod+0x168>
800185b4:	00000000 	nop
/home/git/21371068/kern/tlbex.c:86
    panic("TLB Mod but no user handler registered");
800185b8:	3c028002 	lui	v0,0x8002
800185bc:	24479628 	addiu	a3,v0,-27096
800185c0:	3c028002 	lui	v0,0x8002
800185c4:	24469660 	addiu	a2,v0,-27040
800185c8:	24050056 	li	a1,86
800185cc:	3c028002 	lui	v0,0x8002
800185d0:	24449588 	addiu	a0,v0,-27256
800185d4:	0c004ff8 	jal	80013fe0 <_panic>
800185d8:	00000000 	nop
/home/git/21371068/kern/tlbex.c:88
}
800185dc:	00000000 	nop
800185e0:	03c0e825 	move	sp,s8
800185e4:	8fbf00ac 	lw	ra,172(sp)
800185e8:	8fbe00a8 	lw	s8,168(sp)
800185ec:	27bd00b0 	addiu	sp,sp,176
800185f0:	03e00008 	jr	ra
800185f4:	00000000 	nop
	...

80018600 <do_reserved>:
do_reserved():
/home/git/21371068/kern/traps.c:26

/* Overview:
 *   The fallback handler when an unknown exception code is encountered.
 *   'genex.S' wraps this function in 'handle_reserved'.
 */
void do_reserved(struct Trapframe *tf) {
80018600:	27bdffe0 	addiu	sp,sp,-32
80018604:	afbf001c 	sw	ra,28(sp)
80018608:	afbe0018 	sw	s8,24(sp)
8001860c:	03a0f025 	move	s8,sp
80018610:	afc40020 	sw	a0,32(s8)
/home/git/21371068/kern/traps.c:27
	print_tf(tf);
80018614:	8fc40020 	lw	a0,32(s8)
80018618:	0c005a87 	jal	80016a1c <print_tf>
8001861c:	00000000 	nop
/home/git/21371068/kern/traps.c:28
	panic("Unknown ExcCode %2d", (tf->cp0_cause >> 2) & 0x1f);
80018620:	8fc20020 	lw	v0,32(s8)
80018624:	00000000 	nop
80018628:	8c420090 	lw	v0,144(v0)
8001862c:	00000000 	nop
80018630:	00021082 	srl	v0,v0,0x2
80018634:	3042001f 	andi	v0,v0,0x1f
80018638:	afa20010 	sw	v0,16(sp)
8001863c:	3c028002 	lui	v0,0x8002
80018640:	24479670 	addiu	a3,v0,-27024
80018644:	3c028002 	lui	v0,0x8002
80018648:	2446968c 	addiu	a2,v0,-26996
8001864c:	2405001c 	li	a1,28
80018650:	3c028002 	lui	v0,0x8002
80018654:	24449684 	addiu	a0,v0,-27004
80018658:	0c004ff8 	jal	80013fe0 <_panic>
8001865c:	00000000 	nop
/home/git/21371068/kern/traps.c:29
}
80018660:	00000000 	nop
80018664:	03c0e825 	move	sp,s8
80018668:	8fbf001c 	lw	ra,28(sp)
8001866c:	8fbe0018 	lw	s8,24(sp)
80018670:	27bd0020 	addiu	sp,sp,32
80018674:	03e00008 	jr	ra
80018678:	00000000 	nop
8001867c:	00000000 	nop
